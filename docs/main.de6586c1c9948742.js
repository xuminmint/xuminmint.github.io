"use strict";(self.webpackChunkweb_firebase=self.webpackChunkweb_firebase||[]).push([[179],{6304:(pt,xe,P)=>{P.d(xe,{Dh:()=>De,GT:()=>ce,cc:()=>Ae,hO:()=>Ve,on:()=>j,pX:()=>oe,xv:()=>pe});var d=P(5879),H=P(120),N=P(2793);pt=P.hmd(pt);const X=["ngOnDestroy"],oe=(Ne,bt,ht,le={})=>new Proxy(Ne,{get:(Pe,ue)=>ht.runOutsideAngular(()=>{var Ce;if(Ne[ue])return!(null===(Ce=le?.spy)||void 0===Ce)&&Ce.get&&le.spy.get(ue,Ne[ue]),Ne[ue];if(X.indexOf(ue)>-1)return()=>{};const Be=bt.toPromise().then(de=>{const Le=de&&de[ue];return"function"==typeof Le?Le.bind(de):Le&&Le.then?Le.then(Je=>ht.run(()=>Je)):ht.run(()=>Le)});return new Proxy(()=>{},{get:(de,Le)=>Be[Le],apply:(de,Le,Je)=>Be.then(Nt=>{var ln;const Mn=Nt&&Nt(...Je);return!(null===(ln=le?.spy)||void 0===ln)&&ln.apply&&le.spy.apply(ue,Je,Mn),Mn})})})}),ce=(Ne,bt)=>{bt.forEach(ht=>{Object.getOwnPropertyNames(ht.prototype||ht).forEach(le=>{Object.defineProperty(Ne.prototype,le,Object.getOwnPropertyDescriptor(ht.prototype||ht,le))})})};class we{constructor(bt){return bt}}const De=new d.OlP("angularfire2.app.options"),pe=new d.OlP("angularfire2.app.name");function j(Ne,bt,ht){const Pe="object"==typeof ht&&ht||{};Pe.name=Pe.name||"string"==typeof ht&&ht||"[DEFAULT]";const Ce=H.Z.apps.filter(Be=>Be&&Be.name===Pe.name)[0]||bt.runOutsideAngular(()=>H.Z.initializeApp(Ne,Pe));try{JSON.stringify(Ne)!==JSON.stringify(Ce.options)&&W("error",`${Ce.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new we(Ce)}const W=(Ne,...bt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ne](...bt)},ne={provide:we,useFactory:j,deps:[De,d.R0b,[new d.FiY,pe]]};let Ve=(()=>{class Ne{constructor(ht){H.Z.registerVersion("angularfire",N.q4.full,"core"),H.Z.registerVersion("angularfire",N.q4.full,"app-compat"),H.Z.registerVersion("angular",d.q4F.full,ht.toString())}static initializeApp(ht,le){return{ngModule:Ne,providers:[{provide:De,useValue:ht},{provide:pe,useValue:le}]}}}return Ne.\u0275fac=function(ht){return new(ht||Ne)(d.LFG(d.Lbi))},Ne.\u0275mod=d.oAB({type:Ne}),Ne.\u0275inj=d.cJS({providers:[ne]}),Ne})();function Ae(Ne,bt,ht,le,Pe){const[,ue,Ce]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===Ne)||[];if(ue)return function Ke(Ne,bt){try{return Ne.toString()===bt.toString()}catch{return Ne===bt}}(Pe,Ce)||(Qe("error",`${bt} was already initialized on the ${ht} Firebase App with different settings.${Re?" You may need to reload as Firebase is not HMR aware.":""}`),Qe("warn",{is:Pe,was:Ce})),ue;{const Be=le();return globalThis.\u0275AngularfireInstanceCache.push([Ne,Be,Pe]),Be}}const Re=!!pt.hot,Qe=(Ne,...bt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ne](...bt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(pt,xe,P)=>{P.d(xe,{q4:()=>$a,iC:()=>Hc,fc:()=>zl,HU:()=>Hl,vb:()=>qh,JM:()=>So,u3:()=>_n});var d=P(5879),H=P(4097),N=P(5861),X=P(4303),oe=P(9058),ce=P(4537),we=P(7879);const De=(x,D)=>D.some(A=>x instanceof A);let pe,j;const Ve=new WeakMap,Ae=new WeakMap,Ke=new WeakMap,Re=new WeakMap,Qe=new WeakMap;let ht={get(x,D,A){if(x instanceof IDBTransaction){if("done"===D)return Ae.get(x);if("objectStoreNames"===D)return x.objectStoreNames||Ke.get(x);if("store"===D)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Ce(x[D])},set:(x,D,A)=>(x[D]=A,!0),has:(x,D)=>x instanceof IDBTransaction&&("done"===D||"store"===D)||D in x};function ue(x){return"function"==typeof x?function Pe(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return j||(j=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...D){return x.apply(Be(this),D),Ce(Ve.get(this))}:function(...D){return Ce(x.apply(Be(this),D))}:function(D,...A){const V=x.call(Be(this),D,...A);return Ke.set(V,D.sort?D.sort():[D]),Ce(V)}}(x):(x instanceof IDBTransaction&&function bt(x){if(Ae.has(x))return;const D=new Promise((A,V)=>{const K=()=>{x.removeEventListener("complete",J),x.removeEventListener("error",ye),x.removeEventListener("abort",ye)},J=()=>{A(),K()},ye=()=>{V(x.error||new DOMException("AbortError","AbortError")),K()};x.addEventListener("complete",J),x.addEventListener("error",ye),x.addEventListener("abort",ye)});Ae.set(x,D)}(x),De(x,function W(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,ht):x)}function Ce(x){if(x instanceof IDBRequest)return function Ne(x){const D=new Promise((A,V)=>{const K=()=>{x.removeEventListener("success",J),x.removeEventListener("error",ye)},J=()=>{A(Ce(x.result)),K()},ye=()=>{V(x.error),K()};x.addEventListener("success",J),x.addEventListener("error",ye)});return D.then(A=>{A instanceof IDBCursor&&Ve.set(A,x)}).catch(()=>{}),Qe.set(D,x),D}(x);if(Re.has(x))return Re.get(x);const D=ue(x);return D!==x&&(Re.set(x,D),Qe.set(D,x)),D}const Be=x=>Qe.get(x),Je=["get","getKey","getAll","getAllKeys","count"],Nt=["put","add","delete","clear"],ln=new Map;function Mn(x,D){if(!(x instanceof IDBDatabase)||D in x||"string"!=typeof D)return;if(ln.get(D))return ln.get(D);const A=D.replace(/FromIndex$/,""),V=D!==A,K=Nt.includes(A);if(!(A in(V?IDBIndex:IDBObjectStore).prototype)||!K&&!Je.includes(A))return;const J=function(){var ye=(0,N.Z)(function*(tt,...Ze){const _t=this.transaction(tt,K?"readwrite":"readonly");let Ft=_t.store;return V&&(Ft=Ft.index(Ze.shift())),(yield Promise.all([Ft[A](...Ze),K&&_t.done]))[0]});return function(Ze){return ye.apply(this,arguments)}}();return ln.set(D,J),J}!function le(x){ht=x(ht)}(x=>({...x,get:(D,A,V)=>Mn(D,A)||x.get(D,A,V),has:(D,A)=>!!Mn(D,A)||x.has(D,A)}));const Ln="@firebase/installations",kn="0.6.4",Gn=1e4,ir=`w:${kn}`,se="FIS_v2",me="https://firebaseinstallations.googleapis.com/v1",ge=36e5,et=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ct(x){return x instanceof oe.ZR&&x.code.includes("request-failed")}function Wn({projectId:x}){return`${me}/projects/${x}/installations`}function Tt(x){return{token:x.token,requestStatus:2,expiresIn:En(x.expiresIn),creationTime:Date.now()}}function Vt(x,D){return rt.apply(this,arguments)}function rt(){return(rt=(0,N.Z)(function*(x,D){const V=(yield D.json()).error;return et.create("request-failed",{requestName:x,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function bn({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function Rn(x){return Te.apply(this,arguments)}function Te(){return(Te=(0,N.Z)(function*(x){const D=yield x();return D.status>=500&&D.status<600?x():D})).apply(this,arguments)}function En(x){return Number(x.replace("s","000"))}function Yn(){return(Yn=(0,N.Z)(function*({appConfig:x,heartbeatServiceProvider:D},{fid:A}){const V=Wn(x),K=bn(x),J=D.getImmediate({optional:!0});if(J){const _t=yield J.getHeartbeatsHeader();_t&&K.append("x-firebase-client",_t)}const tt={method:"POST",headers:K,body:JSON.stringify({fid:A,authVersion:se,appId:x.appId,sdkVersion:ir})},Ze=yield Rn(()=>fetch(V,tt));if(Ze.ok){const _t=yield Ze.json();return{fid:_t.fid||A,registrationStatus:2,refreshToken:_t.refreshToken,authToken:Tt(_t.authToken)}}throw yield Vt("Create Installation",Ze)})).apply(this,arguments)}function Vn(x){return new Promise(D=>{setTimeout(D,x)})}const lo=/^[cdef][\w-]{21}$/,Et="";function At(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const A=function Ht(x){return function Pi(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return lo.test(A)?A:Et}catch{return Et}}function xn(x){return`${x.appName}!${x.appId}`}const gi=new Map;function Yt(x,D){const A=xn(x);qr(A,D),function pn(x,D){const A=function nn(){return!Bn&&"BroadcastChannel"in self&&(Bn=new BroadcastChannel("[Firebase] FID Change"),Bn.onmessage=x=>{qr(x.data.key,x.data.fid)}),Bn}();A&&A.postMessage({key:x,fid:D}),function Dn(){0===gi.size&&Bn&&(Bn.close(),Bn=null)}()}(A,D)}function qr(x,D){const A=gi.get(x);if(A)for(const V of A)V(D)}let Bn=null;const Tr="firebase-installations-database",pr=1,_i="firebase-installations-store";let ei=null;function _e(){return ei||(ei=function de(x,D,{blocked:A,upgrade:V,blocking:K,terminated:J}={}){const ye=indexedDB.open(x,D),tt=Ce(ye);return V&&ye.addEventListener("upgradeneeded",Ze=>{V(Ce(ye.result),Ze.oldVersion,Ze.newVersion,Ce(ye.transaction))}),A&&ye.addEventListener("blocked",()=>A()),tt.then(Ze=>{J&&Ze.addEventListener("close",()=>J()),K&&Ze.addEventListener("versionchange",()=>K())}).catch(()=>{}),tt}(Tr,pr,{upgrade:(x,D)=>{0===D&&x.createObjectStore(_i)}})),ei}function Z(x,D){return ve.apply(this,arguments)}function ve(){return(ve=(0,N.Z)(function*(x,D){const A=xn(x),K=(yield _e()).transaction(_i,"readwrite"),J=K.objectStore(_i),ye=yield J.get(A);return yield J.put(D,A),yield K.done,(!ye||ye.fid!==D.fid)&&Yt(x,D.fid),D})).apply(this,arguments)}function We(x){return qe.apply(this,arguments)}function qe(){return(qe=(0,N.Z)(function*(x){const D=xn(x),V=(yield _e()).transaction(_i,"readwrite");yield V.objectStore(_i).delete(D),yield V.done})).apply(this,arguments)}function xt(x,D){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,N.Z)(function*(x,D){const A=xn(x),K=(yield _e()).transaction(_i,"readwrite"),J=K.objectStore(_i),ye=yield J.get(A),tt=D(ye);return void 0===tt?yield J.delete(A):yield J.put(tt,A),yield K.done,tt&&(!ye||ye.fid!==tt.fid)&&Yt(x,tt.fid),tt})).apply(this,arguments)}function $(x){return z.apply(this,arguments)}function z(){return z=(0,N.Z)(function*(x){let D;const A=yield xt(x.appConfig,V=>{const K=function F(x){return It(x||{fid:At(),registrationStatus:0})}(V),J=function L(x,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(et.create("app-offline"))};const A={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},V=function O(x,D){return ee.apply(this,arguments)}(x,A);return{installationEntry:A,registrationPromise:V}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Ie(x)}:{installationEntry:D}}(x,K);return D=J.registrationPromise,J.installationEntry});return A.fid===Et?{installationEntry:yield D}:{installationEntry:A,registrationPromise:D}}),z.apply(this,arguments)}function ee(){return ee=(0,N.Z)(function*(x,D){try{const A=yield function pi(x,D){return Yn.apply(this,arguments)}(x,D);return Z(x.appConfig,A)}catch(A){throw ct(A)&&409===A.customData.serverCode?yield We(x.appConfig):yield Z(x.appConfig,{fid:D.fid,registrationStatus:0}),A}}),ee.apply(this,arguments)}function Ie(x){return ut.apply(this,arguments)}function ut(){return(ut=(0,N.Z)(function*(x){let D=yield kt(x.appConfig);for(;1===D.registrationStatus;)yield Vn(100),D=yield kt(x.appConfig);if(0===D.registrationStatus){const{installationEntry:A,registrationPromise:V}=yield $(x);return V||A}return D})).apply(this,arguments)}function kt(x){return xt(x,D=>{if(!D)throw et.create("installation-not-found");return It(D)})}function It(x){return function vt(x){return 1===x.registrationStatus&&x.registrationTime+Gn<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Sn(){return(Sn=(0,N.Z)(function*({appConfig:x,heartbeatServiceProvider:D},A){const V=function Jt(x,{fid:D}){return`${Wn(x)}/${D}/authTokens:generate`}(x,A),K=function wn(x,{refreshToken:D}){const A=bn(x);return A.append("Authorization",function qn(x){return`${se} ${x}`}(D)),A}(x,A),J=D.getImmediate({optional:!0});if(J){const _t=yield J.getHeartbeatsHeader();_t&&K.append("x-firebase-client",_t)}const tt={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:ir,appId:x.appId}})},Ze=yield Rn(()=>fetch(V,tt));if(Ze.ok)return Tt(yield Ze.json());throw yield Vt("Generate Auth Token",Ze)})).apply(this,arguments)}function rr(x){return gr.apply(this,arguments)}function gr(){return gr=(0,N.Z)(function*(x,D=!1){let A;const V=yield xt(x.appConfig,J=>{if(!_r(J))throw et.create("not-registered");const ye=J.authToken;if(!D&&function ga(x){return 2===x.requestStatus&&!function fc(x){const D=Date.now();return D<x.creationTime||x.creationTime+x.expiresIn<D+ge}(x)}(ye))return J;if(1===ye.requestStatus)return A=function Ls(x,D){return uo.apply(this,arguments)}(x,D),J;{if(!navigator.onLine)throw et.create("app-offline");const tt=function _a(x){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:D})}(J);return A=function Uo(x,D){return hc.apply(this,arguments)}(x,tt),tt}});return A?yield A:V.authToken}),gr.apply(this,arguments)}function uo(){return(uo=(0,N.Z)(function*(x,D){let A=yield ho(x.appConfig);for(;1===A.authToken.requestStatus;)yield Vn(100),A=yield ho(x.appConfig);const V=A.authToken;return 0===V.requestStatus?rr(x,D):V})).apply(this,arguments)}function ho(x){return xt(x,D=>{if(!_r(D))throw et.create("not-registered");return function mc(x){return 1===x.requestStatus&&x.requestTime+Gn<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function hc(){return hc=(0,N.Z)(function*(x,D){try{const A=yield function zt(x,D){return Sn.apply(this,arguments)}(x,D),V=Object.assign(Object.assign({},D),{authToken:A});return yield Z(x.appConfig,V),A}catch(A){if(!ct(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const V=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Z(x.appConfig,V)}else yield We(x.appConfig);throw A}}),hc.apply(this,arguments)}function _r(x){return void 0!==x&&2===x.registrationStatus}function ya(){return(ya=(0,N.Z)(function*(x){const D=x,{installationEntry:A,registrationPromise:V}=yield $(D);return V?V.catch(console.error):rr(D).catch(console.error),A.fid})).apply(this,arguments)}function yr(){return yr=(0,N.Z)(function*(x,D=!1){const A=x;return yield function gh(x){return Vs.apply(this,arguments)}(A),(yield rr(A,D)).token}),yr.apply(this,arguments)}function Vs(){return(Vs=(0,N.Z)(function*(x){const{registrationPromise:D}=yield $(x);D&&(yield D)})).apply(this,arguments)}function Bs(x){return et.create("missing-app-config-values",{valueName:x})}const vh="installations",gm=x=>{const D=x.getProvider("app").getImmediate(),A=function Iu(x){if(!x||!x.options)throw Bs("App Configuration");if(!x.name)throw Bs("App Name");const D=["projectId","apiKey","appId"];for(const A of D)if(!x.options[A])throw Bs(A);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(D);return{app:D,appConfig:A,heartbeatServiceProvider:(0,X._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},ba=x=>{const D=x.getProvider("app").getImmediate(),A=(0,X._getProvider)(D,vh).getImmediate();return{getId:()=>function xu(x){return ya.apply(this,arguments)}(A),getToken:K=>function wl(x){return yr.apply(this,arguments)}(A,K)}};(function bh(){(0,X._registerComponent)(new ce.wA(vh,gm,"PUBLIC")),(0,X._registerComponent)(new ce.wA("installations-internal",ba,"PRIVATE"))})(),(0,X.registerVersion)(Ln,kn),(0,X.registerVersion)(Ln,kn,"esm2017");const gc="@firebase/remote-config",Nn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ia{constructor(D,A,V,K){this.client=D,this.storage=A,this.storageCache=V,this.logger=K}isCachedDataFresh(D,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-A,K=V<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${K}.`),K}fetch(D){var A=this;return(0,N.Z)(function*(){const[V,K]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(K&&A.isCachedDataFresh(D.cacheMaxAgeMillis,V))return K;D.eTag=K&&K.eTag;const J=yield A.client.fetch(D),ye=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===J.status&&ye.push(A.storage.setLastSuccessfulFetchResponse(J)),yield Promise.all(ye),J})()}}function El(x=navigator){return x.languages&&x.languages[0]||x.language}class cs{constructor(D,A,V,K,J,ye){this.firebaseInstallations=D,this.sdkVersion=A,this.namespace=V,this.projectId=K,this.apiKey=J,this.appId=ye}fetch(D){var A=this;return(0,N.Z)(function*(){const[V,K]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),ye=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,tt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Ze={sdk_version:A.sdkVersion,app_instance_id:V,app_instance_id_token:K,app_id:A.appId,language_code:El()},_t={method:"POST",headers:tt,body:JSON.stringify(Ze)},Ft=fetch(ye,_t),Bt=new Promise((no,Zo)=>{D.signal.addEventListener(()=>{const qa=new Error("The operation was aborted.");qa.name="AbortError",Zo(qa)})});let ji;try{yield Promise.race([Ft,Bt]),ji=yield Ft}catch(no){let Zo="fetch-client-network";throw"AbortError"===no?.name&&(Zo="fetch-timeout"),Nn.create(Zo,{originalErrorMessage:no?.message})}let si=ji.status;const ws=ji.headers.get("ETag")||void 0;let Qs,Es;if(200===ji.status){let no;try{no=yield ji.json()}catch(Zo){throw Nn.create("fetch-client-parse",{originalErrorMessage:Zo?.message})}Qs=no.entries,Es=no.state}if("INSTANCE_STATE_UNSPECIFIED"===Es?si=500:"NO_CHANGE"===Es?si=304:("NO_TEMPLATE"===Es||"EMPTY_CONFIG"===Es)&&(Qs={}),304!==si&&200!==si)throw Nn.create("fetch-status",{httpStatus:si});return{status:si,eTag:ws,config:Qs}})()}}class Us{constructor(D,A){this.client=D,this.storage=A}fetch(D){var A=this;return(0,N.Z)(function*(){const V=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(D,V)})()}attemptFetch(D,{throttleEndTimeMillis:A,backoffCount:V}){var K=this;return(0,N.Z)(function*(){yield function Hn(x,D){return new Promise((A,V)=>{const K=Math.max(D-Date.now(),0),J=setTimeout(A,K);x.addEventListener(()=>{clearTimeout(J),V(Nn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,A);try{const J=yield K.client.fetch(D);return yield K.storage.deleteThrottleMetadata(),J}catch(J){if(!function Ca(x){if(!(x instanceof oe.ZR&&x.customData))return!1;const D=Number(x.customData.httpStatus);return 429===D||500===D||503===D||504===D}(J))throw J;const ye={throttleEndTimeMillis:Date.now()+(0,oe.$s)(V),backoffCount:V+1};return yield K.storage.setThrottleMetadata(ye),K.attemptFetch(D,ye)}})()}}class wh{constructor(D,A,V,K,J){this.app=D,this._client=A,this._storageCache=V,this._storage=K,this._logger=J,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Mr(x,D){const A=x.target.error||void 0;return Nn.create(D,{originalErrorMessage:A&&A?.message})}const Li="app_namespace_store";class Av{constructor(D,A,V,K=function on(){return new Promise((x,D)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=V=>{D(Mr(V,"storage-open"))},A.onsuccess=V=>{x(V.target.result)},A.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(Li,{keyPath:"compositeKey"})}}catch(A){D(Nn.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=D,this.appName=A,this.namespace=V,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var A=this;return(0,N.Z)(function*(){const V=yield A.openDbPromise;return new Promise((K,J)=>{const tt=V.transaction([Li],"readonly").objectStore(Li),Ze=A.createCompositeKey(D);try{const _t=tt.get(Ze);_t.onerror=Ft=>{J(Mr(Ft,"storage-get"))},_t.onsuccess=Ft=>{const Bt=Ft.target.result;K(Bt?Bt.value:void 0)}}catch(_t){J(Nn.create("storage-get",{originalErrorMessage:_t?.message}))}})})()}set(D,A){var V=this;return(0,N.Z)(function*(){const K=yield V.openDbPromise;return new Promise((J,ye)=>{const Ze=K.transaction([Li],"readwrite").objectStore(Li),_t=V.createCompositeKey(D);try{const Ft=Ze.put({compositeKey:_t,value:A});Ft.onerror=Bt=>{ye(Mr(Bt,"storage-set"))},Ft.onsuccess=()=>{J()}}catch(Ft){ye(Nn.create("storage-set",{originalErrorMessage:Ft?.message}))}})})()}delete(D){var A=this;return(0,N.Z)(function*(){const V=yield A.openDbPromise;return new Promise((K,J)=>{const tt=V.transaction([Li],"readwrite").objectStore(Li),Ze=A.createCompositeKey(D);try{const _t=tt.delete(Ze);_t.onerror=Ft=>{J(Mr(Ft,"storage-delete"))},_t.onsuccess=()=>{K()}}catch(_t){J(Nn.create("storage-delete",{originalErrorMessage:_t?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class xl{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,N.Z)(function*(){const A=D.storage.getLastFetchStatus(),V=D.storage.getLastSuccessfulFetchTimestampMillis(),K=D.storage.getActiveConfig(),J=yield A;J&&(D.lastFetchStatus=J);const ye=yield V;ye&&(D.lastSuccessfulFetchTimestampMillis=ye);const tt=yield K;tt&&(D.activeConfig=tt)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function ds(){return mo.apply(this,arguments)}function mo(){return(mo=(0,N.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function Eh(){(0,X._registerComponent)(new ce.wA("remote-config",function x(D,{instanceIdentifier:A}){const V=D.getProvider("app").getImmediate(),K=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Nn.create("registration-window");if(!(0,oe.hl)())throw Nn.create("indexed-db-unavailable");const{projectId:J,apiKey:ye,appId:tt}=V.options;if(!J)throw Nn.create("registration-project-id");if(!ye)throw Nn.create("registration-api-key");if(!tt)throw Nn.create("registration-app-id");const Ze=new Av(tt,V.name,A=A||"firebase"),_t=new xl(Ze),Ft=new we.Yd(gc);Ft.logLevel=we.in.ERROR;const Bt=new cs(K,X.SDK_VERSION,A,J,ye,tt),ji=new Us(Bt,Ze),si=new Ia(ji,Ze,_t,Ft),ws=new wh(V,si,_t,Ze,Ft);return function qt(x){const D=(0,oe.m9)(x);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(ws),ws},"PUBLIC").setMultipleInstances(!0)),(0,X.registerVersion)(gc,"0.4.4"),(0,X.registerVersion)(gc,"0.4.4","esm2017")}();const Zn=(x,D)=>D.some(A=>x instanceof A);let xh,Wi;const po=new WeakMap,Da=new WeakMap,Vi=new WeakMap,bc=new WeakMap,Il=new WeakMap;let Cl={get(x,D,A){if(x instanceof IDBTransaction){if("done"===D)return Da.get(x);if("objectStoreNames"===D)return x.objectStoreNames||Vi.get(x);if("store"===D)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Fr(x[D])},set:(x,D,A)=>(x[D]=A,!0),has:(x,D)=>x instanceof IDBTransaction&&("done"===D||"store"===D)||D in x};function Bg(x){return"function"==typeof x?function Vg(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Su(){return Wi||(Wi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...D){return x.apply(Ug(this),D),Fr(po.get(this))}:function(...D){return Fr(x.apply(Ug(this),D))}:function(D,...A){const V=x.call(Ug(this),D,...A);return Vi.set(V,D.sort?D.sort():[D]),Fr(V)}}(x):(x instanceof IDBTransaction&&function Lg(x){if(Da.has(x))return;const D=new Promise((A,V)=>{const K=()=>{x.removeEventListener("complete",J),x.removeEventListener("error",ye),x.removeEventListener("abort",ye)},J=()=>{A(),K()},ye=()=>{V(x.error||new DOMException("AbortError","AbortError")),K()};x.addEventListener("complete",J),x.addEventListener("error",ye),x.addEventListener("abort",ye)});Da.set(x,D)}(x),Zn(x,function ti(){return xh||(xh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,Cl):x)}function Fr(x){if(x instanceof IDBRequest)return function ym(x){const D=new Promise((A,V)=>{const K=()=>{x.removeEventListener("success",J),x.removeEventListener("error",ye)},J=()=>{A(Fr(x.result)),K()},ye=()=>{V(x.error),K()};x.addEventListener("success",J),x.addEventListener("error",ye)});return D.then(A=>{A instanceof IDBCursor&&po.set(A,x)}).catch(()=>{}),Il.set(D,x),D}(x);if(bc.has(x))return bc.get(x);const D=Bg(x);return D!==x&&(bc.set(x,D),Il.set(D,x)),D}const Ug=x=>Il.get(x);function Ih(x,D,{blocked:A,upgrade:V,blocking:K,terminated:J}={}){const ye=indexedDB.open(x,D),tt=Fr(ye);return V&&ye.addEventListener("upgradeneeded",Ze=>{V(Fr(ye.result),Ze.oldVersion,Ze.newVersion,Fr(ye.transaction))}),A&&ye.addEventListener("blocked",()=>A()),tt.then(Ze=>{J&&Ze.addEventListener("close",()=>J()),K&&Ze.addEventListener("versionchange",()=>K())}).catch(()=>{}),tt}function go(x,{blocked:D}={}){const A=indexedDB.deleteDatabase(x);return D&&A.addEventListener("blocked",()=>D()),Fr(A).then(()=>{})}const wc=["get","getKey","getAll","getAllKeys","count"],Dl=["put","add","delete","clear"],vm=new Map;function jg(x,D){if(!(x instanceof IDBDatabase)||D in x||"string"!=typeof D)return;if(vm.get(D))return vm.get(D);const A=D.replace(/FromIndex$/,""),V=D!==A,K=Dl.includes(A);if(!(A in(V?IDBIndex:IDBObjectStore).prototype)||!K&&!wc.includes(A))return;const J=function(){var ye=(0,N.Z)(function*(tt,...Ze){const _t=this.transaction(tt,K?"readwrite":"readonly");let Ft=_t.store;return V&&(Ft=Ft.index(Ze.shift())),(yield Promise.all([Ft[A](...Ze),K&&_t.done]))[0]});return function(Ze){return ye.apply(this,arguments)}}();return vm.set(D,J),J}!function Sa(x){Cl=x(Cl)}(x=>({...x,get:(D,A,V)=>jg(D,A)||x.get(D,A,V),has:(D,A)=>!!jg(D,A)||x.has(D,A)}));const Hg="/firebase-messaging-sw.js",zg="/firebase-cloud-messaging-push-scope",hs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bm="https://fcmregistrations.googleapis.com/v1",Tu="google.c.a.c_id",di="google.c.a.c_l",Ch="google.c.a.ts";var Au=function(x){return x.PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",x}(Au||{});function _o(x){const D=new Uint8Array(x);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Mu(x){const A=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(A),K=new Uint8Array(V.length);for(let J=0;J<V.length;++J)K[J]=V.charCodeAt(J);return K}const Ta="fcm_token_details_db",wm=5,Dh="fcm_token_object_Store";function Aa(){return Aa=(0,N.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(J=>J.name).includes(Ta))return null;let D=null;return(yield Ih(Ta,wm,{upgrade:(V=(0,N.Z)(function*(K,J,ye,tt){var Ze;if(J<2||!K.objectStoreNames.contains(Dh))return;const _t=tt.objectStore(Dh),Ft=yield _t.index("fcmSenderId").get(x);if(yield _t.clear(),Ft)if(2===J){const Bt=Ft;if(!Bt.auth||!Bt.p256dh||!Bt.endpoint)return;D={token:Bt.fcmToken,createTime:null!==(Ze=Bt.createTime)&&void 0!==Ze?Ze:Date.now(),subscriptionOptions:{auth:Bt.auth,p256dh:Bt.p256dh,endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:"string"==typeof Bt.vapidKey?Bt.vapidKey:_o(Bt.vapidKey)}}}else if(3===J){const Bt=Ft;D={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:_o(Bt.auth),p256dh:_o(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:_o(Bt.vapidKey)}}}else if(4===J){const Bt=Ft;D={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:_o(Bt.auth),p256dh:_o(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:_o(Bt.vapidKey)}}}}),function(J,ye,tt,Ze){return V.apply(this,arguments)})})).close(),yield go(Ta),yield go("fcm_vapid_details_db"),yield go("undefined"),function Vr(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:D}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var V}),Aa.apply(this,arguments)}const Ma="firebase-messaging-database",Xn=1,wr="firebase-messaging-store";let Sh=null;function ka(){return Sh||(Sh=Ih(Ma,Xn,{upgrade:(x,D)=>{0===D&&x.createObjectStore(wr)}})),Sh}function Ra(x){return Ho.apply(this,arguments)}function Ho(){return Ho=(0,N.Z)(function*(x){const D=Ou(x),V=yield(yield ka()).transaction(wr).objectStore(wr).get(D);if(V)return V;{const K=yield function Mv(x){return Aa.apply(this,arguments)}(x.appConfig.senderId);if(K)return yield Ec(x,K),K}}),Ho.apply(this,arguments)}function Ec(x,D){return ku.apply(this,arguments)}function ku(){return(ku=(0,N.Z)(function*(x,D){const A=Ou(x),K=(yield ka()).transaction(wr,"readwrite");return yield K.objectStore(wr).put(D,A),yield K.done,D})).apply(this,arguments)}function ms(){return(ms=(0,N.Z)(function*(x){const D=Ou(x),V=(yield ka()).transaction(wr,"readwrite");yield V.objectStore(wr).delete(D),yield V.done})).apply(this,arguments)}function Ou({appConfig:x}){return x.appId}const qi=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Em(x,D){return xm.apply(this,arguments)}function xm(){return(xm=(0,N.Z)(function*(x,D){const A=yield Sl(x),V=Im(D),K={method:"POST",headers:A,body:JSON.stringify(V)};let J;try{J=yield(yield fetch(zo(x.appConfig),K)).json()}catch(ye){throw qi.create("token-subscribe-failed",{errorInfo:ye?.toString()})}if(J.error)throw qi.create("token-subscribe-failed",{errorInfo:J.error.message});if(!J.token)throw qi.create("token-subscribe-no-token");return J.token})).apply(this,arguments)}function Hs(){return(Hs=(0,N.Z)(function*(x,D){const A=yield Sl(x),V=Im(D.subscriptionOptions),K={method:"PATCH",headers:A,body:JSON.stringify(V)};let J;try{J=yield(yield fetch(`${zo(x.appConfig)}/${D.token}`,K)).json()}catch(ye){throw qi.create("token-update-failed",{errorInfo:ye?.toString()})}if(J.error)throw qi.create("token-update-failed",{errorInfo:J.error.message});if(!J.token)throw qi.create("token-update-no-token");return J.token})).apply(this,arguments)}function Nu(x,D){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,N.Z)(function*(x,D){const V={method:"DELETE",headers:yield Sl(x)};try{const J=yield(yield fetch(`${zo(x.appConfig)}/${D}`,V)).json();if(J.error)throw qi.create("token-unsubscribe-failed",{errorInfo:J.error.message})}catch(K){throw qi.create("token-unsubscribe-failed",{errorInfo:K?.toString()})}})).apply(this,arguments)}function zo({projectId:x}){return`${bm}/projects/${x}/registrations`}function Sl(x){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,N.Z)(function*({appConfig:x,installations:D}){const A=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function Im({p256dh:x,auth:D,endpoint:A,vapidKey:V}){const K={web:{endpoint:A,auth:D,p256dh:x}};return V!==hs&&(K.web.applicationPubKey=V),K}const Pu=6048e5;function Tl(){return Tl=(0,N.Z)(function*(x){const D=yield function kl(x,D){return Oa.apply(this,arguments)}(x.swRegistration,x.vapidKey),A={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:D.endpoint,auth:_o(D.getKey("auth")),p256dh:_o(D.getKey("p256dh"))},V=yield Ra(x.firebaseDependencies);if(V){if(function Ii(x,D){return D.vapidKey===x.vapidKey&&D.endpoint===x.endpoint&&D.auth===x.auth&&D.p256dh===x.p256dh}(V.subscriptionOptions,A))return Date.now()>=V.createTime+Pu?function $o(x,D){return Dc.apply(this,arguments)}(x,{token:V.token,createTime:Date.now(),subscriptionOptions:A}):V.token;try{yield Nu(x.firebaseDependencies,V.token)}catch(K){console.warn(K)}return Ah(x.firebaseDependencies,A)}return Ah(x.firebaseDependencies,A)}),Tl.apply(this,arguments)}function Ml(){return Ml=(0,N.Z)(function*(x){const D=yield Ra(x.firebaseDependencies);D&&(yield Nu(x.firebaseDependencies,D.token),yield function Ru(x){return ms.apply(this,arguments)}(x.firebaseDependencies));const A=yield x.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),Ml.apply(this,arguments)}function Dc(){return Dc=(0,N.Z)(function*(x,D){try{const A=yield function Th(x,D){return Hs.apply(this,arguments)}(x.firebaseDependencies,D),V=Object.assign(Object.assign({},D),{token:A,createTime:Date.now()});return yield Ec(x.firebaseDependencies,V),A}catch(A){throw yield function Al(x){return Ml.apply(this,arguments)}(x),A}}),Dc.apply(this,arguments)}function Ah(x,D){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,N.Z)(function*(x,D){const V={token:yield Em(x,D),createTime:Date.now(),subscriptionOptions:D};return yield Ec(x,V),V.token})).apply(this,arguments)}function Oa(){return(Oa=(0,N.Z)(function*(x,D){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Mu(D)})})).apply(this,arguments)}function Na(x){const D={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function Mh(x,D){if(!D.notification)return;x.notification={};const A=D.notification.title;A&&(x.notification.title=A);const V=D.notification.body;V&&(x.notification.body=V);const K=D.notification.image;K&&(x.notification.image=K);const J=D.notification.icon;J&&(x.notification.icon=J)}(D,x),function Kr(x,D){D.data&&(x.data=D.data)}(D,x),function kr(x,D){var A,V,K,J,ye;if(!(D.fcmOptions||null!==(A=D.notification)&&void 0!==A&&A.click_action))return;x.fcmOptions={};const tt=null!==(K=null===(V=D.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==K?K:null===(J=D.notification)||void 0===J?void 0:J.click_action;tt&&(x.fcmOptions.link=tt);const Ze=null===(ye=D.fcmOptions)||void 0===ye?void 0:ye.analytics_label;Ze&&(x.fcmOptions.analyticsLabel=Ze)}(D,x),D}function kh(x,D){const A=[];for(let V=0;V<x.length;V++)A.push(x.charAt(V)),V<D.length&&A.push(D.charAt(V));return A.join("")}function Yr(x){return qi.create("missing-app-config-values",{valueName:x})}kh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),kh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Tc{constructor(D,A,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function Sc(x){if(!x||!x.options)throw Yr("App Configuration Object");if(!x.name)throw Yr("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:A}=x;for(const V of D)if(!A[V])throw Yr(V);return{appName:x.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:K,installations:A,analyticsProvider:V}}_delete(){return Promise.resolve()}}function zs(){return(zs=(0,N.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(Hg,{scope:zg}),x.swRegistration.update().catch(()=>{})}catch(D){throw qi.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function ps(){return(ps=(0,N.Z)(function*(x,D){if(!D&&!x.swRegistration&&(yield function Rl(x){return zs.apply(this,arguments)}(x)),D||!x.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw qi.create("invalid-sw-registration");x.swRegistration=D}})).apply(this,arguments)}function Pt(){return(Pt=(0,N.Z)(function*(x,D){D?x.vapidKey=D:x.vapidKey||(x.vapidKey=hs)})).apply(this,arguments)}function Oh(){return Oh=(0,N.Z)(function*(x,D){if(!navigator)throw qi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qi.create("permission-blocked");return yield function Rh(x,D){return Pt.apply(this,arguments)}(x,D?.vapidKey),yield function Ol(x,D){return ps.apply(this,arguments)}(x,D?.serviceWorkerRegistration),function Cm(x){return Tl.apply(this,arguments)}(x)}),Oh.apply(this,arguments)}function Ac(){return(Ac=(0,N.Z)(function*(x,D,A){const V=function Dm(x){switch(x){case Au.NOTIFICATION_CLICKED:return"notification_open";case Au.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:A[Tu],message_name:A[di],message_time:A[Ch],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qr(){return Qr=(0,N.Z)(function*(x,D){const A=D.data;if(!A.isFirebaseMessaging)return;x.onMessageHandler&&A.messageType===Au.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(Na(A)):x.onMessageHandler.next(Na(A)));const V=A.data;(function Fu(x){return"object"==typeof x&&!!x&&Tu in x})(V)&&"1"===V["google.c.a.e"]&&(yield function Nh(x,D,A){return Ac.apply(this,arguments)}(x,A.messageType,V))}),Qr.apply(this,arguments)}const Nl="@firebase/messaging",$g=x=>{const D=new Tc(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function gs(x,D){return Qr.apply(this,arguments)}(D,A)),D},Fh=x=>{const D=x.getProvider("messaging").getImmediate();return{getToken:V=>function Lu(x,D){return Oh.apply(this,arguments)}(D,V)}};function Oe(){return an.apply(this,arguments)}function an(){return(an=(0,N.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Sm(){(0,X._registerComponent)(new ce.wA("messaging",$g,"PUBLIC")),(0,X._registerComponent)(new ce.wA("messaging-internal",Fh,"PRIVATE")),(0,X.registerVersion)(Nl,"0.12.4"),(0,X.registerVersion)(Nl,"0.12.4","esm2017")}();const Go="analytics",Vh="firebase_id",Bh="origin",sr=6e4,vo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bu="https://www.googletagmanager.com/gtag/js",Jn=new we.Yd("@firebase/analytics"),Ci=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Rc(x){if(!x.startsWith(Bu)){const D=Ci.create("invalid-gtag-resource",{gtagURL:x});return Jn.warn(D.message),""}return x}function Tm(x){return Promise.all(x.map(D=>D.catch(A=>A)))}function Pa(){return(Pa=(0,N.Z)(function*(x,D,A,V,K,J){const ye=V[K];try{if(ye)yield D[ye];else{const Ze=(yield Tm(A)).find(_t=>_t.measurementId===K);Ze&&(yield D[Ze.appId])}}catch(tt){Jn.error(tt)}x("config",K,J)})).apply(this,arguments)}function Oc(){return(Oc=(0,N.Z)(function*(x,D,A,V,K){try{let J=[];if(K&&K.send_to){let ye=K.send_to;Array.isArray(ye)||(ye=[ye]);const tt=yield Tm(A);for(const Ze of ye){const _t=tt.find(Bt=>Bt.measurementId===Ze),Ft=_t&&D[_t.appId];if(!Ft){J=[];break}J.push(Ft)}}0===J.length&&(J=Object.values(D)),yield Promise.all(J),x("event",V,K||{})}catch(J){Jn.error(J)}})).apply(this,arguments)}const Am=30,ri=new class jh{constructor(D={},A=1e3){this.throttleMetadata=D,this.intervalMillis=A}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,A){this.throttleMetadata[D]=A}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function qg(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function _s(){return(_s=(0,N.Z)(function*(x){var D;const{appId:A,apiKey:V}=x,K={method:"GET",headers:qg(V)},J=vo.replace("{app-id}",A),ye=yield fetch(J,K);if(200!==ye.status&&304!==ye.status){let tt="";try{const Ze=yield ye.json();null!==(D=Ze.error)&&void 0!==D&&D.message&&(tt=Ze.error.message)}catch{}throw Ci.create("config-fetch-failed",{httpStatus:ye.status,responseMessage:tt})}return ye.json()})).apply(this,arguments)}function $u(){return($u=(0,N.Z)(function*(x,D=ri,A){const{appId:V,apiKey:K,measurementId:J}=x.options;if(!V)throw Ci.create("no-app-id");if(!K){if(J)return{measurementId:J,appId:V};throw Ci.create("no-api-key")}const ye=D.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},tt=new Fl;return setTimeout((0,N.Z)(function*(){tt.abort()}),void 0!==A?A:sr),Mm({appId:V,apiKey:K,measurementId:J},ye,tt,D)})).apply(this,arguments)}function Mm(x,D,A){return Gs.apply(this,arguments)}function Gs(){return Gs=(0,N.Z)(function*(x,{throttleEndTimeMillis:D,backoffCount:A},V,K=ri){var J;const{appId:ye,measurementId:tt}=x;try{yield function km(x,D){return new Promise((A,V)=>{const K=Math.max(D-Date.now(),0),J=setTimeout(A,K);x.addEventListener(()=>{clearTimeout(J),V(Ci.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(V,D)}catch(Ze){if(tt)return Jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${Ze?.message}]`),{appId:ye,measurementId:tt};throw Ze}try{const Ze=yield function Ki(x){return _s.apply(this,arguments)}(x);return K.deleteThrottleMetadata(ye),Ze}catch(Ze){const _t=Ze;if(!function La(x){if(!(x instanceof oe.ZR&&x.customData))return!1;const D=Number(x.customData.httpStatus);return 429===D||500===D||503===D||504===D}(_t)){if(K.deleteThrottleMetadata(ye),tt)return Jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${_t?.message}]`),{appId:ye,measurementId:tt};throw Ze}const Ft=503===Number(null===(J=_t?.customData)||void 0===J?void 0:J.httpStatus)?(0,oe.$s)(A,K.intervalMillis,Am):(0,oe.$s)(A,K.intervalMillis),Bt={throttleEndTimeMillis:Date.now()+Ft,backoffCount:A+1};return K.setThrottleMetadata(ye,Bt),Jn.debug(`Calling attemptFetch again in ${Ft} millis`),Mm(x,Bt,V,K)}}),Gs.apply(this,arguments)}class Fl{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Wo,zh;function Hh(){return(Hh=(0,N.Z)(function*(x,D,A,V,K){if(K&&K.global)x("event",A,V);else{const J=yield D;x("event",A,Object.assign(Object.assign({},V),{send_to:J}))}})).apply(this,arguments)}function Bl(){return(Bl=(0,N.Z)(function*(){if(!(0,oe.hl)())return Jn.warn(Ci.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(x){return Jn.warn(Ci.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function Lc(){return Lc=(0,N.Z)(function*(x,D,A,V,K,J,ye){var tt;const Ze=function Kn(x){return $u.apply(this,arguments)}(x);Ze.then(si=>{A[si.measurementId]=si.appId,x.options.measurementId&&si.measurementId!==x.options.measurementId&&Jn.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${si.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(si=>Jn.error(si)),D.push(Ze);const _t=function Nm(){return Bl.apply(this,arguments)}().then(si=>{if(si)return V.getId()}),[Ft,Bt]=yield Promise.all([Ze,_t]);(function zu(x){const D=window.document.getElementsByTagName("script");for(const A of Object.values(D))if(A.src&&A.src.includes(Bu)&&A.src.includes(x))return A;return null})(J)||function Uu(x,D){const A=function Pl(x,D){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(x,D)),A}("firebase-js-sdk-policy",{createScriptURL:Rc}),V=document.createElement("script"),K=`${Bu}?l=${x}&id=${D}`;V.src=A?A?.createScriptURL(K):K,V.async=!0,document.head.appendChild(V)}(J,Ft.measurementId),zh&&(K("consent","default",zh),function Vl(x){zh=x}(void 0)),K("js",new Date);const ji=null!==(tt=ye?.config)&&void 0!==tt?tt:{};return ji[Bh]="firebase",ji.update=!0,null!=Bt&&(ji[Vh]=Bt),K("config",Ft.measurementId,ji),Wo&&(K("set",Wo),function Om(x){Wo=x}(void 0)),Ft.measurementId}),Lc.apply(this,arguments)}class gt{constructor(D){this.app=D}_delete(){return delete Rr[this.app.options.appId],Promise.resolve()}}let Rr={},Ul=[];const Ws={};let Bi,Xr,Eo="dataLayer",ys=!1;function Pm(x,D,A){!function Jr(){const x=[];if((0,oe.ru)()&&x.push("This is a browser extension environment."),(0,oe.zI)()||x.push("Cookies are not available."),x.length>0){const D=x.map((V,K)=>`(${K+1}) ${V}`).join(" "),A=Ci.create("invalid-analytics-context",{errorInfo:D});Jn.warn(A.message)}}();const V=x.options.appId;if(!V)throw Ci.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Ci.create("no-api-key");Jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Rr[V])throw Ci.create("already-exists",{id:V});if(!ys){!function ju(x){let D=[];Array.isArray(window[x])?D=window[x]:window[x]=D}(Eo);const{wrappedGtag:J,gtagCore:ye}=function Fa(x,D,A,V,K){let J=function(...ye){window[V].push(arguments)};return window[K]&&"function"==typeof window[K]&&(J=window[K]),window[K]=function Uh(x,D,A,V){function J(){return J=(0,N.Z)(function*(ye,...tt){try{if("event"===ye){const[Ze,_t]=tt;yield function $s(x,D,A,V,K){return Oc.apply(this,arguments)}(x,D,A,Ze,_t)}else if("config"===ye){const[Ze,_t]=tt;yield function Hu(x,D,A,V,K,J){return Pa.apply(this,arguments)}(x,D,A,V,Ze,_t)}else if("consent"===ye){const[Ze]=tt;x("consent","update",Ze)}else if("get"===ye){const[Ze,_t,Ft]=tt;x("get",Ze,_t,Ft)}else if("set"===ye){const[Ze]=tt;x("set",Ze)}else x(ye,...tt)}catch(Ze){Jn.error(Ze)}}),J.apply(this,arguments)}return function K(ye){return J.apply(this,arguments)}}(J,x,D,A),{gtagCore:J,wrappedGtag:window[K]}}(Rr,Ul,Ws,Eo,"gtag");Xr=J,Bi=ye,ys=!0}return Rr[V]=function Gu(x,D,A,V,K,J,ye){return Lc.apply(this,arguments)}(x,Ul,Ws,D,Bi,Eo,A),new gt(x)}function jl(){return xo.apply(this,arguments)}function xo(){return(xo=(0,N.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const mn="@firebase/analytics";!function hi(){(0,X._registerComponent)(new ce.wA(Go,(D,{options:A})=>Pm(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,X._registerComponent)(new ce.wA("analytics-internal",function x(D){try{const A=D.getProvider(Go).getImmediate();return{logEvent:(V,K,J)=>function Ha(x,D,A,V){x=(0,oe.m9)(x),function wo(x,D,A,V,K){return Hh.apply(this,arguments)}(Xr,Rr[x.app.options.appId],D,A,V).catch(K=>Jn.error(K))}(A,V,K,J)}}catch(A){throw Ci.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,X.registerVersion)(mn,"0.10.0"),(0,X.registerVersion)(mn,"0.10.0","esm2017")}();var Br=P(1954),yi=P(2631);const $h=new class za extends yi.v{}(class In extends Br.o{constructor(D,A){super(D,A),this.scheduler=D,this.work=A}schedule(D,A=0){return A>0?super.schedule(D,A):(this.delay=A,this.state=D,this.scheduler.flush(this),this)}execute(D,A){return A>0||this.closed?super.execute(D,A):this._execute(D,A)}requestAsyncId(D,A,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(D,A,V):(D.flush(this),0)}});var Do=P(6321),xr=P(5592),$n=P(9397),Ui=P(3093),Vc=P(5137);const $a=new d.GfV("7.6.1"),Ir="__angularfire_symbol__analyticsIsSupportedValue",Gh="__angularfire_symbol__analyticsIsSupported",Ga="__angularfire_symbol__remoteConfigIsSupportedValue",Zs="__angularfire_symbol__remoteConfigIsSupported",Gt="__angularfire_symbol__messagingIsSupportedValue",bs="__angularfire_symbol__messagingIsSupported";function So(x,D,A){if(D){if(1===D.length)return D[0];const J=D.filter(ye=>ye.app===A);if(1===J.length)return J[0]}return A.container.getProvider(x).getImmediate({optional:!0})}globalThis[Gh]||(globalThis[Gh]=jl().then(x=>globalThis[Ir]=x).catch(()=>globalThis[Ir]=!1)),globalThis[bs]||(globalThis[bs]=Oe().then(x=>globalThis[Gt]=x).catch(()=>globalThis[Gt]=!1)),globalThis[Zs]||(globalThis[Zs]=ds().then(x=>globalThis[Ga]=x).catch(()=>globalThis[Ga]=!1));const qh=(x,D)=>{const A=D?[D]:(0,H.C6)(),V=[];return A.forEach(K=>{K.container.getProvider(x).instances.forEach(ye=>{V.includes(ye)||V.push(ye)})}),V};function Pn(){}class qo{constructor(D,A=$h){this.zone=D,this.delegate=A}now(){return this.delegate.now()}schedule(D,A,V){const K=this.zone;return this.delegate.schedule(function(ye){K.runGuarded(()=>{D.apply(this,[ye])})},A,V)}}class Uc{constructor(D){this.zone=D,this.task=null}call(D,A){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pn,{},Pn,Pn)),A.pipe((0,$n.b)({next:V,complete:V,error:V})).subscribe(D).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Hl=(()=>{class x{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new qo(Zone.current)),this.insideAngular=A.run(()=>new qo(Zone.current,Do.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(A){return new(A||x)(d.LFG(d.R0b))},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function vi(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function to(x){return vi().ngZone.run(()=>x())}function zl(x){return x.pipe((0,Ui.Q)(vi().outsideAngular))}function Hc(x){return vi(),function zc(x){return function(A){return(A=A.lift(new Uc(x.ngZone))).pipe((0,Vc.R)(x.outsideAngular),(0,Ui.Q)(x.insideAngular))}}(vi())(x)}const Ys=(x,D)=>function(){const V=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),to(()=>x.apply(void 0,V))},_n=(x,D)=>function(){let A;const V=arguments;for(let J=0;J<arguments.length;J++)"function"==typeof V[J]&&(D&&(A||(A=to(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pn,{},Pn,Pn)))),V[J]=Ys(V[J],A));const K=function jc(x){return vi().ngZone.runOutsideAngular(()=>x())}(()=>x.apply(this,V));if(!D){if(K instanceof xr.y){const J=vi();return K.pipe((0,Vc.R)(J.outsideAngular),(0,Ui.Q)(J.insideAngular))}return to(()=>K)}return K instanceof xr.y?K.pipe(Hc):K instanceof Promise?to(()=>new Promise((J,ye)=>K.then(tt=>to(()=>J(tt)),tt=>to(()=>ye(tt))))):"function"==typeof K&&A?function(){return setTimeout(()=>{A&&"scheduled"===A.state&&A.invoke()},10),K.apply(this,arguments)}:to(()=>K)}},2659:(pt,xe,P)=>{P.d(xe,{$:()=>Ec,A:()=>se,D:()=>be,I:()=>vr,J:()=>br,L:()=>ti,N:()=>fc,P:()=>Ha,Q:()=>Ih,R:()=>Jr,U:()=>vm,V:()=>jg,W:()=>Hg,X:()=>Dl,Y:()=>Tu,Z:()=>di,_:()=>_o,a:()=>Fa,a0:()=>Ru,a1:()=>Ou,a2:()=>xm,a3:()=>Sl,a4:()=>Im,a5:()=>Cm,a6:()=>Al,a7:()=>$o,a8:()=>Ah,a9:()=>kl,aA:()=>Te,aB:()=>D,aC:()=>_r,aD:()=>_a,aE:()=>Hc,aF:()=>Bc,aG:()=>Wh,aH:()=>rn,aL:()=>Nc,aO:()=>hs,aa:()=>Oa,ab:()=>Na,ac:()=>Mh,ad:()=>kh,ae:()=>Yr,af:()=>Rl,ai:()=>Rh,aj:()=>Lu,ak:()=>Oh,an:()=>Mv,ao:()=>Sm,aq:()=>Bh,ar:()=>Tm,as:()=>qn,at:()=>va,au:()=>Vs,av:()=>Vt,aw:()=>Ku,ax:()=>J,ay:()=>Tv,az:()=>rt,b:()=>Oc,c:()=>$h,d:()=>$n,e:()=>Do,f:()=>So,g:()=>vi,h:()=>qo,i:()=>ar,j:()=>zl,k:()=>Jg,l:()=>xo,m:()=>Bv,p:()=>kn,r:()=>Wu,s:()=>qs,u:()=>ja});var d=P(5861),H=P(9058),N=P(7592);function we(v,m){var g={};for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&m.indexOf(w)<0&&(g[w]=v[w]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(w=Object.getOwnPropertySymbols(v);S<w.length;S++)m.indexOf(w[S])<0&&Object.prototype.propertyIsEnumerable.call(v,w[S])&&(g[w[S]]=v[w[S]])}return g}var ln=P(7879),Mn=P(4537);const kn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},se={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const be=function me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ue=function ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ze=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ct=new ln.Yd("@firebase/auth");function Tt(v,...m){ct.logLevel<=ln.in.ERROR&&ct.error(`Auth (${N.SDK_VERSION}): ${v}`,...m)}function Vt(v,...m){throw Rn(v,...m)}function rt(v,...m){return Rn(v,...m)}function bn(v,m,g){const w=Object.assign(Object.assign({},Ue()),{[m]:g});return new H.LL("auth","Firebase",w).create(m,{appName:v.name})}function wn(v,m,g){if(!(m instanceof g))throw g.name!==m.constructor.name&&Vt(v,"argument-error"),bn(v,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rn(v,...m){if("string"!=typeof v){const g=m[0],w=[...m.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(g,...w)}return ze.create(v,...m)}function Te(v,m,...g){if(!v)throw Rn(m,...g)}function En(v){const m="INTERNAL ASSERTION FAILED: "+v;throw Tt(m),new Error(m)}function qn(v,m){v||En(m)}function pi(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Yn(){return"http:"===Vn()||"https:"===Vn()}function Vn(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Et{constructor(m,g){this.shortDelay=m,this.longDelay=g,qn(g>m,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function Pi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Yn()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function At(v,m){qn(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return m?`${g}${m.startsWith("/")?m.slice(1):m}`:g}class Ht{static initialize(m,g,w){this.fetchImpl=m,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void En("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void En("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void En("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},gi=new Et(3e4,6e4);function Yt(v,m){return v.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:v.tenantId}):m}function yt(v,m,g,w){return On.apply(this,arguments)}function On(){return(On=(0,d.Z)(function*(v,m,g,w,S={}){return qr(v,S,(0,d.Z)(function*(){let k={},q={};w&&("GET"===m?q=w:k={body:JSON.stringify(w)});const re=(0,H.xO)(Object.assign({key:v.config.apiKey},q)).slice(1),je=yield v._getAdditionalHeaders();return je["Content-Type"]="application/json",v.languageCode&&(je["X-Firebase-Locale"]=v.languageCode),Ht.fetch()(Dn(v,v.config.apiHost,g,re),Object.assign({method:m,headers:je,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function qr(v,m,g){return pn.apply(this,arguments)}function pn(){return(pn=(0,d.Z)(function*(v,m,g){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},xn),m);try{const S=new Tr(v),k=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const q=yield k.json();if("needConfirmation"in q)throw pr(v,"account-exists-with-different-credential",q);if(k.ok&&!("errorMessage"in q))return q;{const re=k.ok?q.errorMessage:q.error.message,[je,ke]=re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===je)throw pr(v,"credential-already-in-use",q);if("EMAIL_EXISTS"===je)throw pr(v,"email-already-in-use",q);if("USER_DISABLED"===je)throw pr(v,"user-disabled",q);const dt=w[je]||je.toLowerCase().replace(/[_\s]+/g,"-");if(ke)throw bn(v,dt,ke);Vt(v,dt)}}catch(S){if(S instanceof H.ZR)throw S;Vt(v,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function Bn(v,m,g,w){return nn.apply(this,arguments)}function nn(){return(nn=(0,d.Z)(function*(v,m,g,w,S={}){const k=yield yt(v,m,g,w,S);return"mfaPendingCredential"in k&&Vt(v,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Dn(v,m,g,w){const S=`${m}${g}?${w}`;return v.config.emulator?At(v.config,S):`${v.config.apiScheme}://${S}`}class Tr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(rt(this.auth,"network-request-failed")),gi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pr(v,m,g){const w={appName:v.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const S=rt(v,m,w);return S.customData._tokenResponse=g,S}function ei(){return(ei=(0,d.Z)(function*(v,m){return yt(v,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Z(){return(Z=(0,d.Z)(function*(v,m){return yt(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function We(){return(We=(0,d.Z)(function*(v,m){return yt(v,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function qe(v){if(v)try{const m=new Date(Number(v));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function $(){return($=(0,d.Z)(function*(v,m=!1){const g=(0,H.m9)(v),w=yield g.getIdToken(m),S=F(w);Te(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,q=k?.sign_in_provider;return{claims:S,token:w,authTime:qe(z(S.auth_time)),issuedAtTime:qe(z(S.iat)),expirationTime:qe(z(S.exp)),signInProvider:q||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function z(v){return 1e3*Number(v)}function F(v){const[m,g,w]=v.split(".");if(void 0===m||void 0===g||void 0===w)return Tt("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,H.tV)(g);return S?JSON.parse(S):(Tt("Failed to decode base64 JWT payload"),null)}catch(S){return Tt("Caught error parsing JWT payload as JSON",S?.toString()),null}}function O(v,m){return ee.apply(this,arguments)}function ee(){return(ee=(0,d.Z)(function*(v,m,g=!1){if(g)return m;try{return yield m}catch(w){throw w instanceof H.ZR&&function Ie({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}class ut{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var g;if(m){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(m=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(m);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),w)}iteration(){var m=this;return(0,d.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&m.schedule(!0))}m.schedule()})()}}class kt{constructor(m,g){this.createdAt=m,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=qe(this.lastLoginAt),this.creationTime=qe(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function It(v){return vt.apply(this,arguments)}function vt(){return vt=(0,d.Z)(function*(v){var m;const g=v.auth,w=yield v.getIdToken(),S=yield O(v,function ve(v,m){return We.apply(this,arguments)}(g,{idToken:w}));Te(S?.users.length,g,"internal-error");const k=S.users[0];v._notifyReloadListener(k);const q=null!==(m=k.providerUserInfo)&&void 0!==m&&m.length?function rr(v){return v.map(m=>{var{providerId:g}=m,w=we(m,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(k.providerUserInfo):[],re=function Jt(v,m){return[...v.filter(w=>!m.some(S=>S.providerId===w.providerId)),...m]}(v.providerData,q),dt=!!v.isAnonymous&&!(v.email&&k.passwordHash||re?.length),en={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:re,metadata:new kt(k.createdAt,k.lastLoginAt),isAnonymous:dt};Object.assign(v,en)}),vt.apply(this,arguments)}function Sn(){return(Sn=(0,d.Z)(function*(v){const m=(0,H.m9)(v);yield It(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Ls(){return(Ls=(0,d.Z)(function*(v,m){const g=yield qr(v,{},(0,d.Z)(function*(){const w=(0,H.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:S,apiKey:k}=v.config,q=Dn(v,S,"/v1/token",`key=${k}`),re=yield v._getAdditionalHeaders();return re["Content-Type"]="application/x-www-form-urlencoded",Ht.fetch()(q,{method:"POST",headers:re,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Te(m.idToken,"internal-error"),Te(typeof m.idToken<"u","internal-error"),Te(typeof m.refreshToken<"u","internal-error");const g="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function L(v){const m=F(v);return Te(m,"internal-error"),Te(typeof m.exp<"u","internal-error"),Te(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,g)}getToken(m,g=!1){var w=this;return(0,d.Z)(function*(){return Te(!w.accessToken||w.refreshToken,m,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(m,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,g){var w=this;return(0,d.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:q}=yield function gr(v,m){return Ls.apply(this,arguments)}(m,g);w.updateTokensAndExpiration(S,k,Number(q))})()}updateTokensAndExpiration(m,g,w){this.refreshToken=g||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(m,g){const{refreshToken:w,accessToken:S,expirationTime:k}=g,q=new uo;return w&&(Te("string"==typeof w,"internal-error",{appName:m}),q.refreshToken=w),S&&(Te("string"==typeof S,"internal-error",{appName:m}),q.accessToken=S),k&&(Te("number"==typeof k,"internal-error",{appName:m}),q.expirationTime=k),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return En("not implemented")}}function ho(v,m){Te("string"==typeof v||typeof v>"u","internal-error",{appName:m})}class Uo{constructor(m){var{uid:g,auth:w,stsTokenManager:S}=m,k=we(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ut(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new kt(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(m){var g=this;return(0,d.Z)(function*(){const w=yield O(g,g.stsTokenManager.getToken(g.auth,m));return Te(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(m){return function Mt(v){return $.apply(this,arguments)}(this,m)}reload(){return function zt(v){return Sn.apply(this,arguments)}(this)}_assign(m){this!==m&&(Te(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(g=>Object.assign({},g)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const g=new Uo(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(m){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,g=!1){var w=this;return(0,d.Z)(function*(){let S=!1;m.idToken&&m.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(m),S=!0),g&&(yield It(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var m=this;return(0,d.Z)(function*(){const g=yield m.getIdToken();return yield O(m,function _i(v,m){return ei.apply(this,arguments)}(m.auth,{idToken:g})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,g){var w,S,k,q,re,je,ke,dt;const en=null!==(w=g.displayName)&&void 0!==w?w:void 0,Cn=null!==(S=g.email)&&void 0!==S?S:void 0,Ti=null!==(k=g.phoneNumber)&&void 0!==k?k:void 0,Xs=null!==(q=g.photoURL)&&void 0!==q?q:void 0,Wl=null!==(re=g.tenantId)&&void 0!==re?re:void 0,Yi=null!==(je=g._redirectEventId)&&void 0!==je?je:void 0,To=null!==(ke=g.createdAt)&&void 0!==ke?ke:void 0,Ka=null!==(dt=g.lastLoginAt)&&void 0!==dt?dt:void 0,{uid:ql,emailVerified:Qi,isAnonymous:Zl,providerData:Js,stsTokenManager:Xh}=g;Te(ql&&Xh,m,"internal-error");const Uv=uo.fromJSON(this.name,Xh);Te("string"==typeof ql,m,"internal-error"),ho(en,m.name),ho(Cn,m.name),Te("boolean"==typeof Qi,m,"internal-error"),Te("boolean"==typeof Zl,m,"internal-error"),ho(Ti,m.name),ho(Xs,m.name),ho(Wl,m.name),ho(Yi,m.name),ho(To,m.name),ho(Ka,m.name);const qc=new Uo({uid:ql,auth:m,email:Cn,emailVerified:Qi,displayName:en,isAnonymous:Zl,photoURL:Xs,phoneNumber:Ti,tenantId:Wl,stsTokenManager:Uv,createdAt:To,lastLoginAt:Ka});return Js&&Array.isArray(Js)&&(qc.providerData=Js.map(n_=>Object.assign({},n_))),Yi&&(qc._redirectEventId=Yi),qc}static _fromIdTokenResponse(m,g,w=!1){return(0,d.Z)(function*(){const S=new uo;S.updateFromServerResponse(g);const k=new Uo({uid:g.localId,auth:m,stsTokenManager:S,isAnonymous:w});return yield It(k),k})()}}const hc=new Map;function _r(v){qn(v instanceof Function,"Expected a class definition");let m=hc.get(v);return m?(qn(m instanceof v,"Instance stored in cache mismatched with class"),m):(m=new v,hc.set(v,m),m)}const fc=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,w){var S=this;return(0,d.Z)(function*(){S.storage[g]=w})()}_get(g){var w=this;return(0,d.Z)(function*(){const S=w.storage[g];return void 0===S?null:S})()}_remove(g){var w=this;return(0,d.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return v.type="NONE",v})();function _a(v,m,g){return`firebase:${v}:${m}:${g}`}class mc{constructor(m,g,w){this.persistence=m,this.auth=g,this.userKey=w;const{config:S,name:k}=this.auth;this.fullUserKey=_a(this.userKey,S.apiKey,k),this.fullPersistenceKey=_a("persistence",S.apiKey,k),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,d.Z)(function*(){const g=yield m.persistence._get(m.fullUserKey);return g?Uo._fromJSON(m.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var g=this;return(0,d.Z)(function*(){if(g.persistence===m)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=m,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,g,w="authUser"){return(0,d.Z)(function*(){if(!g.length)return new mc(_r(fc),m,w);const S=(yield Promise.all(g.map(function(){var ke=(0,d.Z)(function*(dt){if(yield dt._isAvailable())return dt});return function(dt){return ke.apply(this,arguments)}}()))).filter(ke=>ke);let k=S[0]||_r(fc);const q=_a(w,m.config.apiKey,m.name);let re=null;for(const ke of g)try{const dt=yield ke._get(q);if(dt){const en=Uo._fromJSON(m,dt);ke!==k&&(re=en),k=ke;break}}catch{}const je=S.filter(ke=>ke._shouldAllowMigration);return k._shouldAllowMigration&&je.length?(k=je[0],re&&(yield k._set(q,re.toJSON())),yield Promise.all(g.map(function(){var ke=(0,d.Z)(function*(dt){if(dt!==k)try{yield dt._remove(q)}catch{}});return function(dt){return ke.apply(this,arguments)}}())),new mc(k,m,w)):new mc(k,m,w)})()}}function xu(v){const m=v.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(gh(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(ya(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(_h(m))return"Blackberry";if(pc(m))return"Webos";if(wl(m))return"Safari";if((m.includes("chrome/")||yr(m))&&!m.includes("edge/"))return"Chrome";if(Vs(m))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function ya(v=(0,H.z$)()){return/firefox\//i.test(v)}function wl(v=(0,H.z$)()){const m=v.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function yr(v=(0,H.z$)()){return/crios\//i.test(v)}function gh(v=(0,H.z$)()){return/iemobile/i.test(v)}function Vs(v=(0,H.z$)()){return/android/i.test(v)}function _h(v=(0,H.z$)()){return/blackberry/i.test(v)}function pc(v=(0,H.z$)()){return/webos/i.test(v)}function va(v=(0,H.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Tv(v=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function yh(v=(0,H.z$)()){return va(v)||Vs(v)||pc(v)||_h(v)||/windows phone/i.test(v)||gh(v)}function Bs(v,m=[]){let g;switch(v){case"Browser":g=xu((0,H.z$)());break;case"Worker":g=`${xu((0,H.z$)())}-${v}`;break;default:g=v}const w=m.length?m.join(","):"FirebaseCore-web";return`${g}/JsCore/${N.SDK_VERSION}/${w}`}function Cu(){return(Cu=(0,d.Z)(function*(v){return(yield yt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gm(v,m){return ba.apply(this,arguments)}function ba(){return(ba=(0,d.Z)(function*(v,m){return yt(v,"GET","/v2/recaptchaConfig",Yt(v,m))})).apply(this,arguments)}function bh(v){return void 0!==v&&void 0!==v.getResponse}function gc(v){return void 0!==v&&void 0!==v.enterprise}class _c{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Wt(v){return new Promise((m,g)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=m,w.onerror=S=>{const k=rt("internal-error");k.customData=S,g(k)},w.type="text/javascript",w.charset="UTF-8",function _m(){var v,m;return null!==(m=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==m?m:document}().appendChild(w)})}function Fi(v){return`__${v}${Math.floor(1e6*Math.random())}`}class yc{constructor(m){this.type="recaptcha-enterprise",this.auth=rn(m)}verify(m="verify",g=!1){var w=this;return(0,d.Z)(function*(){function k(){return k=(0,d.Z)(function*(re){if(!g){if(null==re.tenantId&&null!=re._agentRecaptchaConfig)return re._agentRecaptchaConfig.siteKey;if(null!=re.tenantId&&void 0!==re._tenantRecaptchaConfigs[re.tenantId])return re._tenantRecaptchaConfigs[re.tenantId].siteKey}return new Promise(function(){var je=(0,d.Z)(function*(ke,dt){gm(re,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(en=>{if(void 0!==en.recaptchaKey){const Cn=new _c(en);return null==re.tenantId?re._agentRecaptchaConfig=Cn:re._tenantRecaptchaConfigs[re.tenantId]=Cn,ke(Cn.siteKey)}dt(new Error("recaptcha Enterprise site key undefined"))}).catch(en=>{dt(en)})});return function(ke,dt){return je.apply(this,arguments)}}())}),k.apply(this,arguments)}function q(re,je,ke){const dt=window.grecaptcha;gc(dt)?dt.enterprise.ready(()=>{dt.enterprise.execute(re,{action:m}).then(en=>{je(en)}).catch(()=>{je("NO_RECAPTCHA")})}):ke(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((re,je)=>{(function S(re){return k.apply(this,arguments)})(w.auth).then(ke=>{if(!g&&gc(window.grecaptcha))q(ke,re,je);else{if(typeof window>"u")return void je(new Error("RecaptchaVerifier is only supported in browser"));Wt("https://www.google.com/recaptcha/enterprise.js?render="+ke).then(()=>{q(ke,re,je)}).catch(dt=>{je(dt)})}}).catch(ke=>{je(ke)})})})()}}function fo(v,m,g){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,d.Z)(function*(v,m,g,w=!1){const S=new yc(v);let k;try{k=yield S.verify(g)}catch{k=yield S.verify(g,!0)}const q=Object.assign({},m);return Object.assign(q,w?{captchaResp:k}:{captchaResponse:k}),Object.assign(q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),q})).apply(this,arguments)}class Du{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,g){const w=k=>new Promise((q,re)=>{try{q(m(k))}catch(je){re(je)}});w.onAbort=g,this.queue.push(w);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(m){var g=this;return(0,d.Z)(function*(){if(g.auth.currentUser===m)return;const w=[];try{for(const S of g.queue)yield S(m),S.onAbort&&w.push(S.onAbort)}catch(S){w.reverse();for(const k of w)try{k()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class Fg{constructor(m,g,w,S){this.app=m,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=w,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lt(this),this.idTokenSubscription=new lt(this),this.beforeStateQueue=new Du(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ze,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(m,g){var w=this;return g&&(this._popupRedirectResolver=_r(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var S,k;if(!w._deleted&&(w.persistenceManager=yield mc.create(w,m),!w._deleted)){if(null!==(S=w._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(k=w.currentUser)||void 0===k?void 0:k.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,d.Z)(function*(){if(m._deleted)return;const g=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||g){if(m.currentUser&&g&&m.currentUser.uid===g.uid)return m._currentUser._assign(g),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(g,!0)}})()}initializeCurrentUser(m){var g=this;return(0,d.Z)(function*(){var w;const S=yield g.assertedPersistence.getCurrentUser();let k=S,q=!1;if(m&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const re=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,je=k?._redirectEventId,ke=yield g.tryRedirectSignIn(m);(!re||re===je)&&ke?.user&&(k=ke.user,q=!0)}if(!k)return g.directlySetCurrentUser(null);if(!k._redirectEventId){if(q)try{yield g.beforeStateQueue.runMiddleware(k)}catch(re){k=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(re))}return k?g.reloadAndSetCurrentUserOrClear(k):g.directlySetCurrentUser(null)}return Te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===k._redirectEventId?g.directlySetCurrentUser(k):g.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(m){var g=this;return(0,d.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,m,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(m){var g=this;return(0,d.Z)(function*(){try{yield It(m)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function lo(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var m=this;return(0,d.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var g=this;return(0,d.Z)(function*(){const w=m?(0,H.m9)(m):null;return w&&Te(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(m,g=!1){var w=this;return(0,d.Z)(function*(){if(!w._deleted)return m&&Te(w.tenantId===m.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(m)),w.queue((0,d.Z)(function*(){yield w.directlySetCurrentUser(m),w.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,d.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(_r(m))}))}initializeRecaptchaConfig(){var m=this;return(0,d.Z)(function*(){const g=yield gm(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new _c(g);null==m.tenantId?m._agentRecaptchaConfig=w:m._tenantRecaptchaConfigs[m.tenantId]=w,w.emailPasswordEnabled&&new yc(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new H.LL("auth","Firebase",m())}onAuthStateChanged(m,g,w){return this.registerStateListener(this.authStateSubscription,m,g,w)}beforeAuthStateChanged(m,g){return this.beforeStateQueue.pushCallback(m,g)}onIdTokenChanged(m,g,w){return this.registerStateListener(this.idTokenSubscription,m,g,w)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,g){var w=this;return(0,d.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(g);return null===m?S.removeCurrentUser():S.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const w=m&&_r(m)||g._popupRedirectResolver;Te(w,g,"argument-error"),g.redirectPersistenceManager=yield mc.create(g,[_r(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(m){var g=this;return(0,d.Z)(function*(){var w,S;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===m?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===m?g.redirectUser:null})()}_persistUserIfCurrent(m){var g=this;return(0,d.Z)(function*(){if(m===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,g,w,S){if(this._deleted)return()=>{};const k="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(q,this,"internal-error"),q.then(()=>k(this.currentUser)),"function"==typeof g?m.addObserver(g,w,S):m.addObserver(g)}directlySetCurrentUser(m){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==m&&g._currentUser._stopProactiveRefresh(),m&&g.isProactiveRefreshEnabled&&m._startProactiveRefresh(),g.currentUser=m,m?yield g.assertedPersistence.setCurrentUser(m):yield g.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Bs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,d.Z)(function*(){var g;const w={"X-Client-Version":m.clientVersion};m.app.options.appId&&(w["X-Firebase-gmpid"]=m.app.options.appId);const S=yield null===(g=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();S&&(w["X-Firebase-Client"]=S);const k=yield m._getAppCheckToken();return k&&(w["X-Firebase-AppCheck"]=k),w})()}_getAppCheckToken(){var m=this;return(0,d.Z)(function*(){var g;const w=yield null===(g=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return w?.error&&function Wn(v,...m){ct.logLevel<=ln.in.WARN&&ct.warn(`Auth (${N.SDK_VERSION}): ${v}`,...m)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function rn(v){return(0,H.m9)(v)}class lt{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,H.ne)(g=>this.observer=g)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function vr(v,m,g){const w=rn(v);Te(w._canInitEmulator,w,"emulator-config-failed"),Te(/^https?:\/\//.test(m),w,"invalid-emulator-scheme");const S=!!g?.disableWarnings,k=vc(m),{host:q,port:re}=function or(v){const m=vc(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(m.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const k=S[1];return{host:k,port:xa(w.substr(k.length+1))}}{const[k,q]=w.split(":");return{host:k,port:xa(q)}}}(m);w.config.emulator={url:`${k}//${q}${null===re?"":`:${re}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:q,port:re,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function ui(){function v(){const m=document.createElement("p"),g=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function vc(v){const m=v.indexOf(":");return m<0?"":v.substr(0,m+1)}function xa(v){if(!v)return null;const m=Number(v);return isNaN(m)?null:m}class br{constructor(m,g){this.providerId=m,this.signInMethod=g}toJSON(){return En("not implemented")}_getIdTokenResponse(m){return En("not implemented")}_linkToIdToken(m,g){return En("not implemented")}_getReauthenticationResolver(m){return En("not implemented")}}function as(v,m){return $t.apply(this,arguments)}function $t(){return($t=(0,d.Z)(function*(v,m){return yt(v,"POST","/v1/accounts:resetPassword",Yt(v,m))})).apply(this,arguments)}function Ia(v,m){return El.apply(this,arguments)}function El(){return(El=(0,d.Z)(function*(v,m){return yt(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Hn(){return(Hn=(0,d.Z)(function*(v,m){return yt(v,"POST","/v1/accounts:update",Yt(v,m))})).apply(this,arguments)}function Ca(v,m){return Us.apply(this,arguments)}function Us(){return(Us=(0,d.Z)(function*(v,m){return Bn(v,"POST","/v1/accounts:signInWithPassword",Yt(v,m))})).apply(this,arguments)}function Gi(v,m){return ls.apply(this,arguments)}function ls(){return(ls=(0,d.Z)(function*(v,m){return yt(v,"POST","/v1/accounts:sendOobCode",Yt(v,m))})).apply(this,arguments)}function Mr(){return(Mr=(0,d.Z)(function*(v,m){return Gi(v,m)})).apply(this,arguments)}function Li(v,m){return us.apply(this,arguments)}function us(){return(us=(0,d.Z)(function*(v,m){return Gi(v,m)})).apply(this,arguments)}function jo(v,m){return on.apply(this,arguments)}function on(){return(on=(0,d.Z)(function*(v,m){return Gi(v,m)})).apply(this,arguments)}function xl(){return(xl=(0,d.Z)(function*(v,m){return Gi(v,m)})).apply(this,arguments)}function Zr(){return(Zr=(0,d.Z)(function*(v,m){return Bn(v,"POST","/v1/accounts:signInWithEmailLink",Yt(v,m))})).apply(this,arguments)}function ds(){return(ds=(0,d.Z)(function*(v,m){return Bn(v,"POST","/v1/accounts:signInWithEmailLink",Yt(v,m))})).apply(this,arguments)}class mo extends br{constructor(m,g,w,S=null){super("password",w),this._email=m,this._password=g,this._tenantId=S}static _fromEmailAndPassword(m,g){return new mo(m,g,"password")}static _fromEmailAndCode(m,g,w=null){return new mo(m,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(m){var g=this;return(0,d.Z)(function*(){var w;switch(g.signInMethod){case"password":const S={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=m._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const k=yield fo(m,S,"signInWithPassword");return Ca(m,k)}return Ca(m,S).catch(function(){var k=(0,d.Z)(function*(q){if("auth/missing-recaptcha-token"===q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const re=yield fo(m,S,"signInWithPassword");return Ca(m,re)}return Promise.reject(q)});return function(q){return k.apply(this,arguments)}}());case"emailLink":return function Eh(v,m){return Zr.apply(this,arguments)}(m,{email:g._email,oobCode:g._password});default:Vt(m,"internal-error")}})()}_linkToIdToken(m,g){var w=this;return(0,d.Z)(function*(){switch(w.signInMethod){case"password":return Ia(m,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function js(v,m){return ds.apply(this,arguments)}(m,{idToken:g,email:w._email,oobCode:w._password});default:Vt(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Zn(v,m){return xh.apply(this,arguments)}function xh(){return(xh=(0,d.Z)(function*(v,m){return Bn(v,"POST","/v1/accounts:signInWithIdp",Yt(v,m))})).apply(this,arguments)}class ti extends br{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const g=new ti(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(g.idToken=m.idToken),m.accessToken&&(g.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(g.nonce=m.nonce),m.pendingToken&&(g.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(g.accessToken=m.oauthToken,g.secret=m.oauthTokenSecret):Vt("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:S}=g,k=we(g,["providerId","signInMethod"]);if(!w||!S)return null;const q=new ti(w,S);return q.idToken=k.idToken||void 0,q.accessToken=k.accessToken||void 0,q.secret=k.secret,q.nonce=k.nonce,q.pendingToken=k.pendingToken||null,q}_getIdTokenResponse(m){return Zn(m,this.buildRequest())}_linkToIdToken(m,g){const w=this.buildRequest();return w.idToken=g,Zn(m,w)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,Zn(m,g)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),m.postBody=(0,H.xO)(g)}return m}}function po(){return(po=(0,d.Z)(function*(v,m){return yt(v,"POST","/v1/accounts:sendVerificationCode",Yt(v,m))})).apply(this,arguments)}function Vi(){return(Vi=(0,d.Z)(function*(v,m){return Bn(v,"POST","/v1/accounts:signInWithPhoneNumber",Yt(v,m))})).apply(this,arguments)}function Il(){return(Il=(0,d.Z)(function*(v,m){const g=yield Bn(v,"POST","/v1/accounts:signInWithPhoneNumber",Yt(v,m));if(g.temporaryProof)throw pr(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ym={USER_NOT_FOUND:"user-not-found"};function Cl(){return(Cl=(0,d.Z)(function*(v,m){return Bn(v,"POST","/v1/accounts:signInWithPhoneNumber",Yt(v,Object.assign(Object.assign({},m),{operation:"REAUTH"})),ym)})).apply(this,arguments)}class Sa extends br{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,g){return new Sa({verificationId:m,verificationCode:g})}static _fromTokenResponse(m,g){return new Sa({phoneNumber:m,temporaryProof:g})}_getIdTokenResponse(m){return function Da(v,m){return Vi.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,g){return function bc(v,m){return Il.apply(this,arguments)}(m,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Lg(v,m){return Cl.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:g,verificationId:w,verificationCode:S}=this.params;return m&&g?{temporaryProof:m,phoneNumber:g}:{sessionInfo:w,code:S}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:k}=m;return w||g||S||k?new Sa({verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:k}):null}}class Fr{constructor(m){var g,w,S,k,q,re;const je=(0,H.zd)((0,H.pd)(m)),ke=null!==(g=je.apiKey)&&void 0!==g?g:null,dt=null!==(w=je.oobCode)&&void 0!==w?w:null,en=function Vg(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=je.mode)&&void 0!==S?S:null);Te(ke&&dt&&en,"argument-error"),this.apiKey=ke,this.operation=en,this.code=dt,this.continueUrl=null!==(k=je.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(q=je.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(re=je.tenantId)&&void 0!==re?re:null}static parseLink(m){const g=function Bg(v){const m=(0,H.zd)((0,H.pd)(v)).link,g=m?(0,H.zd)((0,H.pd)(m)).deep_link_id:null,w=(0,H.zd)((0,H.pd)(v)).deep_link_id;return(w?(0,H.zd)((0,H.pd)(w)).link:null)||w||g||m||v}(m);try{return new Fr(g)}catch{return null}}}let Ih=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,w){return mo._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const S=Fr.parseLink(w);return Te(S,"argument-error"),mo._fromEmailAndCode(g,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class go{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class wc extends go{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Dl extends wc{static credentialFromJSON(m){const g="string"==typeof m?JSON.parse(m):m;return Te("providerId"in g&&"signInMethod"in g,"argument-error"),ti._fromParams(g)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Te(m.idToken||m.accessToken,"argument-error"),ti._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Dl.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Dl.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:k,nonce:q,providerId:re}=m;if(!w&&!S&&!g&&!k||!re)return null;try{return new Dl(re)._credential({idToken:g,accessToken:w,nonce:q,pendingToken:k})}catch{return null}}}let vm=(()=>{class v extends wc{constructor(){super("facebook.com")}static credential(g){return ti._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),jg=(()=>{class v extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return ti._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:S}=g;if(!w&&!S)return null;try{return v.credential(w,S)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Hg=(()=>{class v extends wc{constructor(){super("github.com")}static credential(g){return ti._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class hs extends br{constructor(m,g){super(m,m),this.pendingToken=g}_getIdTokenResponse(m){return Zn(m,this.buildRequest())}_linkToIdToken(m,g){const w=this.buildRequest();return w.idToken=g,Zn(m,w)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,Zn(m,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:S,pendingToken:k}=g;return w&&S&&k&&w===S?new hs(w,k):null}static _create(m,g){return new hs(m,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Tu extends go{constructor(m){Te(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Tu.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Tu.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const g=hs.fromJSON(m);return Te(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:g,providerId:w}=m;if(!g||!w)return null;try{return hs._create(w,g)}catch{return null}}}let di=(()=>{class v extends wc{constructor(){super("twitter.com")}static credential(g,w){return ti._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=g;if(!w||!S)return null;try{return v.credential(w,S)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ch(v,m){return fs.apply(this,arguments)}function fs(){return(fs=(0,d.Z)(function*(v,m){return Bn(v,"POST","/v1/accounts:signUp",Yt(v,m))})).apply(this,arguments)}class Lr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,g,w,S=!1){return(0,d.Z)(function*(){const k=yield Uo._fromIdTokenResponse(m,w,S),q=Au(w);return new Lr({user:k,providerId:q,_tokenResponse:w,operationType:g})})()}static _forOperation(m,g,w){return(0,d.Z)(function*(){yield m._updateTokensIfNecessary(w,!0);const S=Au(w);return new Lr({user:m,providerId:S,_tokenResponse:w,operationType:g})})()}}function Au(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function _o(v){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,d.Z)(function*(v){var m;const g=rn(v);if(yield g._initializationPromise,null!==(m=g.currentUser)&&void 0!==m&&m.isAnonymous)return new Lr({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Ch(g,{returnSecureToken:!0}),S=yield Lr._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Ta extends H.ZR{constructor(m,g,w,S){var k;super(g.code,g.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,Ta.prototype),this.customData={appName:m.name,tenantId:null!==(k=m.tenantId)&&void 0!==k?k:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(m,g,w,S){return new Ta(m,g,w,S)}}function wm(v,m,g,w){return("reauthenticate"===m?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Ta._fromErrorAndOperation(v,k,m,w):k})}function Dh(v){return new Set(v.map(({providerId:m})=>m).filter(m=>!!m))}function Mv(v,m){return Aa.apply(this,arguments)}function Aa(){return Aa=(0,d.Z)(function*(v,m){const g=(0,H.m9)(v);yield Xn(!0,g,m);const{providerUserInfo:w}=yield function _e(v,m){return Z.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[m]}),S=Dh(w||[]);return g.providerData=g.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Aa.apply(this,arguments)}function Vr(v,m){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,d.Z)(function*(v,m,g=!1){const w=yield O(v,m._linkToIdToken(v.auth,yield v.getIdToken()),g);return Lr._forOperation(v,"link",w)})).apply(this,arguments)}function Xn(v,m,g){return wr.apply(this,arguments)}function wr(){return(wr=(0,d.Z)(function*(v,m,g){yield It(m);const S=!1===v?"provider-already-linked":"no-such-provider";Te(Dh(m.providerData).has(g)===v,m.auth,S)})).apply(this,arguments)}function Sh(v,m){return ka.apply(this,arguments)}function ka(){return(ka=(0,d.Z)(function*(v,m,g=!1){const{auth:w}=v,S="reauthenticate";try{const k=yield O(v,wm(w,S,m,v),g);Te(k.idToken,w,"internal-error");const q=F(k.idToken);Te(q,w,"internal-error");const{sub:re}=q;return Te(v.uid===re,w,"user-mismatch"),Lr._forOperation(v,S,k)}catch(k){throw"auth/user-not-found"===k?.code&&Vt(w,"user-mismatch"),k}})).apply(this,arguments)}function Ra(v,m){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,d.Z)(function*(v,m,g=!1){const w="signIn",S=yield wm(v,w,m),k=yield Lr._fromIdTokenResponse(v,w,S);return g||(yield v._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Ec(v,m){return ku.apply(this,arguments)}function ku(){return(ku=(0,d.Z)(function*(v,m){return Ra(rn(v),m)})).apply(this,arguments)}function Ru(v,m){return ms.apply(this,arguments)}function ms(){return(ms=(0,d.Z)(function*(v,m){const g=(0,H.m9)(v);return yield Xn(!1,g,m.providerId),Vr(g,m)})).apply(this,arguments)}function Ou(v,m){return xc.apply(this,arguments)}function xc(){return(xc=(0,d.Z)(function*(v,m){return Sh((0,H.m9)(v),m)})).apply(this,arguments)}function Em(){return(Em=(0,d.Z)(function*(v,m){return Bn(v,"POST","/v1/accounts:signInWithCustomToken",Yt(v,m))})).apply(this,arguments)}function xm(v,m){return Th.apply(this,arguments)}function Th(){return Th=(0,d.Z)(function*(v,m){const g=rn(v),w=yield function qi(v,m){return Em.apply(this,arguments)}(g,{token:m,returnSecureToken:!0}),S=yield Lr._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(S.user),S}),Th.apply(this,arguments)}class Hs{constructor(m,g){this.factorId=m,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(m,g){return"phoneInfo"in g?Nu._fromServerResponse(m,g):"totpInfo"in g?Ic._fromServerResponse(m,g):Vt(m,"internal-error")}}class Nu extends Hs{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,g){return new Nu(g)}}class Ic extends Hs{constructor(m){super("totp",m)}static _fromServerResponse(m,g){return new Ic(g)}}function zo(v,m,g){var w;Te((null===(w=g.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),Te(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),m.continueUrl=g.url,m.dynamicLinkDomain=g.dynamicLinkDomain,m.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Te(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),m.iOSBundleId=g.iOS.bundleId),g.android&&(Te(g.android.packageName.length>0,v,"missing-android-pkg-name"),m.androidInstallApp=g.android.installApp,m.androidMinimumVersionCode=g.android.minimumVersion,m.androidPackageName=g.android.packageName)}function Sl(v,m,g){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,d.Z)(function*(v,m,g){var w;const S=rn(v),k={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const q=yield fo(S,k,"getOobCode",!0);g&&zo(S,q,g),yield Li(S,q)}else g&&zo(S,k,g),yield Li(S,k).catch(function(){var q=(0,d.Z)(function*(re){if("auth/missing-recaptcha-token"!==re.code)return Promise.reject(re);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const je=yield fo(S,k,"getOobCode",!0);g&&zo(S,je,g),yield Li(S,je)}});return function(re){return q.apply(this,arguments)}}())}),Cc.apply(this,arguments)}function Im(v,m,g){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,d.Z)(function*(v,m,g){yield as((0,H.m9)(v),{oobCode:m,newPassword:g})})).apply(this,arguments)}function Cm(v,m){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,d.Z)(function*(v,m){yield function cs(v,m){return Hn.apply(this,arguments)}((0,H.m9)(v),{oobCode:m})}),Tl.apply(this,arguments)}function Al(v,m){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,d.Z)(function*(v,m){const g=(0,H.m9)(v),w=yield as(g,{oobCode:m}),S=w.requestType;switch(Te(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(w.mfaInfo,g,"internal-error");default:Te(w.email,g,"internal-error")}let k=null;return w.mfaInfo&&(k=Hs._fromServerResponse(rn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function $o(v,m){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,d.Z)(function*(v,m){const{data:g}=yield Al((0,H.m9)(v),m);return g.email})).apply(this,arguments)}function Ah(v,m,g){return Tn.apply(this,arguments)}function Tn(){return Tn=(0,d.Z)(function*(v,m,g){var w;const S=rn(v),k={returnSecureToken:!0,email:m,password:g,clientType:"CLIENT_TYPE_WEB"};let q;if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ke=yield fo(S,k,"signUpPassword");q=Ch(S,ke)}else q=Ch(S,k).catch(function(){var ke=(0,d.Z)(function*(dt){if("auth/missing-recaptcha-token"===dt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const en=yield fo(S,k,"signUpPassword");return Ch(S,en)}return Promise.reject(dt)});return function(dt){return ke.apply(this,arguments)}}());const re=yield q.catch(ke=>Promise.reject(ke)),je=yield Lr._fromIdTokenResponse(S,"signIn",re);return yield S._updateCurrentUser(je.user),je}),Tn.apply(this,arguments)}function kl(v,m,g){return Ec((0,H.m9)(v),Ih.credential(m,g))}function Oa(v,m,g){return Ii.apply(this,arguments)}function Ii(){return Ii=(0,d.Z)(function*(v,m,g){var w;const S=rn(v),k={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function q(re,je){Te(je.handleCodeInApp,S,"argument-error"),je&&zo(S,re,je)}if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const re=yield fo(S,k,"getOobCode",!0);q(re,g),yield jo(S,re)}else q(k,g),yield jo(S,k).catch(function(){var re=(0,d.Z)(function*(je){if("auth/missing-recaptcha-token"!==je.code)return Promise.reject(je);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ke=yield fo(S,k,"getOobCode",!0);q(ke,g),yield jo(S,ke)}});return function(je){return re.apply(this,arguments)}}())}),Ii.apply(this,arguments)}function Na(v,m){const g=Fr.parseLink(m);return"EMAIL_SIGNIN"===g?.operation}function Mh(v,m,g){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,d.Z)(function*(v,m,g){const w=(0,H.m9)(v),S=Ih.credentialWithLink(m,g||pi());return Te(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Ec(w,S)})).apply(this,arguments)}function Fu(){return(Fu=(0,d.Z)(function*(v,m){return yt(v,"POST","/v1/accounts:createAuthUri",Yt(v,m))})).apply(this,arguments)}function kh(v,m){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,d.Z)(function*(v,m){const w={identifier:m,continueUri:Yn()?pi():"http://localhost"},{signinMethods:S}=yield function kr(v,m){return Fu.apply(this,arguments)}((0,H.m9)(v),w);return S||[]}),Sc.apply(this,arguments)}function Yr(v,m){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,d.Z)(function*(v,m){const g=(0,H.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};m&&zo(g.auth,S,m);const{email:k}=yield function wh(v,m){return Mr.apply(this,arguments)}(g.auth,S);k!==v.email&&(yield v.reload())}),Tc.apply(this,arguments)}function Rl(v,m,g){return zs.apply(this,arguments)}function zs(){return zs=(0,d.Z)(function*(v,m,g){const w=(0,H.m9)(v),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:m};g&&zo(w.auth,k,g);const{email:q}=yield function Av(v,m){return xl.apply(this,arguments)}(w.auth,k);q!==v.email&&(yield v.reload())}),zs.apply(this,arguments)}function ps(){return(ps=(0,d.Z)(function*(v,m){return yt(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Rh(v,m){return Pt.apply(this,arguments)}function Pt(){return Pt=(0,d.Z)(function*(v,{displayName:m,photoURL:g}){if(void 0===m&&void 0===g)return;const w=(0,H.m9)(v),k={idToken:yield w.getIdToken(),displayName:m,photoUrl:g,returnSecureToken:!0},q=yield O(w,function Ol(v,m){return ps.apply(this,arguments)}(w.auth,k));w.displayName=q.displayName||null,w.photoURL=q.photoUrl||null;const re=w.providerData.find(({providerId:je})=>"password"===je);re&&(re.displayName=w.displayName,re.photoURL=w.photoURL),yield w._updateTokensIfNecessary(q)}),Pt.apply(this,arguments)}function Lu(v,m){return Nh((0,H.m9)(v),m,null)}function Oh(v,m){return Nh((0,H.m9)(v),null,m)}function Nh(v,m,g){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,d.Z)(function*(v,m,g){const{auth:w}=v,k={idToken:yield v.getIdToken(),returnSecureToken:!0};m&&(k.email=m),g&&(k.password=g);const q=yield O(v,Ia(w,k));yield v._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class gs{constructor(m,g,w={}){this.isNewUser=m,this.providerId=g,this.profile=w}}class Qr extends gs{constructor(m,g,w,S){super(m,g,w),this.username=S}}class Nl extends gs{constructor(m,g){super(m,"facebook.com",g)}}class Ph extends Qr{constructor(m,g){super(m,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class $g extends gs{constructor(m,g){super(m,"google.com",g)}}class Fh extends Qr{constructor(m,g,w){super(m,"twitter.com",g,w)}}function Sm(v){const{user:m,_tokenResponse:g}=v;return m.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Dm(v){var m,g;if(!v)return null;const{providerId:w}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},k=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const q=null===(g=null===(m=F(v.idToken))||void 0===m?void 0:m.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new gs(k,"anonymous"!==q&&"custom"!==q?q:null)}if(!w)return null;switch(w){case"facebook.com":return new Nl(k,S);case"github.com":return new Ph(k,S);case"google.com":return new $g(k,S);case"twitter.com":return new Fh(k,S,v.screenName||null);case"custom":case"anonymous":return new gs(k,null);default:return new gs(k,w,S)}}(g)}class Go{constructor(m,g,w){this.type=m,this.credential=g,this.auth=w}static _fromIdtoken(m,g){return new Go("enroll",m,g)}static _fromMfaPendingCredential(m){return new Go("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var g,w;if(m?.multiFactorSession){if(null!==(g=m.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Go._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(w=m.multiFactorSession)&&void 0!==w&&w.idToken)return Go._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Vh{constructor(m,g,w){this.session=m,this.hints=g,this.signInResolver=w}static _fromError(m,g){const w=rn(m),S=g.customData._serverResponse,k=(S.mfaInfo||[]).map(re=>Hs._fromServerResponse(w,re));Te(S.mfaPendingCredential,w,"internal-error");const q=Go._fromMfaPendingCredential(S.mfaPendingCredential);return new Vh(q,k,function(){var re=(0,d.Z)(function*(je){const ke=yield je._process(w,q);delete S.mfaInfo,delete S.mfaPendingCredential;const dt=Object.assign(Object.assign({},S),{idToken:ke.idToken,refreshToken:ke.refreshToken});switch(g.operationType){case"signIn":const en=yield Lr._fromIdTokenResponse(w,g.operationType,dt);return yield w._updateCurrentUser(en.user),en;case"reauthenticate":return Te(g.user,w,"internal-error"),Lr._forOperation(g.user,g.operationType,dt);default:Vt(w,"internal-error")}});return function(je){return re.apply(this,arguments)}}())}resolveSignIn(m){var g=this;return(0,d.Z)(function*(){return g.signInResolver(m)})()}}function Bh(v,m){var g;const w=(0,H.m9)(v),S=m;return Te(m.customData.operationType,w,"argument-error"),Te(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Vh._fromError(w,S)}class Ci{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Hs._fromServerResponse(m.auth,w)))})}static _fromUser(m){return new Ci(m)}getSession(){var m=this;return(0,d.Z)(function*(){return Go._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,g){var w=this;return(0,d.Z)(function*(){const S=m,k=yield w.getSession(),q=yield O(w.user,S._process(w.user.auth,k,g));return yield w.user._updateTokensIfNecessary(q),w.user.reload()})()}unenroll(m){var g=this;return(0,d.Z)(function*(){const w="string"==typeof m?m:m.uid,S=yield g.user.getIdToken();try{const k=yield O(g.user,function bo(v,m){return yt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Yt(v,m))}(g.user.auth,{idToken:S,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==w),yield g.user._updateTokensIfNecessary(k),yield g.user.reload()}catch(k){throw k}})()}}const Rc=new WeakMap;function Tm(v){const m=(0,H.m9)(v);return Rc.has(m)||Rc.set(m,Ci._fromUser(m)),Rc.get(m)}const Pl="__sak";class Uu{constructor(m,g){this.storageRetriever=m,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Pl,"1"),this.storage.removeItem(Pl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,g){return this.storage.setItem(m,JSON.stringify(g)),Promise.resolve()}_get(m){const g=this.storage.getItem(m);return Promise.resolve(g?JSON.parse(g):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Oc=(()=>{class v extends Uu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ju(){const v=(0,H.z$)();return wl(v)||va(v)}()&&function Iu(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=yh(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),k=this.localCache[w];S!==k&&g(w,k,S)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((re,je,ke)=>{this.notifyListeners(re,ke)});const S=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const re=this.storage.getItem(S);if(g.newValue!==re)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!w)return}const k=()=>{const re=this.storage.getItem(S);!w&&this.localCache[S]===re||this.notifyListeners(S,re)},q=this.storage.getItem(S);!function Pg(){return(0,H.w1)()&&10===document.documentMode}()||q===g.newValue||g.newValue===g.oldValue?k():setTimeout(k,10)}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const k of Array.from(S))k(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var S=()=>super._set,k=this;return(0,d.Z)(function*(){yield S().call(k,g,w),k.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,S=this;return(0,d.Z)(function*(){const k=yield w().call(S,g);return S.localCache[g]=JSON.stringify(k),k})()}_remove(g){var w=()=>super._remove,S=this;return(0,d.Z)(function*(){yield w().call(S,g),delete S.localCache[g]})()}}return v.type="LOCAL",v})(),Fa=(()=>{class v extends Uu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return v.type="SESSION",v})();let Am=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(k=>k.isListeningto(g));if(w)return w;const S=new v(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,d.Z)(function*(){const S=g,{eventId:k,eventType:q,data:re}=S.data,je=w.handlersMap[q];if(!je?.size)return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:q});const ke=Array.from(je).map(function(){var en=(0,d.Z)(function*(Cn){return Cn(S.origin,re)});return function(Cn){return en.apply(this,arguments)}}()),dt=yield function zu(v){return Promise.all(v.map(function(){var m=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return m.apply(this,arguments)}}()))}(ke);S.ports[0].postMessage({status:"done",eventId:k,eventType:q,response:dt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Nc(v="",m=10){let g="";for(let w=0;w<m;w++)g+=Math.floor(10*Math.random());return v+g}class jh{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,g,w=50){var S=this;return(0,d.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let q,re;return new Promise((je,ke)=>{const dt=Nc("",20);k.port1.start();const en=setTimeout(()=>{ke(new Error("unsupported_event"))},w);re={messageChannel:k,onMessage(Cn){const Ti=Cn;if(Ti.data.eventId===dt)switch(Ti.data.status){case"ack":clearTimeout(en),q=setTimeout(()=>{ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),je(Ti.data.response);break;default:clearTimeout(en),clearTimeout(q),ke(new Error("invalid_response"))}}},S.handlers.add(re),k.port1.addEventListener("message",re.onMessage),S.target.postMessage({eventType:m,eventId:dt,data:g},[k.port2])}).finally(()=>{re&&S.removeMessageHandler(re)})})()}}function ri(){return window}function Ki(){return typeof ri().WorkerGlobalScope<"u"&&"function"==typeof ri().importScripts}function Kn(){return(Kn=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Gs="firebaseLocalStorageDb",La="firebaseLocalStorage",Fl="fbase_key";class Wo{constructor(m){this.request=m}toPromise(){return new Promise((m,g)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function wo(v,m){return v.transaction([La],m?"readwrite":"readonly").objectStore(La)}function Pc(){const v=indexedDB.open(Gs,1);return new Promise((m,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(La,{keyPath:Fl})}catch(S){g(S)}}),v.addEventListener("success",(0,d.Z)(function*(){const w=v.result;w.objectStoreNames.contains(La)?m(w):(w.close(),yield function Hh(){const v=indexedDB.deleteDatabase(Gs);return new Wo(v).toPromise()}(),m(yield Pc()))}))})}function Va(v,m,g){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,d.Z)(function*(v,m,g){const w=wo(v,!0).put({[Fl]:m,value:g});return new Wo(w).toPromise()})).apply(this,arguments)}function oi(){return(oi=(0,d.Z)(function*(v,m){const g=wo(v,!1).get(m),w=yield new Wo(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Di(v,m){const g=wo(v,!0).delete(m);return new Wo(g).toPromise()}const ar=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield Pc()),g.db})()}_withRetries(g){var w=this;return(0,d.Z)(function*(){let S=0;for(;;)try{const k=yield w._openDb();return yield g(k)}catch(k){if(S++>3)throw k;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return Ki()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=Am._getInstance(function Mm(){return Ki()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,d.Z)(function*(S,k){return{keyProcessed:(yield g._poll()).includes(k.key)}});return function(S,k){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,d.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var w,S;if(g.activeServiceWorker=yield function _s(){return Kn.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new jh(g.activeServiceWorker);const k=yield g.sender._send("ping",{},800);k&&null!==(w=k[0])&&void 0!==w&&w.fulfilled&&null!==(S=k[0])&&void 0!==S&&S.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,d.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function $u(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Pc();return yield Va(g,Pl,"1"),yield Di(g,Pl),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,d.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var S=this;return(0,d.Z)(function*(){return S._withPendingWrite((0,d.Z)(function*(){return yield S._withRetries(k=>Va(k,g,w)),S.localCache[g]=w,S.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,d.Z)(function*(){const S=yield w._withRetries(k=>function Ll(v,m){return oi.apply(this,arguments)}(k,g));return w.localCache[g]=S,S})()}_remove(g){var w=this;return(0,d.Z)(function*(){return w._withPendingWrite((0,d.Z)(function*(){return yield w._withRetries(S=>Di(S,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const w=yield g._withRetries(q=>{const re=wo(q,!1).getAll();return new Wo(re).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:q,value:re}of w)k.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(re)&&(g.notifyListeners(q,re),S.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!k.has(q)&&(g.notifyListeners(q,null),S.push(q));return S})()}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const k of Array.from(S))k(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),Gu=1e12;class Lc{constructor(m){this.auth=m,this.counter=Gu,this._widgets=new Map}render(m,g){const w=this.counter;return this._widgets.set(w,new gt(m,this.auth.name,g||{})),this.counter++,w}reset(m){var g;const w=m||Gu;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(m){var g;return(null===(g=this._widgets.get(m||Gu))||void 0===g?void 0:g.getResponse())||""}execute(m){var g=this;return(0,d.Z)(function*(){var w;return null===(w=g._widgets.get(m||Gu))||void 0===w||w.execute(),""})()}}class gt{constructor(m,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof m?document.getElementById(m):m;Te(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Rr(v){const m=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)m.push(g.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":g}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ul=Fi("rcb"),Ws=new Et(3e4,6e4);class Ba{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=ri().grecaptcha)||void 0===m||!m.render)}load(m,g=""){return Te(function Bi(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),m,"argument-error"),this.shouldResolveImmediately(g)&&bh(ri().grecaptcha)?Promise.resolve(ri().grecaptcha):new Promise((w,S)=>{const k=ri().setTimeout(()=>{S(rt(m,"network-request-failed"))},Ws.get());ri()[Ul]=()=>{ri().clearTimeout(k),delete ri()[Ul];const re=ri().grecaptcha;if(!re||!bh(re))return void S(rt(m,"internal-error"));const je=re.render;re.render=(ke,dt)=>{const en=je(ke,dt);return this.counter++,en},this.hostLanguage=g,w(re)},Wt(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Ul,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(k),S(rt(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var g;return!(null===(g=ri().grecaptcha)||void 0===g||!g.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xr{load(m){return(0,d.Z)(function*(){return new Lc(m)})()}clearedOneInstance(){}}const ys="recaptcha",Zg={theme:"light",type:"image"};class Jr{constructor(m,g=Object.assign({},Zg),w){this.parameters=g,this.type=ys,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rn(w),this.isInvisible="invisible"===this.parameters.size,Te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof m?document.getElementById(m):m;Te(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xr:new Ba,this.validateStartingState()}verify(){var m=this;return(0,d.Z)(function*(){m.assertNotDestroyed();const g=yield m.render(),w=m.getAssertedRecaptcha();return w.getResponse(g)||new Promise(k=>{const q=re=>{re&&(m.tokenChangeListeners.delete(q),k(re))};m.tokenChangeListeners.add(q),m.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof m)m(g);else if("string"==typeof m){const w=ri()[m];"function"==typeof w&&w(g)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,d.Z)(function*(){if(yield m.init(),!m.widgetId){let g=m.container;if(!m.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}m.widgetId=m.getAssertedRecaptcha().render(g,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,d.Z)(function*(){Te(Yn()&&!Ki(),m.auth,"internal-error"),yield function Pm(){let v=null;return new Promise(m=>{"complete"!==document.readyState?(v=()=>m(),window.addEventListener("load",v)):m()}).catch(m=>{throw v&&window.removeEventListener("load",v),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const g=yield function vh(v){return Cu.apply(this,arguments)}(m.auth);Te(g,m.auth,"internal-error"),m.parameters.sitekey=g})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vs{constructor(m,g){this.verificationId=m,this.onConfirmation=g}confirm(m){const g=Sa._fromVerification(this.verificationId,m);return this.onConfirmation(g)}}function qs(v,m,g){return jl.apply(this,arguments)}function jl(){return(jl=(0,d.Z)(function*(v,m,g){const w=rn(v),S=yield Io(w,m,(0,H.m9)(g));return new vs(S,k=>Ec(w,k))})).apply(this,arguments)}function xo(v,m,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,d.Z)(function*(v,m,g){const w=(0,H.m9)(v);yield Xn(!1,w,"phone");const S=yield Io(w.auth,m,(0,H.m9)(g));return new vs(S,k=>Ru(w,k))})).apply(this,arguments)}function Wu(v,m,g){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,d.Z)(function*(v,m,g){const w=(0,H.m9)(v),S=yield Io(w.auth,m,(0,H.m9)(g));return new vs(S,k=>Ou(w,k))})).apply(this,arguments)}function Io(v,m,g){return Co.apply(this,arguments)}function Co(){return Co=(0,d.Z)(function*(v,m,g){var w;const S=yield g.verify();try{let k;if(Te("string"==typeof S,v,"argument-error"),Te(g.type===ys,v,"argument-error"),k="string"==typeof m?{phoneNumber:m}:m,"session"in k){const q=k.session;if("phoneNumber"in k)return Te("enroll"===q.type,v,"internal-error"),(yield function sr(v,m){return yt(v,"POST","/v2/accounts/mfaEnrollment:start",Yt(v,m))}(v,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Te("signin"===q.type,v,"internal-error");const re=(null===(w=k.multiFactorHint)||void 0===w?void 0:w.uid)||k.multiFactorUid;return Te(re,v,"missing-multi-factor-info"),(yield function zh(v,m){return yt(v,"POST","/v2/accounts/mfaSignIn:start",Yt(v,m))}(v,{mfaPendingCredential:q.credential,mfaEnrollmentId:re,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield function Su(v,m){return po.apply(this,arguments)}(v,{phoneNumber:k.phoneNumber,recaptchaToken:S});return q}}finally{g._reset()}}),Co.apply(this,arguments)}function ja(v,m){return Si.apply(this,arguments)}function Si(){return(Si=(0,d.Z)(function*(v,m){yield Vr((0,H.m9)(v),m)})).apply(this,arguments)}let Ha=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=rn(g)}verifyPhoneNumber(g,w){return Io(this.auth,g,(0,H.m9)(w))}static credential(g,w){return Sa._fromVerification(g,w)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:S}=g;return w&&S?Sa._fromTokenResponse(w,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Er(v,m){return m?_r(m):(Te(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class mn extends br{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Zn(m,this._buildIdpRequest())}_linkToIdToken(m,g){return Zn(m,this._buildIdpRequest(g))}_getReauthenticationResolver(m){return Zn(m,this._buildIdpRequest())}_buildIdpRequest(m){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(g.idToken=m),g}}function zn(v){return Ra(v.auth,new mn(v),v.bypassAuthState)}function hi(v){const{auth:m,user:g}=v;return Te(g,m,"internal-error"),Sh(g,new mn(v),v.bypassAuthState)}function Br(v){return In.apply(this,arguments)}function In(){return(In=(0,d.Z)(function*(v){const{auth:m,user:g}=v;return Te(g,m,"internal-error"),Vr(g,new mn(v),v.bypassAuthState)})).apply(this,arguments)}class yi{constructor(m,g,w,S,k=!1){this.auth=m,this.resolver=w,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var m=this;return new Promise(function(){var g=(0,d.Z)(function*(w,S){m.pendingPromise={resolve:w,reject:S};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(k){m.reject(k)}});return function(w,S){return g.apply(this,arguments)}}())}onAuthEvent(m){var g=this;return(0,d.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:k,tenantId:q,error:re,type:je}=m;if(re)return void g.reject(re);const ke={auth:g.auth,requestUri:w,sessionId:S,tenantId:q||void 0,postBody:k||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(je)(ke))}catch(dt){g.reject(dt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return zn;case"linkViaPopup":case"linkViaRedirect":return Br;case"reauthViaPopup":case"reauthViaRedirect":return hi;default:Vt(this.auth,"internal-error")}}resolve(m){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const za=new Et(2e3,1e4);function $h(v,m,g){return qu.apply(this,arguments)}function qu(){return(qu=(0,d.Z)(function*(v,m,g){const w=rn(v);wn(v,m,go);const S=Er(w,g);return new Vc(w,"signInViaPopup",m,S).executeNotNull()})).apply(this,arguments)}function Do(v,m,g){return xr.apply(this,arguments)}function xr(){return(xr=(0,d.Z)(function*(v,m,g){const w=(0,H.m9)(v);wn(w.auth,m,go);const S=Er(w.auth,g);return new Vc(w.auth,"reauthViaPopup",m,S,w).executeNotNull()})).apply(this,arguments)}function $n(v,m,g){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,d.Z)(function*(v,m,g){const w=(0,H.m9)(v);wn(w.auth,m,go);const S=Er(w.auth,g);return new Vc(w.auth,"linkViaPopup",m,S,w).executeNotNull()})).apply(this,arguments)}let Vc=(()=>{class v extends yi{constructor(g,w,S,k,q){super(g,w,k,q),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const w=yield g.execute();return Te(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,d.Z)(function*(){qn(1===g.filter.length,"Popup operations only handle one event");const w=Nc();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(rt(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,S;this.pollId=null!==(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(rt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,za.get())};g()}}return v.currentPopupAction=null,v})();const $a="pendingRedirect",Ir=new Map;class Gh extends yi{constructor(m,g,w=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var m=()=>super.execute,g=this;return(0,d.Z)(function*(){let w=Ir.get(g.auth._key());if(!w){try{const k=(yield function Ga(v,m){return Zs.apply(this,arguments)}(g.resolver,g.auth))?yield m().call(g):null;w=()=>Promise.resolve(k)}catch(S){w=()=>Promise.reject(S)}Ir.set(g.auth._key(),w)}return g.bypassAuthState||Ir.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(m){var g=()=>super.onAuthEvent,w=this;return(0,d.Z)(function*(){if("signInViaRedirect"===m.type)return g().call(w,m);if("unknown"!==m.type){if(m.eventId){const S=yield w.auth._redirectUserForId(m.eventId);if(S)return w.user=S,g().call(w,m);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Zs(){return(Zs=(0,d.Z)(function*(v,m){const g=Wa(m),w=Kg(v);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(g));return yield w._remove(g),S})).apply(this,arguments)}function Gt(v,m){return bs.apply(this,arguments)}function bs(){return(bs=(0,d.Z)(function*(v,m){return Kg(v)._set(Wa(m),"true")})).apply(this,arguments)}function Wh(){Ir.clear()}function Bc(v,m){Ir.set(v._key(),m)}function Kg(v){return _r(v._redirectPersistence)}function Wa(v){return _a($a,v.config.apiKey,v.name)}function So(v,m,g){return function qh(v,m,g){return Pn.apply(this,arguments)}(v,m,g)}function Pn(){return(Pn=(0,d.Z)(function*(v,m,g){const w=rn(v);wn(v,m,go),yield w._initializationPromise;const S=Er(w,g);return yield Gt(S,w),S._openRedirect(w,m,"signInViaRedirect")})).apply(this,arguments)}function qo(v,m,g){return function Uc(v,m,g){return Hl.apply(this,arguments)}(v,m,g)}function Hl(){return(Hl=(0,d.Z)(function*(v,m,g){const w=(0,H.m9)(v);wn(w.auth,m,go),yield w.auth._initializationPromise;const S=Er(w.auth,g);yield Gt(S,w.auth);const k=yield Ys(w);return S._openRedirect(w.auth,m,"reauthViaRedirect",k)})).apply(this,arguments)}function vi(v,m,g){return function jc(v,m,g){return to.apply(this,arguments)}(v,m,g)}function to(){return(to=(0,d.Z)(function*(v,m,g){const w=(0,H.m9)(v);wn(w.auth,m,go),yield w.auth._initializationPromise;const S=Er(w.auth,g);yield Xn(!1,w,m.providerId),yield Gt(S,w.auth);const k=yield Ys(w);return S._openRedirect(w.auth,m,"linkViaRedirect",k)})).apply(this,arguments)}function zl(v,m){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,d.Z)(function*(v,m){return yield rn(v)._initializationPromise,Hc(v,m,!1)})).apply(this,arguments)}function Hc(v,m){return zc.apply(this,arguments)}function zc(){return(zc=(0,d.Z)(function*(v,m,g=!1){const w=rn(v),S=Er(w,m),q=yield new Gh(w,S,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield w._persistUserIfCurrent(q.user),yield w._setRedirectUser(null,m)),q})).apply(this,arguments)}function Ys(v){return _n.apply(this,arguments)}function _n(){return(_n=(0,d.Z)(function*(v){const m=Nc(`${v.uid}:::`);return v._redirectEventId=m,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),m})).apply(this,arguments)}class D{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(m,w)&&(g=!0,this.sendToConsumer(m,w),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function K(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V(v);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=m,g=!0)),g}sendToConsumer(m,g){var w;if(m.error&&!V(m)){const S=(null===(w=m.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(rt(this.auth,S))}else g.onAuthEvent(m)}isEventForConsumer(m,g){const w=null===g.eventId||!!m.eventId&&m.eventId===g.eventId;return g.filter.includes(m.type)&&w}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(A(m))}saveEventToCache(m){this.cachedEventUids.add(A(m)),this.lastProcessedEventTime=Date.now()}}function A(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(m=>m).join("-")}function V({type:v,error:m}){return"unknown"===v&&"auth/no-auth-event"===m?.code}function J(v){return ye.apply(this,arguments)}function ye(){return(ye=(0,d.Z)(function*(v,m={}){return yt(v,"GET","/v1/projects",m)})).apply(this,arguments)}const tt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ze=/^https?/;function Ft(){return(Ft=(0,d.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:m}=yield J(v);for(const g of m)try{if(Bt(g))return}catch{}Vt(v,"unauthorized-domain")})).apply(this,arguments)}function Bt(v){const m=pi(),{protocol:g,hostname:w}=new URL(m);if(v.startsWith("chrome-extension://")){const q=new URL(v);return""===q.hostname&&""===w?"chrome-extension:"===g&&v.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===w}if(!Ze.test(g))return!1;if(tt.test(v))return w===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const ji=new Et(3e4,6e4);function si(){const v=ri().___jsl;if(v?.H)for(const m of Object.keys(v.H))if(v.H[m].r=v.H[m].r||[],v.H[m].L=v.H[m].L||[],v.H[m].r=[...v.H[m].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let Qs=null;const no=new Et(5e3,15e3),Zo="__/auth/iframe",qa="emulator/auth/iframe",Zh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kv(v){const m=v.config;Te(m.authDomain,v,"auth-domain-config-required");const g=m.emulator?At(m,qa):`https://${v.config.authDomain}/${Zo}`,w={apiKey:m.apiKey,appName:v.name,v:N.SDK_VERSION},S=Yg.get(v.config.apiHost);S&&(w.eid=S);const k=v._getFrameworks();return k.length&&(w.fw=k.join(",")),`${g}?${(0,H.xO)(w).slice(1)}`}function Za(){return Za=(0,d.Z)(function*(v){const m=yield function Es(v){return Qs=Qs||function ws(v){return new Promise((m,g)=>{var w,S,k;function q(){si(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{si(),g(rt(v,"network-request-failed"))},timeout:ji.get()})}if(null!==(S=null===(w=ri().gapi)||void 0===w?void 0:w.iframes)&&void 0!==S&&S.Iframe)m(gapi.iframes.getContext());else{if(null===(k=ri().gapi)||void 0===k||!k.load){const re=Fi("iframefcb");return ri()[re]=()=>{gapi.load?q():g(rt(v,"network-request-failed"))},Wt(`https://apis.google.com/js/api.js?onload=${re}`).catch(je=>g(je))}q()}}).catch(m=>{throw Qs=null,m})}(v),Qs}(v),g=ri().gapi;return Te(g,v,"internal-error"),m.open({where:document.body,url:kv(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zh,dontclear:!0},w=>new Promise(function(){var S=(0,d.Z)(function*(k,q){yield w.restyle({setHideOnLeave:!1});const re=rt(v,"network-request-failed"),je=ri().setTimeout(()=>{q(re)},no.get());function ke(){ri().clearTimeout(je),k(w)}w.ping(ke).then(ke,()=>{q(re)})});return function(k,q){return S.apply(this,arguments)}}()))}),Za.apply(this,arguments)}const Zu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $c{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Xg="__/auth/handler",Gc="emulator/auth/handler",$l=encodeURIComponent("fac");function Ku(v,m,g,w,S,k){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,d.Z)(function*(v,m,g,w,S,k){Te(v.config.authDomain,v,"auth-domain-config-required"),Te(v.config.apiKey,v,"invalid-api-key");const q={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:w,v:N.SDK_VERSION,eventId:S};if(m instanceof go){m.setDefaultLanguage(v.languageCode),q.providerId=m.providerId||"",(0,H.xb)(m.getCustomParameters())||(q.customParameters=JSON.stringify(m.getCustomParameters()));for(const[dt,en]of Object.entries(k||{}))q[dt]=en}if(m instanceof wc){const dt=m.getScopes().filter(en=>""!==en);dt.length>0&&(q.scopes=dt.join(","))}v.tenantId&&(q.tid=v.tenantId);const re=q;for(const dt of Object.keys(re))void 0===re[dt]&&delete re[dt];const je=yield v._getAppCheckToken(),ke=je?`#${$l}=${encodeURIComponent(je)}`:"";return`${function Lv({config:v}){return v.emulator?At(v,Gc):`https://${v.authDomain}/${Xg}`}(v)}?${(0,H.xO)(re).slice(1)}${ke}`})).apply(this,arguments)}const Kh="webStorageSupport",Jg=class Lm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fa,this._completeRedirectFn=Hc,this._overrideRedirectResult=Bc}_openPopup(m,g,w,S){var k=this;return(0,d.Z)(function*(){var q;qn(null===(q=k.eventManagers[m._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const re=yield Ku(m,g,w,pi(),S);return function Fv(v,m,g,w=500,S=600){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),q=Math.max((window.screen.availWidth-w)/2,0).toString();let re="";const je=Object.assign(Object.assign({},Zu),{width:w.toString(),height:S.toString(),top:k,left:q}),ke=(0,H.z$)().toLowerCase();g&&(re=yr(ke)?"_blank":g),ya(ke)&&(m=m||"http://localhost",je.scrollbars="yes");const dt=Object.entries(je).reduce((Cn,[Ti,Xs])=>`${Cn}${Ti}=${Xs},`,"");if(function ss(v=(0,H.z$)()){var m;return va(v)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(ke)&&"_self"!==re)return function Qg(v,m){const g=document.createElement("a");g.href=v,g.target=m;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(m||"",re),new $c(null);const en=window.open(m||"",re,dt);Te(en,v,"popup-blocked");try{en.focus()}catch{}return new $c(en)}(m,re,Nc())})()}_openRedirect(m,g,w,S){var k=this;return(0,d.Z)(function*(){return yield k._originValidation(m),function qg(v){ri().location.href=v}(yield Ku(m,g,w,pi(),S)),new Promise(()=>{})})()}_initialize(m){const g=m._key();if(this.eventManagers[g]){const{manager:S,promise:k}=this.eventManagers[g];return S?Promise.resolve(S):(qn(k,"If manager is not set, promise should be"),k)}const w=this.initAndGetManager(m);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(m){var g=this;return(0,d.Z)(function*(){const w=yield function Rv(v){return Za.apply(this,arguments)}(m),S=new D(m);return w.register("authEvent",k=>(Te(k?.authEvent,m,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[m._key()]={manager:S},g.iframes[m._key()]=w,S})()}_isIframeWebStorageSupported(m,g){this.iframes[m._key()].send(Kh,{type:Kh},S=>{var k;const q=null===(k=S?.[0])||void 0===k?void 0:k[Kh];void 0!==q&&g(!!q),Vt(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const g=m._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function _t(v){return Ft.apply(this,arguments)}(m)),this.originValidationPromises[g]}get _shouldInitProactively(){return yh()||wl()||va()}};class Vv{constructor(m){this.factorId=m}_process(m,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(m,g.credential,w);case"signin":return this._finalizeSignIn(m,g.credential);default:return En("unexpected MultiFactorSessionType")}}}class Qu extends Vv{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Qu(m)}_finalizeEnroll(m,g,w){return function vo(v,m){return yt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Yt(v,m))}(m,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,g){return function Vl(v,m){return yt(v,"POST","/v2/accounts/mfaSignIn:finalize",Yt(v,m))}(m,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Bv=(()=>{class v{constructor(){}static assertion(g){return Qu._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var e_="@firebase/auth";class Yh{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const g=this.auth.onIdTokenChanged(w=>{m(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,g),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const g=this.internalListeners.get(m);g&&(this.internalListeners.delete(m),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,H.Pz)("authIdTokenMaxAge"),function Gl(v){(0,N._registerComponent)(new Mn.wA("auth",(m,{options:g})=>{const w=m.getProvider("app").getImmediate(),S=m.getProvider("heartbeat"),k=m.getProvider("app-check-internal"),{apiKey:q,authDomain:re}=w.options;Te(q&&!q.includes(":"),"invalid-api-key",{appName:w.name});const je={apiKey:q,authDomain:re,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bs(v)},ke=new Fg(w,S,k,je);return function Qn(v,m){const g=m?.persistence||[],w=(Array.isArray(g)?g:[g]).map(_r);m?.errorMap&&v._updateErrorMap(m.errorMap),v._initializeWithPersistence(w,m?.popupRedirectResolver)}(ke,g),ke},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,g,w)=>{m.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new Mn.wA("auth-internal",m=>{const g=rn(m.getProvider("auth").getImmediate());return new Yh(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(e_,"0.23.2",function xs(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,N.registerVersion)(e_,"0.23.2","esm2017")}("Browser")},9058:(pt,xe,P)=>{P.d(xe,{$s:()=>We,BH:()=>ue,G6:()=>ir,L:()=>pe,LL:()=>ze,P0:()=>ht,Pz:()=>Pe,Sg:()=>Ce,UG:()=>Le,US:()=>ce,ZB:()=>ne,ZR:()=>Ue,aH:()=>le,b$:()=>ln,eu:()=>me,hl:()=>se,jU:()=>Je,m9:()=>Mt,ne:()=>xn,pd:()=>At,r3:()=>Te,ru:()=>Nt,tV:()=>j,uI:()=>de,vZ:()=>Yn,w1:()=>Ln,xO:()=>lo,xb:()=>qn,z$:()=>Be,zI:()=>ge,zd:()=>Et});const X=function($){const z=[];let F=0;for(let L=0;L<$.length;L++){let O=$.charCodeAt(L);O<128?z[F++]=O:O<2048?(z[F++]=O>>6|192,z[F++]=63&O|128):55296==(64512&O)&&L+1<$.length&&56320==(64512&$.charCodeAt(L+1))?(O=65536+((1023&O)<<10)+(1023&$.charCodeAt(++L)),z[F++]=O>>18|240,z[F++]=O>>12&63|128,z[F++]=O>>6&63|128,z[F++]=63&O|128):(z[F++]=O>>12|224,z[F++]=O>>6&63|128,z[F++]=63&O|128)}return z},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,z){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let O=0;O<$.length;O+=3){const ee=$[O],Ie=O+1<$.length,ut=Ie?$[O+1]:0,kt=O+2<$.length,It=kt?$[O+2]:0;let Sn=(15&ut)<<2|It>>6,Jt=63&It;kt||(Jt=64,Ie||(Sn=64)),L.push(F[ee>>2],F[(3&ee)<<4|ut>>4],F[Sn],F[Jt])}return L.join("")},encodeString($,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa($):this.encodeByteArray(X($),z)},decodeString($,z){return this.HAS_NATIVE_SUPPORT&&!z?atob($):function($){const z=[];let F=0,L=0;for(;F<$.length;){const O=$[F++];if(O<128)z[L++]=String.fromCharCode(O);else if(O>191&&O<224){const ee=$[F++];z[L++]=String.fromCharCode((31&O)<<6|63&ee)}else if(O>239&&O<365){const kt=((7&O)<<18|(63&$[F++])<<12|(63&$[F++])<<6|63&$[F++])-65536;z[L++]=String.fromCharCode(55296+(kt>>10)),z[L++]=String.fromCharCode(56320+(1023&kt))}else{const ee=$[F++],Ie=$[F++];z[L++]=String.fromCharCode((15&O)<<12|(63&ee)<<6|63&Ie)}}return z.join("")}(this.decodeStringToByteArray($,z))},decodeStringToByteArray($,z){this.init_();const F=z?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let O=0;O<$.length;){const ee=F[$.charAt(O++)],ut=O<$.length?F[$.charAt(O)]:0;++O;const It=O<$.length?F[$.charAt(O)]:64;++O;const zt=O<$.length?F[$.charAt(O)]:64;if(++O,null==ee||null==ut||null==It||null==zt)throw new we;L.push(ee<<2|ut>>4),64!==It&&(L.push(ut<<4&240|It>>2),64!==zt&&L.push(It<<6&192|zt))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class we extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pe=function($){return function($){const z=X($);return ce.encodeByteArray(z,!0)}($).replace(/\./g,"")},j=function($){try{return ce.decodeString($,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function ne($,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return z}for(const F in z)!z.hasOwnProperty(F)||!Ve(F)||($[F]=ne($[F],z[F]));return $}function Ve($){return"__proto__"!==$}const Ne=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=$&&j($[1]);return z&&JSON.parse(z)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},ht=$=>{const z=($=>{var z,F;return null===(F=null===(z=Ne())||void 0===z?void 0:z.emulatorHosts)||void 0===F?void 0:F[$]})($);if(!z)return;const F=z.lastIndexOf(":");if(F<=0||F+1===z.length)throw new Error(`Invalid host ${z} with no separate hostname and port!`);const L=parseInt(z.substring(F+1),10);return"["===z[0]?[z.substring(1,F-1),L]:[z.substring(0,F),L]},le=()=>{var $;return null===($=Ne())||void 0===$?void 0:$.config},Pe=$=>{var z;return null===(z=Ne())||void 0===z?void 0:z[`_${$}`]};class ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,F)=>{this.resolve=z,this.reject=F})}wrapCallback(z){return(F,L)=>{F?this.reject(F):this.resolve(L),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(F):z(F,L))}}}function Ce($,z){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const L=z||"demo-project",O=$.iat||0,ee=$.sub||$.user_id;if(!ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ie=Object.assign({iss:`https://securetoken.google.com/${L}`,aud:L,iat:O,exp:O+3600,auth_time:O,sub:ee,user_id:ee,firebase:{sign_in_provider:"custom",identities:{}}},$);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(Ie)),""].join(".")}function Be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function Le(){var $;const z=null===($=Ne())||void 0===$?void 0:$.forceEnvironment;if("node"===z)return!0;if("browser"===z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Je(){return"object"==typeof self&&self.self===self}function Nt(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function ln(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ln(){const $=Be();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function ir(){return!Le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function se(){try{return"object"==typeof indexedDB}catch{return!1}}function me(){return new Promise(($,z)=>{try{let F=!0;const L="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(L);O.onsuccess=()=>{O.result.close(),F||self.indexedDB.deleteDatabase(L),$(!0)},O.onupgradeneeded=()=>{F=!1},O.onerror=()=>{var ee;z((null===(ee=O.error)||void 0===ee?void 0:ee.message)||"")}}catch(F){z(F)}})}function ge(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ue extends Error{constructor(z,F,L){super(F),this.code=z,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ze.prototype.create)}}class ze{constructor(z,F,L){this.service=z,this.serviceName=F,this.errors=L}create(z,...F){const L=F[0]||{},O=`${this.service}/${z}`,ee=this.errors[z],Ie=ee?function et($,z){return $.replace(ct,(F,L)=>{const O=z[L];return null!=O?String(O):`<${L}?>`})}(ee,L):"Error";return new Ue(O,`${this.serviceName}: ${Ie} (${O}).`,L)}}const ct=/\{\$([^}]+)}/g;function Te($,z){return Object.prototype.hasOwnProperty.call($,z)}function qn($){for(const z in $)if(Object.prototype.hasOwnProperty.call($,z))return!1;return!0}function Yn($,z){if($===z)return!0;const F=Object.keys($),L=Object.keys(z);for(const O of F){if(!L.includes(O))return!1;const ee=$[O],Ie=z[O];if(Vn(ee)&&Vn(Ie)){if(!Yn(ee,Ie))return!1}else if(ee!==Ie)return!1}for(const O of L)if(!F.includes(O))return!1;return!0}function Vn($){return null!==$&&"object"==typeof $}function lo($){const z=[];for(const[F,L]of Object.entries($))Array.isArray(L)?L.forEach(O=>{z.push(encodeURIComponent(F)+"="+encodeURIComponent(O))}):z.push(encodeURIComponent(F)+"="+encodeURIComponent(L));return z.length?"&"+z.join("&"):""}function Et($){const z={};return $.replace(/^\?/,"").split("&").forEach(L=>{if(L){const[O,ee]=L.split("=");z[decodeURIComponent(O)]=decodeURIComponent(ee)}}),z}function At($){const z=$.indexOf("?");if(!z)return"";const F=$.indexOf("#",z);return $.substring(z,F>0?F:void 0)}function xn($,z){const F=new gi($,z);return F.subscribe.bind(F)}class gi{constructor(z,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{z(this)}).catch(L=>{this.error(L)})}next(z){this.forEachObserver(F=>{F.next(z)})}error(z){this.forEachObserver(F=>{F.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,F,L){let O;if(void 0===z&&void 0===F&&void 0===L)throw new Error("Missing Observer.");O=function yt($,z){if("object"!=typeof $||null===$)return!1;for(const F of z)if(F in $&&"function"==typeof $[F])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:F,complete:L},void 0===O.next&&(O.next=On),void 0===O.error&&(O.error=On),void 0===O.complete&&(O.complete=On);const ee=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),ee}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,z)}sendOne(z,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{F(this.observers[z])}catch(L){typeof console<"u"&&console.error&&console.error(L)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function On(){}const ei=1e3,_e=2,Z=144e5,ve=.5;function We($,z=ei,F=_e){const L=z*Math.pow(F,$),O=Math.round(ve*L*(Math.random()-.5)*2);return Math.min(Z,L+O)}function Mt($){return $&&$._delegate?$._delegate:$}},2714:(pt,xe,P)=>{var d=P(5879);let H=null;function N(){return H}class oe{}const ce=new d.OlP("DocumentToken");let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(pe)},providedIn:"platform"}),n})();const De=new d.OlP("Location Initialized");let pe=(()=>{class n extends we{constructor(){super(),this._doc=(0,d.f3M)(ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function j(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function W(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ne(n){return n&&"?"!==n[0]?"?"+n:n}let Ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Ke)},providedIn:"root"}),n})();const Ae=new d.OlP("appBaseHref");let Ke=(()=>{class n extends Ve{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return j(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ne(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const l=this.prepareExternalUrl(r+ne(a));this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,a){const l=this.prepareExternalUrl(r+ne(a));this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(we),d.LFG(Ae,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Re=(()=>{class n extends Ve{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=j(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let l=this.prepareExternalUrl(r+ne(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,a){let l=this.prepareExternalUrl(r+ne(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(we),d.LFG(Ae,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Qe=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function le(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(W(ht(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ne(i))}normalize(t){return n.stripTrailingSlash(function bt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ht(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ne(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ne(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=ne,n.joinWithSlash=j,n.stripTrailingSlash=W,n.\u0275fac=function(t){return new(t||n)(d.LFG(Ve))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ne(){return new Qe((0,d.LFG)(Ve))}()},providedIn:"root"}),n})();function ht(n){return n.replace(/\/index.html$/,"")}class _h{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pc=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new _h(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,l),va(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{va(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function va(n,e){n.context.$implicit=e.item}let ss=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Pg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){yh("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){yh("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Pg{constructor(){this.$implicit=null,this.ngIf=null}}function yh(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class Fi{createSubscription(e,t){return(0,d.rg0)(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){(0,d.rg0)(()=>e.unsubscribe())}}class Nn{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const wa=new Nn,Ar=new Fi;let yc=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,d.QGY)(t))return wa;if((0,d.F4k)(t))return Ar;throw function Wt(n,e){return new d.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO,16))},n.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Gi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const ls="browser";function us(n){return n===ls}function jo(n){return"server"===n}let Eh=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new Zr((0,d.LFG)(ce),window)}),n})();class Zr{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ds(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=js(this.window.history)||js(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function js(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Oa extends oe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ii extends Oa{static makeCurrent(){!function X(n){H||(H=n)}(new Ii)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Mh(){return Na=Na||document.querySelector("base"),Na?Na.getAttribute("href"):null}();return null==t?null:function kr(n){Kr=Kr||document.createElement("a"),Kr.setAttribute("href",n);const e=Kr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Na=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function xu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Kr,Na=null,kh=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Sc=new d.OlP("EventManagerPlugins");let Yr=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(a=>a.supports(t)),!i)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(t,i),i}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Sc),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Tc{constructor(e){this._doc=e}}const Rl="ng-app-id";let zs=(()=>{class n{constructor(t,i,r,a={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jo(a),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Rl}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const a=r.get(t);return a.usage+=i,a.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,a=r?.get(i);if(a?.parentNode===t)return r.delete(i),a.removeAttribute(Rl),a;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=i,this.platformIsServer&&l.setAttribute(Rl,this.appId),l}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const a=this.styleRef,l=a.get(i)?.elements;l?l.push(r):a.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ol={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ps=/%COMP%/g,Nh=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function gs(n,e){return e.map(t=>t.replace(ps,n))}let Qr=(()=>{class n{constructor(t,i,r,a,l,f,_,b=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=a,this.doc=l,this.platformId=f,this.ngZone=_,this.nonce=b,this.rendererByCompId=new Map,this.platformIsServer=jo(f),this.defaultRenderer=new Nl(t,l,_,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===d.ifc.ShadowDom&&(i={...i,encapsulation:d.ifc.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof an?r.applyToHost(t):r instanceof Oe&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let a=r.get(i.id);if(!a){const l=this.doc,f=this.ngZone,_=this.eventManager,b=this.sharedStylesHost,C=this.removeStylesOnCompDestroy,M=this.platformIsServer;switch(i.encapsulation){case d.ifc.Emulated:a=new an(_,b,i,this.appId,C,l,f,M);break;case d.ifc.ShadowDom:return new Sm(_,b,t,i,l,f,this.nonce,M);default:a=new Oe(_,b,i,C,l,f,M)}r.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Yr),d.LFG(zs),d.LFG(d.AFp),d.LFG(Nh),d.LFG(ce),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Nl{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Ol[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Fh(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Fh(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new d.vHH(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Ol[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ol[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,i,r&d.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=N().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Fh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Sm extends Nl{constructor(e,t,i,r,a,l,f,_){super(e,a,l,_),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const b=gs(r.id,r.styles);for(const C of b){const M=document.createElement("style");f&&M.setAttribute("nonce",f),M.textContent=C,this.shadowRoot.appendChild(M)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Oe extends Nl{constructor(e,t,i,r,a,l,f,_){super(e,a,l,f),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=_?gs(_,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class an extends Oe{constructor(e,t,i,r,a,l,f,_){const b=r+"-"+i.id;super(e,t,i,a,l,f,_,b),this.contentAttr=function Ac(n){return"_ngcontent-%COMP%".replace(ps,n)}(b),this.hostAttr=function Dm(n){return"_nghost-%COMP%".replace(ps,n)}(b)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Lh=(()=>{class n extends Tc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Mc=["alt","control","meta","shift"],Zi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gg={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Vu=(()=>{class n extends Tc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),l=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let l="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),l="code."),Mc.forEach(b=>{const C=i.indexOf(b);C>-1&&(i.splice(C,1),l+=b+".")}),l+=a,0!=i.length||0===a.length)return null;const _={};return _.domEventName=r,_.fullKey=l,_}static matchEventFullKeyCode(t,i){let r=Zi[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Mc.forEach(l=>{l!==r&&(0,Gg[l])(t)&&(a+=l+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Bu=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:ls},{provide:d.g9A,useValue:function Vh(){Ii.makeCurrent()},multi:!0},{provide:ce,useFactory:function sr(){return(0,d.RDi)(document),document},deps:[]}]),Jn=new d.OlP(""),bo=[{provide:d.rWj,useClass:class Fu{addToWindow(e){d.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new d.vHH(5103,!1);return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(i=>{const r=d.dqk.getAllAngularTestabilities();let a=r.length,l=!1;const f=function(_){l=l||_,a--,0==a&&i(l)};r.forEach(_=>{_.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Ci=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Bh(){return new d.qLn},deps:[]},{provide:Sc,useClass:Lh,multi:!0,deps:[ce,d.R0b,d.Lbi]},{provide:Sc,useClass:Vu,multi:!0,deps:[ce]},Qr,zs,Yr,{provide:d.FYo,useExisting:Qr},{provide:class Zn{},useClass:kh,deps:[]},[]];let Rc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Jn,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...Ci,...bo],imports:[Gi,d.hGG]}),n})(),Hu=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ju(){return new Hu((0,d.LFG)(ce))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Gs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):d.LFG(La),i},providedIn:"root"}),n})(),La=(()=>{class n extends Gs{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case d.q3G.NONE:return i;case d.q3G.HTML:return(0,d.qzn)(i,"HTML")?(0,d.z3N)(i):(0,d.EiD)(this._doc,String(i)).toString();case d.q3G.STYLE:return(0,d.qzn)(i,"Style")?(0,d.z3N)(i):i;case d.q3G.SCRIPT:if((0,d.qzn)(i,"Script"))return(0,d.z3N)(i);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(i,"URL")?(0,d.z3N)(i):(0,d.mCW)(String(i));case d.q3G.RESOURCE_URL:if((0,d.qzn)(i,"ResourceURL"))return(0,d.z3N)(i);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function km(n){return new La(n.get(ce))}(d.LFG(d.zs3)),i},providedIn:"root"}),n})();var oi=P(5592),Di=P(4674),hn=P(2459),ft=P(2096),ar=P(5619);const{isArray:zh}=Array,{getPrototypeOf:Vl,prototype:Om,keys:Nm}=Object;function Bl(n){if(1===n.length){const e=n[0];if(zh(e))return{args:e,keys:null};if(function Gu(n){return n&&"object"==typeof n&&Vl(n)===Om}(e)){const t=Nm(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Lc=P(2737),gt=P(7398);const{isArray:Rr}=Array;function Ws(n){return(0,gt.U)(e=>function Ul(n,e){return Rr(e)?n(...e):n(e)}(n,e))}var Eo=P(9940);function Ba(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Bi=P(8251),Xr=P(7103);function ys(...n){const e=(0,Eo.yG)(n),t=(0,Eo.jO)(n),{args:i,keys:r}=Bl(n);if(0===i.length)return(0,hn.D)([],e);const a=new oi.y(function Zg(n,e,t=Lc.y){return i=>{Jr(e,()=>{const{length:r}=n,a=new Array(r);let l=r,f=r;for(let _=0;_<r;_++)Jr(e,()=>{const b=(0,hn.D)(n[_],e);let C=!1;b.subscribe((0,Bi.x)(i,M=>{a[_]=M,C||(C=!0,f--),f||i.next(t(a.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,e,r?l=>Ba(r,l):Lc.y));return t?a.pipe(Ws(t)):a}function Jr(n,e,t){n?(0,Xr.f)(t,n,e):e()}const vs=(0,P(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var qs=P(7537);function xo(...n){return function jl(){return(0,qs.J)(1)}()((0,hn.D)(n,(0,Eo.yG)(n)))}var eo=P(4829);function Wu(n){return new oi.y(e=>{(0,eo.Xf)(n()).subscribe(e)})}var Ua=P(8407);function Io(n,e){const t=(0,Di.m)(n)?n:()=>n,i=r=>r.error(t());return new oi.y(e?r=>e.schedule(i,0,r):i)}var Co=P(6232),ja=P(7394),Si=P(9360);function Ha(){return(0,Si.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Bi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Er extends oi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Si.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ja.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Bi.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ja.w0.EMPTY)}return e}refCount(){return Ha()(this)}}var mn=P(8645),zn=P(4664);function hi(n){return n<=0?()=>Co.E:(0,Si.e)((e,t)=>{let i=0;e.subscribe((0,Bi.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Br(...n){const e=(0,Eo.yG)(n);return(0,Si.e)((t,i)=>{(e?xo(n,t,e):xo(n,t)).subscribe(i)})}function In(n,e){return(0,Si.e)((t,i)=>{let r=0;t.subscribe((0,Bi.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var yi=P(1631);function za(n){return(0,Si.e)((e,t)=>{let i=!1;e.subscribe((0,Bi.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function $h(n=qu){return(0,Si.e)((e,t)=>{let i=!1;e.subscribe((0,Bi.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function qu(){return new vs}function Do(n,e){const t=arguments.length>=2;return i=>i.pipe(n?In((r,a)=>n(r,a,i)):Lc.y,hi(1),t?za(e):$h(()=>new vs))}function xr(n,e){return(0,Di.m)(e)?(0,yi.z)(n,e,1):(0,yi.z)(n,1)}var $n=P(9397);function Ui(n){return(0,Si.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,Bi.x)(t,void 0,void 0,l=>{a=(0,eo.Xf)(n(l,Ui(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function $a(n,e){return(0,Si.e)(function Vc(n,e,t,i,r){return(a,l)=>{let f=t,_=e,b=0;a.subscribe((0,Bi.x)(l,C=>{const M=b++;_=f?n(_,C,M):(f=!0,C),i&&l.next(_)},r&&(()=>{f&&l.next(_),l.complete()})))}}(n,e,arguments.length>=2,!0))}function Ir(n){return n<=0?()=>Co.E:(0,Si.e)((e,t)=>{let i=[];e.subscribe((0,Bi.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Ga(n){return(0,gt.U)(()=>n)}function Zs(n){return(0,Si.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Gt="primary",bs=Symbol("RouteTitle");class Wh{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Bc(n){return new Wh(n)}function Kg(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const l=i[a],f=n[a];if(l.startsWith(":"))r[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function So(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!qh(n[r],e[r]))return!1;return!0}function qh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function Pn(n){return n.length>0?n[n.length-1]:null}function qo(n){return function Rm(n){return!!n&&(n instanceof oi.y||(0,Di.m)(n.lift)&&(0,Di.m)(n.subscribe))}(n)?n:(0,d.QGY)(n)?(0,hn.D)(Promise.resolve(n)):(0,ft.of)(n)}const Uc={exact:function to(n,e,t){if(!A(n.segments,e.segments)||!zc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!to(n.children[i],e.children[i],t))return!1;return!0},subset:Ks},Hl={exact:function jc(n,e){return So(n,e)},subset:function zl(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>qh(n[t],e[t]))},ignored:()=>!0};function vi(n,e,t){return Uc[t.paths](n.root,e.root,t.matrixParams)&&Hl[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ks(n,e,t){return Hc(n,e,e.segments,t)}function Hc(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!A(r,t)||e.hasChildren()||!zc(r,t,i))}if(n.segments.length===t.length){if(!A(n.segments,t)||!zc(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Ks(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(A(n.segments,r)&&zc(n.segments,r,i)&&n.children[Gt])&&Hc(n.children[Gt],e,a,i)}}function zc(n,e,t){return e.every((i,r)=>Hl[t](n[r].parameters,i.parameters))}class Ys{constructor(e=new _n([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bc(this.queryParams)),this._queryParamMap}toString(){return ye.serialize(this)}}class _n{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tt(this)}}class x{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Bc(this.parameters)),this._parameterMap}toString(){return Qs(this)}}function A(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new J},providedIn:"root"}),n})();class J{parse(e){const t=new Ov(e);return new Ys(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ze(e.root,!0)}`,i=function no(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Ft(t)}=${Ft(r)}`).join("&"):`${Ft(t)}=${Ft(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Bt(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ye=new J;function tt(n){return n.segments.map(e=>Qs(e)).join("/")}function Ze(n,e){if(!n.hasChildren())return tt(n);if(e){const t=n.children[Gt]?Ze(n.children[Gt],!1):"",i=[];return Object.entries(n.children).forEach(([r,a])=>{r!==Gt&&i.push(`${r}:${Ze(a,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function V(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Gt&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Gt&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===Gt?[Ze(n.children[Gt],!1)]:[`${r}:${Ze(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${tt(n)}/${t[0]}`:`${tt(n)}/(${t.join("//")})`}}function _t(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ft(n){return _t(n).replace(/%3B/gi,";")}function ji(n){return _t(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function si(n){return decodeURIComponent(n)}function ws(n){return si(n.replace(/\+/g,"%20"))}function Qs(n){return`${ji(n.path)}${function Es(n){return Object.keys(n).map(e=>`;${ji(e)}=${ji(n[e])}`).join("")}(n.parameters)}`}const Zo=/^[^\/()?;#]+/;function qa(n){const e=n.match(Zo);return e?e[0]:""}const Zh=/^[^\/()?;=#]+/,kv=/^[^=?&#]+/,Za=/^[^&#]+/;class Ov{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _n([],{}):new _n([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Gt]=new _n(e,t)),i}parseSegment(){const e=qa(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new x(si(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Yg(n){const e=n.match(Zh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=qa(this.remaining);r&&(i=r,this.capture(i))}e[si(t)]=si(i)}parseQueryParam(e){const t=function Rv(n){const e=n.match(kv);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const l=function Zu(n){const e=n.match(Za);return e?e[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=ws(t),a=ws(i);if(e.hasOwnProperty(r)){let l=e[r];Array.isArray(l)||(l=[l],e[r]=l),l.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=qa(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new d.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Gt);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[Gt]:new _n([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function Nv(n){return n.segments.length>0?new _n([],{[Gt]:n}):n}function Fm(n){const e={};for(const i of Object.keys(n.children)){const a=Fm(n.children[i]);if(i===Gt&&0===a.segments.length&&a.hasChildren())for(const[l,f]of Object.entries(a.children))e[l]=f;else(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function Pv(n){if(1===n.numberOfChildren&&n.children[Gt]){const e=n.children[Gt];return new _n(n.segments.concat(e.segments),e.children)}return n}(new _n(n.segments,e))}function $c(n){return n instanceof Ys}function Qg(n){let e;const r=Nv(function t(a){const l={};for(const _ of a.children){const b=t(_);l[_.outlet]=b}const f=new _n(a.url,l);return a===n&&(e=f),f}(n.root));return e??r}function Xg(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return Ku(r,r,r,t,i);const a=function Kh(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Lv(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Object.entries(a.outlets).forEach(([_,b])=>{f[_]="string"==typeof b?b.split("/"):b}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===l?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new Lv(t,e,i)}(e);if(a.toRoot())return Ku(r,r,new _n([],{}),t,i);const l=function Jg(n,e,t){if(n.isAbsolute)return new Lm(e,!0,0);if(!t)return new Lm(e,!1,NaN);if(null===t.parent)return new Lm(t,!0,0);const i=Gc(n.commands[0])?0:1;return function Vv(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new d.vHH(4005,!1);r=i.segments.length}return new Lm(i,!1,r-a)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(a,r,n),f=l.processChildren?Vm(l.segmentGroup,l.index,a.commands):Bv(l.segmentGroup,l.index,a.commands);return Ku(r,l.segmentGroup,f,t,i)}function Gc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function $l(n){return"object"==typeof n&&null!=n&&n.outlets}function Ku(n,e,t,i,r){let l,a={};i&&Object.entries(i).forEach(([_,b])=>{a[_]=Array.isArray(b)?b.map(C=>`${C}`):`${b}`}),l=n===e?t:Yu(n,e,t);const f=Nv(Fm(l));return new Ys(f,a,r)}function Yu(n,e,t){const i={};return Object.entries(n.children).forEach(([r,a])=>{i[r]=a===e?t:Yu(a,e,t)}),new _n(n.segments,i)}class Lv{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Gc(i[0]))throw new d.vHH(4003,!1);const r=i.find($l);if(r&&r!==Pn(i))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lm{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Bv(n,e,t){if(n||(n=new _n([],{})),0===n.segments.length&&n.hasChildren())return Vm(n,e,t);const i=function Xu(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const l=n.segments[r],f=t[i];if($l(f))break;const _=`${f}`,b=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!t_(_,b,l))return a;i+=2}else{if(!t_(_,{},l))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new _n(n.segments.slice(0,i.pathIndex),{});return a.children[Gt]=new _n(n.segments.slice(i.pathIndex),n.children),Vm(a,0,r)}return i.match&&0===r.length?new _n(n.segments,{}):i.match&&!n.hasChildren()?Bm(n,e,t):i.match?Vm(n,0,r):Bm(n,e,t)}function Vm(n,e,t){if(0===t.length)return new _n(n.segments,{});{const i=function Qu(n){return $l(n[0])?n[0].outlets:{[Gt]:n}}(t),r={};if(!i[Gt]&&n.children[Gt]&&1===n.numberOfChildren&&0===n.children[Gt].segments.length){const a=Vm(n.children[Gt],e,t);return new _n(n.segments,a.children)}return Object.entries(i).forEach(([a,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(r[a]=Bv(n.children[a],e,l))}),Object.entries(n.children).forEach(([a,l])=>{void 0===i[a]&&(r[a]=l)}),new _n(n.segments,r)}}function Bm(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if($l(a)){const _=Um(a.outlets);return new _n(i,_)}if(0===r&&Gc(t[0])){i.push(new x(n.segments[e].path,e_(t[0]))),r++;continue}const l=$l(a)?a.outlets[Gt]:`${a}`,f=r<t.length-1?t[r+1]:null;l&&f&&Gc(f)?(i.push(new x(l,e_(f))),r+=2):(i.push(new x(l,{})),r++)}return new _n(i,{})}function Um(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=Bm(new _n([],{}),0,i))}),e}function e_(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function t_(n,e,t){return n==t.path&&So(e,t.parameters)}const Yh="imperative";class xs{constructor(e,t){this.id=e,this.url=t}}class Gl extends xs{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Is extends xs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ju extends xs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wc extends xs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Qh extends xs{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ed extends xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v extends xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m extends xs{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class g extends xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w extends xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class k{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class q{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class re{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class je{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ke{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dt{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Cn{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ti,this.attachRef=null}}let Ti=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Cn,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Xs{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Wl(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Wl(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Yi(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Yi(e,this._root).map(t=>t.value)}}function Wl(n,e){if(n===e.value)return e;for(const t of e.children){const i=Wl(n,t);if(i)return i}return null}function Yi(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Yi(n,t);if(i.length)return i.unshift(e),i}return[]}class To{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ka(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ql extends Xs{constructor(e,t){super(e),this.snapshot=t,i_(this,e)}toString(){return this.snapshot.toString()}}function Qi(n,e){const t=function Zl(n,e){const l=new qc([],{},{},"",{},Gt,e,null,{});return new n_("",new To(l,[]))}(0,e),i=new ar.X([new x("",{})]),r=new ar.X({}),a=new ar.X({}),l=new ar.X({}),f=new ar.X(""),_=new Js(i,r,l,f,a,Gt,e,t.root);return _.snapshot=t.root,new ql(new To(_,[]),t)}class Js{constructor(e,t,i,r,a,l,f,_){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=a,this.outlet=l,this.component=f,this._futureSnapshot=_,this.title=this.dataSubject?.pipe((0,gt.U)(b=>b[bs]))??(0,ft.of)(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(e=>Bc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(e=>Bc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xh(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function Uv(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class qc{get title(){return this.data?.[bs]}constructor(e,t,i,r,a,l,f,_,b){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=l,this.component=f,this.routeConfig=_,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class n_ extends Xs{constructor(e,t){super(t),this.url=e,i_(this,t)}toString(){return jE(this._root)}}function i_(n,e){e.value._routerState=n,e.children.forEach(t=>i_(n,t))}function jE(n){const e=n.children.length>0?` { ${n.children.map(jE).join(", ")} } `:"";return`${n.value}${e}`}function r_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,So(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),So(e.params,t.params)||n.paramsSubject.next(t.params),function Wa(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!So(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),So(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function jv(n,e){const t=So(n.params,e.params)&&function D(n,e){return A(n,e)&&n.every((t,i)=>So(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||jv(n.parent,e.parent))}let Hv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Gt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Ti),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(Jh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=t;const r=this.location,l=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new zv(t,f,r.injector);this.activated=r.createComponent(l,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),n})();class zv{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Js?this.route:e===Ti?this.childContexts:this.parent.get(e,t)}}const Jh=new d.OlP("");let HE=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=ys([i.queryParams,i.params,i.data]).pipe((0,zn.w)(([a,l,f],_)=>(f={...a,...l,...f},0===_?(0,ft.of)(f):Promise.resolve(f)))).subscribe(a=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const l=(0,d.qFp)(i.component);if(l)for(const{templateName:f}of l.inputs)t.activatedComponentRef.setInput(f,a[f]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Hm(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function US(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Hm(n,i,r);return Hm(n,i)})}(n,e,t);return new To(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>Hm(n,f)),l}}const i=function zE(n){return new Js(new ar.X(n.url),new ar.X(n.params),new ar.X(n.queryParams),new ar.X(n.fragment),new ar.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>Hm(n,a));return new To(i,r)}}const o_="ngNavigationCancelingError";function $v(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=$c(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=td(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function td(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[o_]=!0,i.cancellationCode=e,t&&(i.url=t),i}function zm(n){return Gv(n)&&$c(n.url)}function Gv(n){return n&&n[o_]}let s_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,i){1&t&&d._UZ(0,"router-outlet")},dependencies:[Hv],encapsulation:2}),n})();function c_(n){const e=n.children&&n.children.map(c_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Gt&&(t.component=s_),t}function Ko(n){return n.outlet||Gt}function $m(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class nd{constructor(e,t,i,r,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=a}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),r_(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Ka(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,r[l],i),delete r[l]}),Object.values(r).forEach(a=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Ka(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],r);if(i&&i.outlet){const l=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Ka(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Ka(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new ke(a.value.snapshot))}),e.children.length&&this.forwardEvent(new re(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r_(r),r===a)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),r_(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=$m(r.snapshot);l.attachRef=null,l.route=r,l.injector=f,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,i)}}class qv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Gm{constructor(e,t){this.component=e,this.route=t}}function zS(n,e,t){const i=n._root;return Wm(i,e?e._root:null,t,[i.value])}function Zc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:i}function Wm(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=Ka(e);return n.children.forEach(l=>{(function qE(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const _=function ZE(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!A(n.url,e.url);case"pathParamsOrQueryParamsChange":return!A(n.url,e.url)||!So(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jv(n,e)||!So(n.queryParams,e.queryParams);default:return!jv(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new qv(i)):(a.data=l.data,a._resolvedData=l._resolvedData),Wm(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Gm(f.outlet.component,l))}else l&&ef(e,f,r),r.canActivateChecks.push(new qv(i)),Wm(n,null,a.component?f?f.children:null:t,i,r)})(l,a[l.value.outlet],t,i.concat([l.value]),r),delete a[l.value.outlet]}),Object.entries(a).forEach(([l,f])=>ef(f,t.getContext(l),r)),r}function ef(n,e,t){const i=Ka(n),r=n.value;Object.entries(i).forEach(([a,l])=>{ef(l,r.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new Gm(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function id(n){return"function"==typeof n}function tf(n){return n instanceof vs||"EmptyError"===n?.name}const d_=Symbol("INITIAL_VALUE");function rd(){return(0,zn.w)(n=>ys(n.map(e=>e.pipe(hi(1),Br(d_)))).pipe((0,gt.U)(e=>{for(const t of e)if(!0!==t){if(t===d_)return d_;if(!1===t||t instanceof Ys)return t}return!0}),In(e=>e!==d_),hi(1)))}function JE(n){return(0,Ua.z)((0,$n.b)(e=>{if($c(e))throw $v(0,e)}),(0,gt.U)(e=>!0===e))}class f_{constructor(e){this.segmentGroup=e||null}}class m_{constructor(e){this.urlTree=e}}function rf(n){return Io(new f_(n))}function sf(n){return Io(new m_(n))}class ex{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new d.vHH(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,ft.of)(i);if(r.numberOfChildren>1||!r.children[Gt])return Io(new d.vHH(4e3,!1));r=r.children[Gt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new Ys(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,a])=>{if("string"==typeof a&&a.startsWith(":")){const f=a.substring(1);i[r]=t[f]}else i[r]=a}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let l={};return Object.entries(t.children).forEach(([f,_])=>{l[f]=this.createSegmentGroup(e,_,i,r)}),new _n(a,l)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new d.vHH(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const g_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tx(n,e,t,i,r){const a=Kc(n,e,t);return a.matched?(i=function a_(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function tR(n,e,t,i){const r=e.canMatch;if(!r||0===r.length)return(0,ft.of)(!0);const a=r.map(l=>{const f=Zc(l,n);return qo(function u_(n){return n&&id(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))});return(0,ft.of)(a).pipe(rd(),JE())}(i,e,t).pipe((0,gt.U)(l=>!0===l?a:{...g_}))):(0,ft.of)(a)}function Kc(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...g_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Kg)(t,n,e);if(!r)return{...g_};const a={};Object.entries(r.posParams??{}).forEach(([f,_])=>{a[f]=_.path});const l=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function nx(n,e,t,i){return t.length>0&&function QS(n,e,t){return t.some(i=>Cs(n,e,i)&&Ko(i)!==Gt)}(n,t,i)?{segmentGroup:new _n(e,YS(i,new _n(t,n.children))),slicedSegments:[]}:0===t.length&&function XS(n,e,t){return t.some(i=>Cs(n,e,i))}(n,t,i)?{segmentGroup:new _n(n.segments,KS(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new _n(n.segments,n.children),slicedSegments:t}}function KS(n,e,t,i,r){const a={};for(const l of i)if(Cs(n,t,l)&&!r[Ko(l)]){const f=new _n([],{});a[Ko(l)]=f}return{...r,...a}}function YS(n,e){const t={};t[Gt]=e;for(const i of n)if(""===i.path&&Ko(i)!==Gt){const r=new _n([],{});t[Ko(i)]=r}return t}function Cs(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class tT{constructor(e,t,i,r,a,l,f){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=a,this.paramsInheritanceStrategy=l,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new ex(this.urlSerializer,this.urlTree)}noMatchError(e){return new d.vHH(4002,!1)}recognize(){const e=nx(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Gt).pipe(Ui(t=>{if(t instanceof m_)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof f_?this.noMatchError(t):t}),(0,gt.U)(t=>{const i=new qc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gt,this.rootComponentType,null,{}),r=new To(i,t),a=new n_("",r),l=function Fv(n,e,t=null,i=null){return Xg(Qg(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(a._root),{state:a,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Gt).pipe(Ui(i=>{throw i instanceof f_?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=Xh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,hn.D)(r).pipe(xr(a=>{const l=i.children[a],f=function HS(n,e){const t=n.filter(i=>Ko(i)===e);return t.push(...n.filter(i=>Ko(i)!==e)),t}(t,a);return this.processSegmentGroup(e,f,l,a)}),$a((a,l)=>(a.push(...l),a)),za(null),function Gh(n,e){const t=arguments.length>=2;return i=>i.pipe(n?In((r,a)=>n(r,a,i)):Lc.y,Ir(1),t?za(e):$h(()=>new vs))}(),(0,yi.z)(a=>{if(null===a)return rf(i);const l=ix(a);return function nT(n){n.sort((e,t)=>e.value.outlet===Gt?-1:t.value.outlet===Gt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,ft.of)(l)}))}processSegment(e,t,i,r,a,l){return(0,hn.D)(t).pipe(xr(f=>this.processSegmentAgainstRoute(f._injector??e,t,f,i,r,a,l).pipe(Ui(_=>{if(_ instanceof f_)return(0,ft.of)(null);throw _}))),Do(f=>!!f),Ui(f=>{if(tf(f))return function JS(n,e,t){return 0===e.length&&!n.children[t]}(i,r,a)?(0,ft.of)([]):rf(i);throw f}))}processSegmentAgainstRoute(e,t,i,r,a,l,f){return function af(n,e,t,i){return!!(Ko(n)===i||i!==Gt&&Cs(e,t,n))&&("**"===n.path||Kc(e,n,t).matched)}(i,r,a,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,a,l,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,a,l):rf(r):rf(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?sf(a):this.applyRedirects.lineralizeSegments(i,a).pipe((0,yi.z)(l=>{const f=new _n(l,{});return this.processSegment(e,t,f,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,l){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:C}=Kc(t,r,a);if(!f)return rf(t);const M=this.applyRedirects.applyRedirectCommands(_,r.redirectTo,C);return r.redirectTo.startsWith("/")?sf(M):this.applyRedirects.lineralizeSegments(r,M).pipe((0,yi.z)(B=>this.processSegment(e,i,t,B.concat(b),l,!1)))}matchSegmentAgainstRoute(e,t,i,r,a,l){let f;if("**"===i.path){const _=r.length>0?Pn(r).parameters:{},b=new qc(r,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rx(i),Ko(i),i.component??i._loadedComponent??null,i,ox(i));f=(0,ft.of)({snapshot:b,consumedSegments:[],remainingSegments:[]}),t.children={}}else f=tx(t,i,r,e).pipe((0,gt.U)(({matched:_,consumedSegments:b,remainingSegments:C,parameters:M})=>_?{snapshot:new qc(b,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rx(i),Ko(i),i.component??i._loadedComponent??null,i,ox(i)),consumedSegments:b,remainingSegments:C}:null));return f.pipe((0,zn.w)(_=>null===_?rf(t):this.getChildConfig(e=i._injector??e,i,r).pipe((0,zn.w)(({routes:b})=>{const C=i._loadedInjector??e,{snapshot:M,consumedSegments:B,remainingSegments:G}=_,{segmentGroup:Y,slicedSegments:ie}=nx(t,B,G,b);if(0===ie.length&&Y.hasChildren())return this.processChildren(C,b,Y).pipe((0,gt.U)(Ge=>null===Ge?null:[new To(M,Ge)]));if(0===b.length&&0===ie.length)return(0,ft.of)([new To(M,[])]);const fe=Ko(i)===a;return this.processSegment(C,b,Y,ie,fe?Gt:a,!0).pipe((0,gt.U)(Ge=>[new To(M,Ge)]))}))))}getChildConfig(e,t,i){return t.children?(0,ft.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,ft.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function ZS(n,e,t,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,ft.of)(!0);const a=r.map(l=>{const f=Zc(l,n);return qo(function l_(n){return n&&id(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))});return(0,ft.of)(a).pipe(rd(),JE())}(e,t,i).pipe((0,yi.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,$n.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Qv(n){return Io(td(!1,3))}())):(0,ft.of)({routes:[],injector:e})}}function iT(n){const e=n.value.routeConfig;return e&&""===e.path}function ix(n){const e=[],t=new Set;for(const i of n){if(!iT(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=ix(i.children);e.push(new To(i.value,r))}return e.filter(i=>!t.has(i))}function rx(n){return n.data||{}}function ox(n){return n.resolve||{}}function Xv(n){return"string"==typeof n.title||null===n.title}function y_(n){return(0,zn.w)(e=>{const t=n(e);return t?(0,hn.D)(t).pipe((0,gt.U)(()=>e)):(0,ft.of)(e)})}const Km=new d.OlP("ROUTES");let ax=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,ft.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=qo(t.loadComponent()).pipe((0,gt.U)(v_),(0,$n.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Zs(()=>{this.componentLoaders.delete(t)})),r=new Er(i,()=>new mn.x).pipe(Ha());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,ft.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,gt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,b;return Array.isArray(f)?b=f:(_=f.create(t).injector,b=_.get(Km,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:b.map(c_),injector:_}}),Zs(()=>{this.childrenLoaders.delete(i)})),l=new Er(a,()=>new mn.x).pipe(Ha());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(t){return qo(t()).pipe((0,gt.U)(v_),(0,yi.z)(i=>i instanceof d.YKP||Array.isArray(i)?(0,ft.of)(i):(0,hn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v_(n){return function nR(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let cf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new mn.x,this.configLoader=(0,d.f3M)(ax),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(K),this.rootContexts=(0,d.f3M)(Ti),this.inputBindingEnabled=null!==(0,d.f3M)(Jh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ft.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new k(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new S(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new ar.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yh,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(In(i=>0!==i.id),(0,gt.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),(0,zn.w)(i=>{let r=!1,a=!1;return(0,ft.of)(i).pipe((0,$n.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,zn.w)(l=>{const f=t.browserUrlTree.toString(),_=!t.navigated||l.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!_&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const C="";return this.events.next(new Wc(l.id,t.serializeUrl(i.rawUrl),C,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),Co.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return aT(l.source)&&(t.browserUrlTree=l.extractedUrl),(0,ft.of)(l).pipe((0,zn.w)(C=>{const M=this.transitions?.getValue();return this.events.next(new Gl(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),M!==this.transitions?.getValue()?Co.E:Promise.resolve(C)}),function oT(n,e,t,i,r,a){return(0,yi.z)(l=>function eT(n,e,t,i,r,a,l="emptyOnly"){return new tT(n,e,t,i,r,l,a).recognize()}(n,e,t,i,l.extractedUrl,r,a).pipe((0,gt.U)(({state:f,tree:_})=>({...l,targetSnapshot:f,urlAfterRedirects:_}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,$n.b)(C=>{if(i.targetSnapshot=C.targetSnapshot,i.urlAfterRedirects=C.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!C.extras.skipLocationChange){const B=t.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);t.setBrowserUrl(B,C)}t.browserUrlTree=C.urlAfterRedirects}const M=new ed(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(M)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:C,extractedUrl:M,source:B,restoredState:G,extras:Y}=l,ie=new Gl(C,this.urlSerializer.serialize(M),B,G);this.events.next(ie);const fe=Qi(0,this.rootComponentType).snapshot;return i={...l,targetSnapshot:fe,urlAfterRedirects:M,extras:{...Y,skipLocationChange:!1,replaceUrl:!1}},(0,ft.of)(i)}{const C="";return this.events.next(new Wc(l.id,t.serializeUrl(i.extractedUrl),C,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),Co.E}}),(0,$n.b)(l=>{const f=new v(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),(0,gt.U)(l=>i={...l,guards:zS(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function GS(n,e){return(0,yi.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?(0,ft.of)({...t,guardsResult:!0}):function WS(n,e,t,i){return(0,hn.D)(n).pipe((0,yi.z)(r=>function nf(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,ft.of)(!0);const l=a.map(f=>{const _=$m(e)??r,b=Zc(f,_);return qo(function Zv(n){return n&&id(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,i):_.runInContext(()=>b(n,e,t,i))).pipe(Do())});return(0,ft.of)(l).pipe(rd())}(r.component,r.route,t,e,i)),Do(r=>!0!==r,!0))}(l,i,r,n).pipe((0,yi.z)(f=>f&&function KE(n){return"boolean"==typeof n}(f)?function qS(n,e,t,i){return(0,hn.D)(e).pipe(xr(r=>xo(function XE(n,e){return null!==n&&e&&e(new q(n)),(0,ft.of)(!0)}(r.route.parent,i),function QE(n,e){return null!==n&&e&&e(new je(n)),(0,ft.of)(!0)}(r.route,i),function Yv(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function eR(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Wu(()=>{const f=l.guards.map(_=>{const b=$m(l.node)??t,C=Zc(_,b);return qo(function YE(n){return n&&id(n.canActivateChild)}(C)?C.canActivateChild(i,n):b.runInContext(()=>C(i,n))).pipe(Do())});return(0,ft.of)(f).pipe(rd())}));return(0,ft.of)(a).pipe(rd())}(n,r.path,t),function h_(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,ft.of)(!0);const r=i.map(a=>Wu(()=>{const l=$m(e)??t,f=Zc(a,l);return qo(function qm(n){return n&&id(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(Do())}));return(0,ft.of)(r).pipe(rd())}(n,r.route,t))),Do(r=>!0!==r,!0))}(i,a,n,e):(0,ft.of)(f)),(0,gt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,l=>this.events.next(l)),(0,$n.b)(l=>{if(i.guardsResult=l.guardsResult,$c(l.guardsResult))throw $v(0,l.guardsResult);const f=new m(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),In(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),y_(l=>{if(l.guards.canActivateChecks.length)return(0,ft.of)(l).pipe((0,$n.b)(f=>{const _=new g(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),(0,zn.w)(f=>{let _=!1;return(0,ft.of)(f).pipe(function sT(n,e){return(0,yi.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,ft.of)(t);let a=0;return(0,hn.D)(r).pipe(xr(l=>function __(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!Xv(r)&&(a[bs]=r.title),function Yc(n,e,t,i){const r=function Zm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,ft.of)({});const a={};return(0,hn.D)(r).pipe((0,yi.z)(l=>function sx(n,e,t,i){const r=$m(e)??i,a=Zc(n,r);return qo(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[l],e,t,i).pipe(Do(),(0,$n.b)(f=>{a[l]=f}))),Ir(1),Ga(a),Ui(l=>tf(l)?Co.E:Io(l)))}(a,n,e,i).pipe((0,gt.U)(l=>(n._resolvedData=l,n.data=Xh(n,t).resolve,r&&Xv(r)&&(n.data[bs]=r.title),null)))}(l.route,i,n,e)),(0,$n.b)(()=>a++),Ir(1),(0,yi.z)(l=>a===r.length?(0,ft.of)(t):Co.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,$n.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,$n.b)(f=>{const _=new w(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),y_(l=>{const f=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,$n.b)(C=>{_.component=C}),(0,gt.U)(()=>{})));for(const C of _.children)b.push(...f(C));return b};return ys(f(l.targetSnapshot.root)).pipe(za(),hi(1))}),y_(()=>this.afterPreactivation()),(0,gt.U)(l=>{const f=function jm(n,e,t){const i=Hm(n,e._root,t?t._root:void 0);return new ql(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return i={...l,targetRouterState:f}}),(0,$n.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t,i)=>(0,gt.U)(r=>(new nd(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),hi(1),(0,$n.b)({next:l=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Is(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{r=!0}}),Zs(()=>{r||a||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Ui(l=>{if(a=!0,Gv(l)){zm(l)||(t.navigated=!0,t.restoreHistory(i,!0));const f=new Ju(i.id,this.urlSerializer.serialize(i.extractedUrl),l.message,l.cancellationCode);if(this.events.next(f),zm(l)){const _=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),b={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||aT(i.source)};t.scheduleNavigation(_,Yh,null,b,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const f=new Qh(i.id,this.urlSerializer.serialize(i.extractedUrl),l,i.targetSnapshot??void 0);this.events.next(f);try{i.resolve(t.errorHandler(l))}catch(_){i.reject(_)}}return Co.E}))}))}cancelNavigationTransition(t,i,r){const a=new Ju(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aT(n){return n!==Yh}let cT=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===Gt);return i}getResolvedTitleForRoute(t){return t.data[bs]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(cx)},providedIn:"root"}),n})(),cx=(()=>{class n extends cT{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Hu))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(dT)},providedIn:"root"}),n})();class uT{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let dT=(()=>{class n extends uT{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const b_=new d.OlP("",{providedIn:"root",factory:()=>({})});let lx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(w_)},providedIn:"root"}),n})(),w_=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var lf=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(lf||{});function E_(n,e){n.events.pipe(In(t=>t instanceof Is||t instanceof Ju||t instanceof Qh||t instanceof Wc),(0,gt.U)(t=>t instanceof Is||t instanceof Wc?lf.COMPLETE:t instanceof Ju&&(0===t.code||1===t.code)?lf.REDIRECTING:lf.FAILED),In(t=>t!==lf.REDIRECTING),hi(1)).subscribe(()=>{e()})}function hT(n){throw n}function od(n,e,t){return e.parse("/")}const fT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(b_,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||hT,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||od,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(lx),this.routeReuseStrategy=(0,d.f3M)(lT),this.titleStrategy=(0,d.f3M)(cT),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(Km,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(cf),this.urlSerializer=(0,d.f3M)(K),this.location=(0,d.f3M)(Qe),this.componentInputBindingEnabled=!!(0,d.f3M)(Jh,{optional:!0}),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ys,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Qi(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Yh,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const a={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const _={...r};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t);this.scheduleNavigation(f,i,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(c_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:l,queryParamsHandling:f,preserveFragment:_}=i,b=_?this.currentUrlTree.fragment:l;let M,C=null;switch(f){case"merge":C={...this.currentUrlTree.queryParams,...a};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=a||null}null!==C&&(C=this.removeEmptyProps(C));try{M=Qg(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),M=this.currentUrlTree.root}return Xg(M,t,C,b??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=$c(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,Yh,null,i)}navigate(t,i={skipLocationChange:!1}){return function ux(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new d.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...fT}:!1===i?{...mT}:i,$c(t))return vi(this.currentUrlTree,t,r);const a=this.parseUrl(t);return vi(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}scheduleNavigation(t,i,r,a,l){if(this.disposed)return Promise.resolve(!1);let f,_,b;l?(f=l.resolve,_=l.reject,b=l.promise):b=new Promise((M,B)=>{f=M,_=B});const C=this.pendingTasks.add();return E_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(C))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(M=>Promise.reject(M))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",l)}else{const a={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(r,"",a)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),x_=(()=>{class n{constructor(t,i,r,a,l,f){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=l,this.locationStrategy=f,this.href=null,this.commands=null,this.onChanges=new mn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(b=>{b instanceof Is&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,a,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||a||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,a=this.el.nativeElement;null!==i?r.setAttribute(a,t,i):r.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Yo),d.Y36(Js),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Ve))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&d.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&d.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]}),n})();class dx{}let iR=(()=>{class n{constructor(t,i,r,a,l){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(In(t=>t instanceof Is),xr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,d.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,f=a._loadedInjector??l;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&r.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,hn.D)(r).pipe((0,qs.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,ft.of)(null);const a=r.pipe((0,yi.z)(l=>null===l?(0,ft.of)(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,hn.D)([a,l]).pipe((0,qs.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Yo),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(dx),d.LFG(ax))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sd=new d.OlP("");let An=(()=>{class n{constructor(t,i,r,a,l={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Gl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Is?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Wc&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof dt&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Ya(n,e){return{\u0275kind:n,\u0275providers:e}}function eb(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const i=n.get(Yo),r=n.get(C_);1===n.get(mx)&&i.initialNavigation(),n.get(nb,null,d.XFs.Optional)?.setUpPreloading(),n.get(sd,null,d.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const C_=new d.OlP("",{factory:()=>new mn.x}),mx=new d.OlP("",{providedIn:"root",factory:()=>1}),nb=new d.OlP("");function gx(n){return Ya(0,[{provide:nb,useExisting:iR},{provide:dx,useExisting:n}])}const S_=new d.OlP("ROUTER_FORROOT_GUARD"),T_=[Qe,{provide:K,useClass:J},Yo,Ti,{provide:Js,useFactory:function Jv(n){return n.routerState.root},deps:[Yo]},ax,[]];function ad(){return new d.PXZ("Router",Yo)}let A_=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[T_,[],{provide:Km,multi:!0,useValue:t},{provide:S_,useFactory:yx,deps:[[Yo,new d.FiY,new d.tp0]]},{provide:b_,useValue:i||{}},i?.useHash?{provide:Ve,useClass:Re}:{provide:Ve,useClass:Ke},{provide:sd,useFactory:()=>{const n=(0,d.f3M)(Eh),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(b_),i=(0,d.f3M)(cf),r=(0,d.f3M)(K);return t.scrollOffset&&n.setOffset(t.scrollOffset),new An(r,i,n,e,t)}},i?.preloadingStrategy?gx(i.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:ad},i?.initialNavigation?df(i):[],i?.bindToComponentInputs?Ya(8,[HE,{provide:Jh,useExisting:HE}]).\u0275providers:[],[{provide:vx,useFactory:eb},{provide:d.tb,multi:!0,useExisting:vx}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Km,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(S_,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function yx(n){return"guarded"}function df(n){return["disabled"===n.initialNavigation?Ya(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Yo);return()=>{e.setUpLocationChangeListener()}}},{provide:mx,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ya(2,[{provide:mx,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(De,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Yo),a=e.get(C_);E_(r,()=>{i(!0)}),e.get(cf).afterPreactivation=()=>(i(!0),a.closed?(0,ft.of)(void 0):a),r.initialNavigation()}))}}]).\u0275providers:[]]}const vx=new d.OlP("");var M_=P(6321),cn=P(2793);function rb(){return(0,Si.e)((n,e)=>{let t,i=!1;n.subscribe((0,Bi.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}var ot,ob=P(3997),Ao=P(6304),k_=(P(8661),P(3399)),Ee=P(5861),Kl=P(7592),Qc=P(4537),Mo=P(7879),Rt=P(9058),sb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},io={},cd=cd||{},Qt=sb||self;function hf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Yl(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ym="closure_uid_"+(1e9*Math.random()>>>0),ab=0;function Ex(n,e,t){return n.call.apply(n.bind,arguments)}function CT(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Ur(n,e,t){return(Ur=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ex:CT).apply(null,arguments)}function Qm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function cr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,a){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[r].apply(i,l)}}function Ql(){this.s=this.s,this.o=this.o}Ql.prototype.s=!1,Ql.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function lR(n){Object.prototype.hasOwnProperty.call(n,Ym)&&n[Ym]||(n[Ym]=++ab)}(this)},Ql.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ST=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function cb(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function R_(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(hf(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let l=0;l<a;l++)n[r+l]=i[l]}else n.push(i)}}function Cr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Cr.prototype.h=function(){this.defaultPrevented=!0};var TT=function(){if(!Qt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Qt.addEventListener("test",()=>{},e),Qt.removeEventListener("test",()=>{},e)}catch{}return n}();function ff(n){return/^[\s\xa0]*$/.test(n)}function mf(){var n=Qt.navigator;return n&&(n=n.userAgent)?n:""}function Qo(n){return-1!=mf().indexOf(n)}function lb(n){return lb[" "](n),n}lb[" "]=function(){};var dd,n,AT=Qo("Opera"),ld=Qo("Trident")||Qo("MSIE"),MT=Qo("Edge"),ub=MT||ld,Xm=Qo("Gecko")&&!(-1!=mf().toLowerCase().indexOf("webkit")&&!Qo("Edge"))&&!(Qo("Trident")||Qo("MSIE"))&&!Qo("Edge"),kT=-1!=mf().toLowerCase().indexOf("webkit")&&!Qo("Edge");function ud(){var n=Qt.document;return n?n.documentMode:void 0}e:{var db="",O_=(n=mf(),Xm?/rv:([^\);]+)(\)|;)/.exec(n):MT?/Edge\/([\d\.]+)/.exec(n):ld?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):kT?/WebKit\/(\S+)/.exec(n):AT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(O_&&(db=O_?O_[1]:""),ld){var hb=ud();if(null!=hb&&hb>parseFloat(db)){dd=String(hb);break e}}dd=db}var Cx=Qt.document&&ld&&(ud()||parseInt(dd,10))||void 0;function pf(n,e){if(Cr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Xm){e:{try{lb(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:mb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&pf.$.h.call(this)}}cr(pf,Cr);var mb={2:"touch",3:"pen",4:"mouse"};pf.prototype.h=function(){pf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Xc="closure_listenable_"+(1e6*Math.random()|0),Dx=0;function uR(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++Dx,this.fa=this.ia=!1}function gf(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Xl(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function pb(n){const e={};for(const t in n)e[t]=n[t];return e}const gb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sx(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<gb.length;a++)t=gb[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function P_(n){this.src=n,this.g={},this.h=0}function _b(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=ST(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(gf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function yb(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==i)return r}return-1}P_.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=yb(n,e,i,r);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new uR(e,this.src,a,!!i,r)).ia=t,n.push(e)),e};var vb="closure_lm_"+(1e6*Math.random()|0),bb={};function wb(n,e,t,i,r){if(i&&i.once)return Eb(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)wb(n,e[a],t,i,r);return null}return t=Tx(t),n&&n[Xc]?n.O(e,t,Yl(i)?!!i.capture:!!i,r):hd(n,e,t,!1,i,r)}function hd(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var l=Yl(r)?!!r.capture:!!r,f=F_(n);if(f||(n[vb]=f=new P_(n)),(t=f.add(e,t,i,l,a)).proxy)return t;if(i=function Jc(){const e=dR;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)TT||(r=l),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(OT(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Eb(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Eb(n,e[a],t,i,r);return null}return t=Tx(t),n&&n[Xc]?n.P(e,t,Yl(i)?!!i.capture:!!i,r):hd(n,e,t,!0,i,r)}function RT(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)RT(n,e[a],t,i,r);else i=Yl(i)?!!i.capture:!!i,t=Tx(t),n&&n[Xc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=yb(a=n.g[e],t,i,r))&&(gf(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=F_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=yb(e,t,i,r)),(t=-1<n?e[n]:null)&&xb(t))}function xb(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Xc])_b(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(OT(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=F_(e))?(_b(t,n),0==t.h&&(t.src=null,e[vb]=null)):gf(n)}}}function OT(n){return n in bb?bb[n]:bb[n]="on"+n}function dR(n,e){if(n.fa)n=!0;else{e=new pf(e,this);var t=n.listener,i=n.la||n.src;n.ia&&xb(n),n=t.call(i,e)}return n}function F_(n){return(n=n[vb])instanceof P_?n:null}var L_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tx(n){return"function"==typeof n?n:(n[L_]||(n[L_]=function(e){return n.handleEvent(e)}),n[L_])}function lr(){Ql.call(this),this.i=new P_(this),this.S=this,this.J=null}function Xi(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Cr(e,n);else if(e instanceof Cr)e.target=e.target||n;else{var r=e;Sx(e=new Cr(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];r=Jm(l,i,!0,e)&&r}if(r=Jm(l=e.g=n,i,!0,e)&&r,r=Jm(l,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=Jm(l=e.g=t[a],i,!1,e)&&r}function Jm(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==t){var f=l.listener,_=l.la||l.src;l.ia&&_b(n.i,l),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}cr(lr,Ql),lr.prototype[Xc]=!0,lr.prototype.removeEventListener=function(n,e,t,i){RT(this,n,e,t,i)},lr.prototype.N=function(){if(lr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)gf(t[i]);delete n.g[e],n.h--}}this.J=null},lr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},lr.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var V_=Qt.JSON.stringify;function tn(){var n=B_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ib=new class Ax{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new hR,n=>n.reset());class hR{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function NT(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function kx(n){Qt.setTimeout(()=>{throw n},0)}let ep,tp=!1,B_=new class Mx{constructor(){this.h=this.g=null}add(e,t){const i=Ib.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Rx=()=>{const n=Qt.Promise.resolve(void 0);ep=()=>{n.then(Ox)}};var Ox=()=>{for(var n;n=tn();){try{n.h.call(n.g)}catch(t){kx(t)}var e=Ib;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}tp=!1};function U_(n,e){lr.call(this),this.h=n||1,this.g=e||Qt,this.j=Ur(this.qb,this),this.l=Date.now()}function Cb(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Nx(n,e,t){if("function"==typeof n)t&&(n=Ur(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ur(n.handleEvent,n)}return 2147483647<Number(e)?-1:Qt.setTimeout(n,e||0)}function Db(n){n.g=Nx(()=>{n.g=null,n.i&&(n.i=!1,Db(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}cr(U_,lr),(ot=U_.prototype).ga=!1,ot.T=null,ot.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xi(this,"tick"),this.ga&&(Cb(this),this.start()))}},ot.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ot.N=function(){U_.$.N.call(this),Cb(this),delete this.g};class Px extends Ql{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Db(this)}N(){super.N(),this.g&&(Qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(n){Ql.call(this),this.h=n,this.g={}}cr(Ds,Ql);var fd=[];function Sb(n,e,t,i){Array.isArray(t)||(t&&(fd[0]=t.toString()),t=fd);for(var r=0;r<t.length;r++){var a=wb(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Fx(n){Xl(n.g,function(e,t){this.g.hasOwnProperty(t)&&xb(e)},n),n.g={}}function md(){this.g=!0}function Qa(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ab(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<r.length;l++)r[l]=""}}}return V_(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Ds.prototype.N=function(){Ds.$.N.call(this),Fx(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},md.prototype.Ea=function(){this.g=!1},md.prototype.info=function(){};var el={},j_=null;function np(){return j_=j_||new lr}function H_(n){Cr.call(this,el.Ta,n)}function ip(n){const e=np();Xi(e,new H_(e))}function Vx(n,e){Cr.call(this,el.STAT_EVENT,n),this.stat=e}function ro(n){const e=np();Xi(e,new Vx(e,n))}function Mb(n,e){Cr.call(this,el.Ua,n),this.size=e}function rp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Qt.setTimeout(function(){n()},e)}el.Ta="serverreachability",cr(H_,Cr),el.STAT_EVENT="statevent",cr(Vx,Cr),el.Ua="timingevent",cr(Mb,Cr);var z_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Bx={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function kb(){}function Ob(){}kb.prototype.h=null;var Pb,op={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Nb(){Cr.call(this,"d")}function oo(){Cr.call(this,"c")}function $_(){}function G_(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Ds(this),this.P=Ux,this.V=new U_(n=ub?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new W_}function W_(){this.i=null,this.g="",this.h=!1}cr(Nb,Cr),cr(oo,Cr),cr($_,kb),$_.prototype.g=function(){return new XMLHttpRequest},$_.prototype.i=function(){return{}},Pb=new $_;var Ux=45e3,Fb={},q_={};function Lb(n,e,t){n.L=1,n.v=cp(Ts(e)),n.s=t,n.S=!0,Vb(n,null)}function Vb(n,e){n.G=Date.now(),sp(n),n.A=Ts(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),up(t.i,"t",i),n.C=0,t=n.l.J,n.h=new W_,n.g=Id(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Px(Ur(n.Pa,n,n.g),n.O)),Sb(n.U,n.g,"readystatechange",n.nb),e=n.I?pb(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),ip(),function _f(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var l="",f=a.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var C=b[0];b=b[1];var M=C.split("_");l=2<=M.length&&"type"==M[1]?l+(C+"=")+b+"&":l+(C+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function jx(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Hx(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=Bb(n,t),r==q_){4==e&&(n.o=4,ro(14),i=!1),Qa(n.j,n.m,null,"[Incomplete Response]");break}if(r==Fb){n.o=4,ro(15),Qa(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Qa(n.j,n.m,r,null),Ss(n,r)}jx(n)&&r!=q_&&r!=Fb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ro(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Dr(e),e.M=!0,ro(11))):(Qa(n.j,n.m,t,"[Invalid Chunked Response]"),pd(n),ap(n))}function Bb(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?q_:(t=Number(e.substring(t,i)),isNaN(t)?Fb:(i+=1)+t>e.length?q_:(e=e.slice(i,i+t),n.C=i+t,e))}function sp(n){n.Y=Date.now()+n.P,zx(n,n.P)}function zx(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=rp(Ur(n.lb,n),e)}function Z_(n){n.B&&(Qt.clearTimeout(n.B),n.B=null)}function ap(n){0==n.l.H||n.J||Xo(n.l,n)}function pd(n){Z_(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Cb(n.V),Fx(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Ss(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||qb(t.i,n)))if(!n.K&&qb(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;wd(t),pp(t)}bd(t),ro(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=rp(Ur(t.ib,t),6e3));if(1>=Yx(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else As(t,11)}else if((n.K||t.g==n)&&wd(t),!ff(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let b=r[e];if(t.V=b[0],b=b[1],2==t.H)if("c"==b[0]){t.K=b[1],t.pa=b[2];const C=b[3];null!=C&&(t.ra=C,t.l.info("VER="+t.ra));const M=b[4];null!=M&&(t.Ga=M,t.l.info("SVER="+t.Ga));const B=b[5];null!=B&&"number"==typeof B&&0<B&&(t.L=i=1.5*B,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const G=n.g;if(G){const Y=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Y){var a=i.i;a.g||-1==Y.indexOf("spdy")&&-1==Y.indexOf("quic")&&-1==Y.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Y_(a,a.h),a.h=null))}if(i.F){const ie=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;ie&&(i.Da=ie,ni(i.I,i.F,ie))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((i=t).wa=xd(i,i.J?i.pa:null,i.Y),l.K){Zb(i.i,l);var f=l,_=i.L;_&&f.setTimeout(_),f.B&&(Z_(f),sp(f)),i.g=l}else ea(i);0<t.j.length&&yd(t)}else"stop"!=b[0]&&"close"!=b[0]||As(t,7);else 3==t.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?As(t,7):ty(t):"noop"!=b[0]&&t.h&&t.h.Aa(b),t.A=0)}ip()}catch{}}function jb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(hf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function PT(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(hf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Ub(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(hf(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(ot=G_.prototype).setTimeout=function(n){this.P=n},ot.nb=function(n){n=n.target;const e=this.M;e&&3==Ja(n)?e.l():this.Pa(n)},ot.Pa=function(n){try{if(n==this.g)e:{const C=Ja(this.g);var e=this.g.Ia();if(this.g.da(),!(3>C)&&(3!=C||ub||this.g&&(this.h.h||this.g.ja()||oI(this.g)))){this.J||4!=C||7==e||ip(),Z_(this);var t=this.g.da();this.ca=t;t:if(jx(this)){var i=oI(this.g);n="";var r=i.length,a=4==Ja(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pd(this),ap(this);var l="";break t}this.h.i=new Qt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function Tb(n,e,t,i,r,a,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,C,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ff(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,ro(12),pd(this),ap(this);break e}Qa(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ss(this,t)}this.S?(Hx(this,C,l),ub&&this.i&&3==C&&(Sb(this.U,this.V,"tick",this.mb),this.V.start())):(Qa(this.j,this.m,l,null),Ss(this,l)),4==C&&pd(this),this.i&&!this.J&&(4==C?Xo(this.l,this):(this.i=!1,sp(this)))}else(function zT(n){const e={};n=(n.g&&2<=Ja(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(ff(n[i]))continue;var t=NT(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[r]||[];e[r]=a,a.push(t)}!function N_(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,ro(12)):(this.o=0,ro(13)),pd(this),ap(this)}}}catch{}},ot.mb=function(){if(this.g){var n=Ja(this.g),e=this.g.ja();this.C<e.length&&(Z_(this),Hx(this,n,e),this.i&&4!=n&&sp(this))}},ot.cancel=function(){this.J=!0,pd(this)},ot.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Lx(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ip(),ro(17)),pd(this),this.o=2,ap(this)):zx(this,this.Y-n)};var $x=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Jl){this.h=n.h,yf(this,n.j),this.s=n.s,this.g=n.g,Hb(this,n.m),this.l=n.l;var e=n.i,t=new lp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),zb(this,t),this.o=n.o}else n&&(e=String(n).match($x))?(this.h=!1,yf(this,e[1]||"",!0),this.s=vf(e[2]||""),this.g=vf(e[3]||"",!0),Hb(this,e[4]),this.l=vf(e[5]||"",!0),zb(this,e[6]||"",!0),this.o=vf(e[7]||"")):(this.h=!1,this.i=new lp(null,this.h))}function Ts(n){return new Jl(n)}function yf(n,e,t){n.j=t?vf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Hb(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function zb(n,e,t){e instanceof lp?(n.i=e,function K_(n,e){e&&!n.j&&(_d(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Gb(this,i),up(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=gd(e,LT)),n.i=new lp(e,n.h))}function ni(n,e,t){n.i.set(e,t)}function cp(n){return ni(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function vf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function gd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,tl),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function tl(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Jl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(gd(e,Wx,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(gd(e,Wx,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(gd(t,"/"==t.charAt(0)?$b:FT,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",gd(t,VT)),n.join("")};var Wx=/[#\/\?@]/g,FT=/[#\?:]/g,$b=/[#\?]/g,LT=/[#\?@]/g,VT=/#/g;function lp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function _d(n){n.g||(n.g=new Map,n.h=0,n.i&&function Gx(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Gb(n,e){_d(n),e=Xa(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function qx(n,e){return _d(n),e=Xa(n,e),n.g.has(e)}function up(n,e,t){Gb(n,e),0<t.length&&(n.i=null,n.g.set(Xa(n,e),cb(t)),n.h+=t.length)}function Xa(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Zx(n){this.l=n||Kx,n=Qt.PerformanceNavigationTiming?0<(n=Qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Qt.g&&Qt.g.Ka&&Qt.g.Ka()&&Qt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ot=lp.prototype).add=function(n,e){_d(this),this.i=null,n=Xa(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ot.forEach=function(n,e){_d(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},ot.ta=function(){_d(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},ot.Z=function(n){_d(this);let e=[];if("string"==typeof n)qx(this,n)&&(e=e.concat(this.g.get(Xa(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ot.set=function(n,e){return _d(this),this.i=null,qx(this,n=Xa(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ot.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=a;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var Kx=10;function Wb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Yx(n){return n.h?1:n.g?n.g.size:0}function qb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Y_(n,e){n.g?n.g.add(e):n.h=e}function Zb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function bf(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return cb(n.i)}Zx.prototype.cancel=function(){if(this.i=bf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var BT=class{stringify(n){return Qt.JSON.stringify(n,void 0)}parse(n){return Qt.JSON.parse(n,void 0)}};function Qx(){this.g=new BT}function Xx(n,e,t){const i=t||"";try{jb(n,function(r,a){let l=r;Yl(r)&&(l=V_(r)),e.push(i+a+"="+encodeURIComponent(l))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Q_(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function nl(n){this.l=n.fc||null,this.j=n.ob||!1}function X_(n,e){lr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Kb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cr(nl,kb),nl.prototype.g=function(){return new X_(this.l,this.j)},nl.prototype.i=function(n){return function(){return n}}({}),cr(X_,lr);var Kb=0;function Jx(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function dp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,hp(n)}function hp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ot=X_.prototype).open=function(n,e){if(this.readyState!=Kb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,hp(this)},ot.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Qt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ot.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dp(this)),this.readyState=Kb},ot.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,hp(this)),this.g&&(this.readyState=3,hp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Qt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Jx(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ot.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?dp(this):hp(this),3==this.readyState&&Jx(this)}},ot.Za=function(n){this.g&&(this.response=this.responseText=n,dp(this))},ot.Ya=function(n){this.g&&(this.response=n,dp(this))},ot.ka=function(){this.g&&dp(this)},ot.setRequestHeader=function(n,e){this.v.append(n,e)},ot.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ot.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(X_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var jT=Qt.JSON.parse;function Ai(n){lr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=eI,this.L=this.M=!1}cr(Ai,lr);var eI="",tI=/^https?$/i,Yb=["POST","PUT"];function fp(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,nI(n),J_(n)}function nI(n){n.F||(n.F=!0,Xi(n,"complete"),Xi(n,"error"))}function iI(n){if(n.h&&typeof cd<"u"&&(!n.C[1]||4!=Ja(n)||2!=n.da()))if(n.v&&4==Ja(n))Nx(n.La,0,n);else if(Xi(n,"readystatechange"),4==Ja(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===l){var r=String(n.I).match($x)[1]||null;!r&&Qt.self&&Qt.self.location&&(r=Qt.self.location.protocol.slice(0,-1)),i=!tI.test(r?r.toLowerCase():"")}t=i}if(t)Xi(n,"complete"),Xi(n,"success");else{n.m=6;try{var a=2<Ja(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",nI(n)}}finally{J_(n)}}}function J_(n,e){if(n.g){rI(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Xi(n,"ready");try{t.onreadystatechange=i}catch{}}}function rI(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Qt.clearTimeout(n.A),n.A=null)}function Ja(n){return n.g?n.g.readyState:0}function oI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case eI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Qb(n){let e="";return Xl(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function ey(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Qb(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ni(n,e,t))}function mp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function $T(n){this.Ga=0,this.j=[],this.l=new md,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mp("baseRetryDelayMs",5e3,n),this.hb=mp("retryDelaySeedMs",1e4,n),this.eb=mp("forwardChannelMaxRetries",2,n),this.xa=mp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Zx(n&&n.concurrentRequestLimit),this.Ja=new Qx,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ty(n){if(GT(n),3==n.H){var e=n.W++,t=Ts(n.I);if(ni(t,"SID",n.K),ni(t,"RID",e),ni(t,"TYPE","terminate"),vd(n,t),(e=new G_(n,n.l,e)).L=2,e.v=cp(Ts(t)),t=!1,Qt.navigator&&Qt.navigator.sendBeacon)try{t=Qt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Qt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Id(e.l,null),e.g.ha(e.v)),e.G=Date.now(),sp(e)}Ed(n)}function pp(n){n.g&&(Dr(n),n.g.cancel(),n.g=null)}function GT(n){pp(n),n.u&&(Qt.clearTimeout(n.u),n.u=null),wd(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Qt.clearTimeout(n.m),n.m=null)}function yd(n){if(!Wb(n.i)&&!n.m){n.m=!0;var e=n.Na;ep||Rx(),tp||(ep(),tp=!0),B_.add(e,n),n.C=0}}function sI(n,e){var t;t=e?e.m:n.W++;const i=Ts(n.I);ni(i,"SID",n.K),ni(i,"RID",t),ni(i,"AID",n.V),vd(n,i),n.o&&n.s&&ey(i,n.o,n.s),t=new G_(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=aI(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Y_(n.i,t),Lb(t,i,e)}function vd(n,e){n.na&&Xl(n.na,function(t,i){ni(e,i,t)}),n.h&&jb({},function(t,i){ni(e,i,t)})}function aI(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Ur(n.h.Va,n.h,n):null;e:{var r=n.j;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=r[0].g,l.push("ofs="+a)):a=0:l.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let b=r[_].g;const C=r[_].map;if(b-=a,0>b)a=Math.max(0,r[_].g-100),f=!1;else try{Xx(C,l,"req"+b+"_")}catch{i&&i(C)}}if(f){i=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function ea(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;ep||Rx(),tp||(ep(),tp=!0),B_.add(e,n),n.A=0}}function bd(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=rp(Ur(n.Ma,n),ny(n,n.A)),n.A++,0))}function Dr(n){null!=n.B&&(Qt.clearTimeout(n.B),n.B=null)}function eu(n){n.g=new G_(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ts(n.wa);ni(e,"RID","rpc"),ni(e,"SID",n.K),ni(e,"AID",n.V),ni(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ni(e,"TO",n.qa),ni(e,"TYPE","xmlhttp"),vd(n,e),n.o&&n.s&&ey(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=cp(Ts(e)),t.s=null,t.S=!0,Vb(t,n)}function wd(n){null!=n.v&&(Qt.clearTimeout(n.v),n.v=null)}function Xo(n,e){var t=null;if(n.g==e){wd(n),Dr(n),n.g=null;var i=2}else{if(!qb(n.i,e))return;t=e.F,Zb(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Xi(i=np(),new Mb(i,t)),yd(n)}else ea(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function WT(n,e){return!(Yx(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=rp(Ur(n.Na,n,e),ny(n,n.C)),n.C++,0)))}(n,e)||2==i&&bd(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:As(n,5);break;case 4:As(n,10);break;case 3:As(n,6);break;default:As(n,2)}}function ny(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function As(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Ur(n.pb,n);t||(t=new Jl("//www.google.com/images/cleardot.gif"),Qt.location&&"http"==Qt.location.protocol||yf(t,"https"),cp(t)),function UT(n,e){const t=new md;if(Qt.Image){const i=new Image;i.onload=Qm(Q_,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Qm(Q_,t,i,"TestLoadImage: error",!1,e),i.onabort=Qm(Q_,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Qm(Q_,t,i,"TestLoadImage: timeout",!1,e),Qt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else ro(2);n.H=0,n.h&&n.h.za(e),Ed(n),GT(n)}function Ed(n){if(n.H=0,n.ma=[],n.h){const e=bf(n.i);(0!=e.length||0!=n.j.length)&&(R_(n.ma,e),R_(n.ma,n.j),n.i.i.length=0,cb(n.j),n.j.length=0),n.h.ya()}}function xd(n,e,t){var i=t instanceof Jl?Ts(t):new Jl(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Hb(i,i.m);else{var r=Qt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new Jl(null);i&&yf(a,i),e&&(a.g=e),r&&Hb(a,r),t&&(a.l=t),i=a}return e=n.Da,(t=n.F)&&e&&ni(i,t,e),ni(i,"VER",n.ra),vd(n,i),i}function Id(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ai(t&&n.Ha&&!n.va?new nl({ob:!0}):n.va)).Oa(n.J),e}function Cd(){}function il(){if(ld&&!(10<=Number(Cx)))throw Error("Environmental error: no available transport.")}function Sr(n,e){lr.call(this),this.g=new $T(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!ff(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ff(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Td(this)}function Dd(n){Nb.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Sd(){oo.call(this),this.status=1}function Td(n){this.g=n}function Ms(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function iy(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],l=(e=n.g[0])+(a^(t=n.g[1])&((r=n.g[2])^a))+i[0]+3614090360&4294967295;l=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=t+(l<<7&4294967295|l>>>25))+((l=a+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^a&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(a^e))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(r^a))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^a&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(a^e))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(r^a))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^a&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(a^e))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(r^a))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^a&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(a^e))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(r^a&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(a^e))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(r^a))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^a&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(a^e))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(r^a))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^a&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(a^e))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(r^a))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^a&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(a^e))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(r^a))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^r^a)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=r+(a^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^a^e)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^a)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=r+(a^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^a^e)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^a)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=r+(a^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^a^e)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^a)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=r+(a^e^t)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^a^e)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(r^(t|~a))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(a|~t))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~a))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(a|~t))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~a))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(a|~t))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=t+((l=e+(r^(t|~a))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((r=a+((l=r+(e^(a|~t))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+a&4294967295}function Un(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var a=0|n[r];i&&a==e||(t[r]=a,i=!1)}this.g=t}(ot=Ai.prototype).Oa=function(n){this.M=n},ot.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Pb.g(),this.C=function Rb(n){return n.h||(n.h=n.i())}(this.u?this.u:Pb),this.g.onreadystatechange=Ur(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void fp(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=Qt.FormData&&n instanceof Qt.FormData,!(0<=ST(Yb,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{rI(this),0<this.B&&((this.L=function HT(n){return ld&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ur(this.ua,this)):this.A=Nx(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){fp(this,a)}},ot.ua=function(){typeof cd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xi(this,"timeout"),this.abort(8))},ot.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Xi(this,"complete"),Xi(this,"abort"),J_(this))},ot.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),J_(this,!0)),Ai.$.N.call(this)},ot.La=function(){this.s||(this.G||this.v||this.l?iI(this):this.kb())},ot.kb=function(){iI(this)},ot.isActive=function(){return!!this.g},ot.da=function(){try{return 2<Ja(this)?this.g.status:-1}catch{return-1}},ot.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ot.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),jT(e)}},ot.Ia=function(){return this.m},ot.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ot=$T.prototype).ra=8,ot.H=1,ot.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new G_(this,this.l,n);let a=this.s;if(this.U&&(a?(a=pb(a),Sx(a,this.U)):a=this.U),null!==this.o||this.O||(r.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=aI(this,r,e),ni(t=Ts(this.I),"RID",n),ni(t,"CVER",22),this.F&&ni(t,"X-HTTP-Session-Id",this.F),vd(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(Qb(a)))+"&"+e:this.o&&ey(t,this.o,a)),Y_(this.i,r),this.bb&&ni(t,"TYPE","init"),this.P?(ni(t,"$req",e),ni(t,"SID","null"),r.aa=!0,Lb(r,t,null)):Lb(r,t,e),this.H=2}}else 3==this.H&&(n?sI(this,n):0==this.j.length||Wb(this.i)||sI(this))},ot.Ma=function(){if(this.u=null,eu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=rp(Ur(this.jb,this),n)}},ot.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ro(10),pp(this),eu(this))},ot.ib=function(){null!=this.v&&(this.v=null,pp(this),bd(this),ro(19))},ot.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ro(2)):(this.l.info("Failed to ping google.com"),ro(1))},ot.isActive=function(){return!!this.h&&this.h.isActive(this)},(ot=Cd.prototype).Ba=function(){},ot.Aa=function(){},ot.za=function(){},ot.ya=function(){},ot.isActive=function(){return!0},ot.Va=function(){},il.prototype.g=function(n,e){return new Sr(n,e)},cr(Sr,lr),Sr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ro(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=xd(n,null,n.Y),yd(n)},Sr.prototype.close=function(){ty(this.g)},Sr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=V_(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&yd(e)},Sr.prototype.N=function(){this.g.h=null,delete this.j,ty(this.g),delete this.g,Sr.$.N.call(this)},cr(Dd,Nb),cr(Sd,oo),cr(Td,Cd),Td.prototype.Ba=function(){Xi(this.g,"a")},Td.prototype.Aa=function(n){Xi(this.g,new Dd(n))},Td.prototype.za=function(n){Xi(this.g,new Sd)},Td.prototype.ya=function(){Xi(this.g,"b")},cr(Ms,function cI(){this.blockSize=-1}),Ms.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ms.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,a=0;a<e;){if(0==r)for(;a<=t;)iy(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(i[r++]=n.charCodeAt(a++),r==this.blockSize){iy(this,i),r=0;break}}else for(;a<e;)if(i[r++]=n[a++],r==this.blockSize){iy(this,i),r=0;break}}this.h=r,this.i+=e},Ms.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var lI={};function ry(n){return-128<=n&&128>n?function xx(n,e){var t=lI;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Un([0|e],0>e?-1:0)}):new Un([0|n],0>n?-1:0)}function ta(n){if(isNaN(n)||!isFinite(n))return wf;if(0>n)return jr(ta(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=gp;return new Un(e,0)}var gp=4294967296,wf=ry(0),uI=ry(1),qT=ry(16777216);function rl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ks(n){return-1==n.h}function jr(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Un(t,~n.h).add(uI)}function oy(n,e){return n.add(jr(e))}function Jb(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function _p(n,e){this.g=n,this.h=e}function sy(n,e){if(rl(e))throw Error("division by zero");if(rl(n))return new _p(wf,wf);if(ks(n))return e=sy(jr(n),e),new _p(jr(e.g),jr(e.h));if(ks(e))return e=sy(n,jr(e)),new _p(jr(e.g),e.h);if(30<n.g.length){if(ks(n)||ks(e))throw Error("slowDivide_ only works with positive integers.");for(var t=uI,i=e;0>=i.X(n);)t=dI(t),i=dI(i);var r=tu(t,1),a=tu(i,1);for(i=tu(i,2),t=tu(t,2);!rl(i);){var l=a.add(i);0>=l.X(n)&&(r=r.add(t),a=l),i=tu(i,1),t=tu(t,1)}return e=oy(n,r.R(e)),new _p(r,e)}for(r=wf;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),l=(a=ta(t)).R(e);ks(l)||0<l.X(n);)l=(a=ta(t-=i)).R(e);rl(a)&&(a=uI),r=r.add(a),n=oy(n,l)}return new _p(r,n)}function dI(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Un(t,n.h)}function tu(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],a=0;a<i;a++)r[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Un(r,n.h)}(ot=Un.prototype).ea=function(){if(ks(this))return-jr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:gp+i)*e,e*=gp}return n},ot.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(rl(this))return"0";if(ks(this))return"-"+jr(this).toString(n);for(var e=ta(Math.pow(n,6)),t=this,i="";;){var r=sy(t,e).g,a=((0<(t=oy(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(rl(t=r))return a+i;for(;6>a.length;)a="0"+a;i=a+i}},ot.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ot.X=function(n){return ks(n=oy(this,n))?-1:rl(n)?0:1},ot.abs=function(){return ks(this)?jr(this):this},ot.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var a=i+(65535&this.D(r))+(65535&n.D(r)),l=(a>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=l>>>16,t[r]=(l&=65535)<<16|(a&=65535)}return new Un(t,-2147483648&t[t.length-1]?-1:0)},ot.R=function(n){if(rl(this)||rl(n))return wf;if(ks(this))return ks(n)?jr(this).R(jr(n)):jr(jr(this).R(n));if(ks(n))return jr(this.R(jr(n)));if(0>this.X(qT)&&0>n.X(qT))return ta(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var a=this.D(i)>>>16,l=65535&this.D(i),f=n.D(r)>>>16,_=65535&n.D(r);t[2*i+2*r]+=l*_,Jb(t,2*i+2*r),t[2*i+2*r+1]+=a*_,Jb(t,2*i+2*r+1),t[2*i+2*r+1]+=l*f,Jb(t,2*i+2*r+1),t[2*i+2*r+2]+=a*f,Jb(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Un(t,0)},ot.gb=function(n){return sy(this,n).h},ot.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Un(t,this.h&n.h)},ot.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Un(t,this.h|n.h)},ot.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Un(t,this.h^n.h)},il.prototype.createWebChannel=il.prototype.g,Sr.prototype.send=Sr.prototype.u,Sr.prototype.open=Sr.prototype.m,Sr.prototype.close=Sr.prototype.close,z_.NO_ERROR=0,z_.TIMEOUT=8,z_.HTTP_ERROR=6,Bx.COMPLETE="complete",Ob.EventType=op,op.OPEN="a",op.CLOSE="b",op.ERROR="c",op.MESSAGE="d",lr.prototype.listen=lr.prototype.O,Ai.prototype.listenOnce=Ai.prototype.P,Ai.prototype.getLastError=Ai.prototype.Sa,Ai.prototype.getLastErrorCode=Ai.prototype.Ia,Ai.prototype.getStatus=Ai.prototype.da,Ai.prototype.getResponseJson=Ai.prototype.Wa,Ai.prototype.getResponseText=Ai.prototype.ja,Ai.prototype.send=Ai.prototype.ha,Ai.prototype.setWithCredentials=Ai.prototype.Oa,Ms.prototype.digest=Ms.prototype.l,Ms.prototype.reset=Ms.prototype.reset,Ms.prototype.update=Ms.prototype.j,Un.prototype.add=Un.prototype.add,Un.prototype.multiply=Un.prototype.R,Un.prototype.modulo=Un.prototype.gb,Un.prototype.compare=Un.prototype.X,Un.prototype.toNumber=Un.prototype.ea,Un.prototype.toString=Un.prototype.toString,Un.prototype.getBits=Un.prototype.D,Un.fromNumber=ta,Un.fromString=function Xb(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return jr(Xb(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ta(Math.pow(e,8)),i=wf,r=0;r<n.length;r+=8){var a=Math.min(8,n.length-r),l=parseInt(n.substring(r,r+a),e);8>a?(a=ta(Math.pow(e,a)),i=i.R(a).add(ta(l))):i=(i=i.R(t)).add(ta(l))}return i};var yp=io.createWebChannelTransport=function(){return new il},e0=io.getStatEventTarget=function(){return np()},Ef=io.ErrorCode=z_,hI=io.EventType=Bx,vp=io.Event=el,t0=io.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ZT=io.FetchXmlHttpFactory=nl,nu=io.WebChannel=Ob,KT=io.XhrIo=Ai,YT=io.Md5=Ms,xf=io.Integer=Un;const fI="@firebase/firestore";class Ji{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ji.UNAUTHENTICATED=new Ji(null),Ji.GOOGLE_CREDENTIALS=new Ji("google-credentials-uid"),Ji.FIRST_PARTY=new Ji("first-party-uid"),Ji.MOCK_USER=new Ji("mock-user");let ol="9.23.0";const na=new Mo.Yd("@firebase/firestore");function mI(){return na.logLevel}function $e(n,...e){if(na.logLevel<=Mo.in.DEBUG){const t=e.map(ay);na.debug(`Firestore (${ol}): ${n}`,...t)}}function bi(n,...e){if(na.logLevel<=Mo.in.ERROR){const t=e.map(ay);na.error(`Firestore (${ol}): ${n}`,...t)}}function Rs(n,...e){if(na.logLevel<=Mo.in.WARN){const t=e.map(ay);na.warn(`Firestore (${ol}): ${n}`,...t)}}function ay(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function mt(n="Unexpected state"){const e=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: `+n;throw bi(e),new Error(e)}function Ct(n,e){n||mt()}function st(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Rt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class gI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ji.UNAUTHENTICATED))}shutdown(){}}class n0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class r0{constructor(e){this.t=e,this.currentUser=Ji.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=b=>this.i!==r?(r=this.i,t(b)):Promise.resolve();let l=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ur,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=l;e.enqueueRetryable((0,Ee.Z)(function*(){yield b.promise,yield a(i.currentUser)}))},_=b=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ur)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ct("string"==typeof i.accessToken),new gI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new Ji(e)}}class XT{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Ji.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class cy{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new XT(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ji.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o0{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=a=>{null!=a.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,$e("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?r(a):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.T=t.token,new bp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function eA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class yI{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=eA(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[a]%62))}return i}}function Xt(n,e){return n<e?-1:n>e?1:0}function iu(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function ly(n){return n+"\0"}class ai{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ai.fromMillis(Date.now())}static fromDate(e){return ai.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new ai(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new ai(0,0))}static max(){return new Dt(new ai(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wp{constructor(e,t,i){void 0===t?t=0:t>e.length&&mt(),void 0===i?i=e.length-t:i>e.length-t&&mt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===wp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wp?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),l=t.get(r);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yn extends wp{construct(e,t,i){return new yn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Fe(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new yn(t)}static emptyPath(){return new yn([])}}const vI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fi extends wp{construct(e,t,i){return new fi(e,t,i)}static isValidIdentifier(e){return vI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Fe(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Fe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Fe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(l=!l,r++):"."!==f||l?(i+=f,r++):(a(),r++)}if(a(),l)throw new Fe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fi(t)}static emptyPath(){return new fi([])}}class it{constructor(e){this.path=e}static fromPath(e){return new it(yn.fromString(e))}static fromName(e){return new it(yn.fromString(e).popFirst(5))}static empty(){return new it(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new it(new yn(e.slice()))}}class If{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Ep(n){return n.fields.find(e=>2===e.kind)}function Ad(n){return n.fields.filter(e=>2!==e.kind)}If.UNKNOWN_ID=-1;class xp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Cf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Cf(0,ko.min())}}function EI(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Dt.fromTimestamp(1e9===i?new ai(t+1,0):new ai(t,i));return new ko(r,it.empty(),e)}function s0(n){return new ko(n.readTime,n.key,-1)}class ko{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ko(Dt.min(),it.empty(),-1)}static max(){return new ko(Dt.max(),it.empty(),-1)}}function uy(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=it.comparator(n.documentKey,e.documentKey),0!==t?t:Xt(n.largestBatchId,e.largestBatchId))}const dy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function sl(n){return hy.apply(this,arguments)}function hy(){return hy=(0,Ee.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==dy)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),hy.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,i)=>{t(e)})}static reject(e){return new ae((t,i)=>{i(e)})}static waitFor(e){return new ae((t,i)=>{let r=0,a=0,l=!1;e.forEach(f=>{++r,f.next(()=>{++a,l&&a===r&&t()},_=>i(_))}),l=!0,a===r&&t()})}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next(r=>r?ae.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new ae((i,r)=>{const a=e.length,l=new Array(a);let f=0;for(let _=0;_<a;_++){const b=_;t(e[b]).next(C=>{l[b]=C,++f,f===a&&i(l)},C=>r(C))}})}static doWhile(e,t){return new ae((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class Ip{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new ur,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Df(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=Cp(i.target.error);this.v.reject(new Df(e,r))}}static open(e,t,i,r){try{return new Ip(t,e.transaction(r,i))}catch(a){throw new Df(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||($e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ru(t)}}class Os{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===Os.S((0,Rt.z$)())&&bi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $e("SimpleDb","Removing database:",e),Md(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Rt.hl)())return!1;if(Os.C())return!0;const e=(0,Rt.z$)(),t=Os.S(e),i=0<t&&t<10,r=Os.N(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,Ee.Z)(function*(){return t.db||($e("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=l=>{i(l.target.result)},a.onblocked=()=>{r(new Df(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const f=l.target.error;r("VersionError"===f.name?new Fe(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Fe(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Df(e,f))},a.onupgradeneeded=l=>{$e("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,a.transaction,l.oldVersion,t.version).next(()=>{$e("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,Ee.Z)(function*(){const l="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.$(e);const _=Ip.open(a.db,e,l?"readonly":"readwrite",i),b=r(_).next(C=>(_.P(),C)).catch(C=>(_.abort(C),ae.reject(C))).toPromise();return b.catch(()=>{}),yield _.R,b}catch(_){const b=_,C="FirebaseError"!==b.name&&f<3;if($e("SimpleDb","Transaction failed with error:",b.message,"Retrying:",C),a.close(),!C)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xI{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Md(this.L.delete())}}class Df extends Fe{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ia(n){return"IndexedDbTransactionError"===n.name}class ru{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?($e("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Md(i)}add(e){return $e("SimpleDb","ADD",this.store.name,e,e),Md(this.store.add(e))}get(e){return Md(this.store.get(e)).next(t=>(void 0===t&&(t=null),$e("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return $e("SimpleDb","DELETE",this.store.name,e),Md(this.store.delete(e))}count(){return $e("SimpleDb","COUNT",this.store.name),Md(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.W(r,(l,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new ae((a,l)=>{r.onerror=f=>{l(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ae((r,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}J(e,t){$e("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(a,l,f)=>f.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new ae((i,r)=>{t.onerror=a=>{const l=Cp(a.target.error);r(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():i()}):i()}})}W(e,t){const i=[];return new ae((r,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void r();const _=new xI(f),b=t(f.primaryKey,f.value,_);if(b instanceof ae){const C=b.catch(M=>(_.done(),ae.reject(M)));i.push(C)}_.isDone?r():null===_.K?f.continue():f.continue(_.K)}}).next(()=>ae.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Md(n){return new ae((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Cp(i.target.error);t(r)}})}let II=!1;function Cp(n){const e=Os.S((0,Rt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return II||(II=!0,setTimeout(()=>{throw i},0)),i}}return n}class kd{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;$e("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ee.Z)(function*(){t.task=null;try{$e("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){ia(i)?$e("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield sl(i)}yield t.et(6e4)}))}}class c0{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ee.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,a=!0;return ae.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!i.has(l))return $e("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,r).next(f=>{r-=f,i.add(l)});a=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(r,a)).next(f=>($e("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>l.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,a)=>{const l=s0(a);uy(l,i)>0&&(i=l)}),new ko(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Jo=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Rd(n){return null==n}function fy(n){return 0===n&&1/n==-1/0}function tA(n){return"number"==typeof n&&Number.isInteger(n)&&!fy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Hr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=l0(e)),e=nA(n.get(t),e);return l0(e)}function nA(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function l0(n){return n+"\x01\x01"}function ec(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),yn.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const l=n.indexOf("\x01",a);switch((l<0||l>t)&&mt(),n.charAt(l+1)){case"\x01":const f=n.substring(a,l);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,l),r+="\0";break;case"\x11":r+=n.substring(a,l+1);break;default:mt()}a=l+2}return new yn(i)}const er=["userId","batchId"];function Dp(n,e){return[n,Hr(e)]}function CI(n,e,t){return[n,Hr(e),t]}const iA={},DI=["prefixPath","collectionGroup","readTime","documentId"],rA=["prefixPath","collectionGroup","documentId"],SI=["collectionGroup","readTime","prefixPath","documentId"],TI=["canonicalId","targetId"],Sf=["targetId","path"],oA=["path","targetId"],sA=["collectionId","parent"],AI=["indexId","uid"],aA=["uid","sequenceNumber"],MI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mR=["indexId","uid","orderedDocumentKey"],u0=["userId","collectionPath","documentId"],d0=["userId","collectionPath","largestBatchId"],tc=["userId","collectionGroup","largestBatchId"],kI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cA=[...kI,"documentOverlays"],ra=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ns=ra,oa=[...Ns,"indexConfiguration","indexState","indexEntries"];class my extends a0{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function dr(n,e){const t=st(n);return Os.M(t.ht,e)}function RI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ou(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function OI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ii{constructor(e,t){this.comparator=e,this.root=t||Hi.EMPTY}insert(e,t){return new ii(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hi.BLACK,null,null))}remove(e){return new ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tf(this.root,e,this.comparator,!0)}}class Tf{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hi{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??Hi.RED,this.left=r??Hi.EMPTY,this.right=a??Hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Hi(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Hi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Hi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}Hi.EMPTY=null,Hi.RED=!0,Hi.BLACK=!1,Hi.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Hi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ci{constructor(e){this.comparator=e,this.data=new ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new h0(this.data.getIterator())}getIteratorFrom(e){return new h0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof ci)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ci(this.comparator);return t.data=e,t}}class h0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Af(n){return n.hasNext()?n.getNext():void 0}class Ro{constructor(e){this.fields=e,e.sort(fi.comparator)}static empty(){return new Ro([])}unionWith(e){let t=new ci(fi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ro(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return iu(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class f0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new f0("Invalid base64 string: "+r):r}}(e);return new Mi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new Mi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const lA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function al(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=lA.exec(n);if(Ct(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wi(n.seconds),nanos:wi(n.nanos)}}function wi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function nc(n){return"string"==typeof n?Mi.fromBase64String(n):Mi.fromUint8Array(n)}function py(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function gy(n){const e=n.mapValue.fields.__previous_value__;return py(e)?gy(e):e}function Od(n){const e=al(n.mapValue.fields.__local_write_time__.timestampValue);return new ai(e.seconds,e.nanos)}class m0{constructor(e,t,i,r,a,l,f,_,b){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=_,this.useFetchStreams=b}}class cl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new cl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof cl&&e.projectId===this.projectId&&e.database===this.database}}const ll={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Sp={nullValue:"NULL_VALUE"};function ul(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?py(n)?4:LI(n)?9007199254740991:10:mt()}function sa(n,e){if(n===e)return!0;const t=ul(n);if(t!==ul(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Od(n).isEqual(Od(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=al(i.timestampValue),l=al(r.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,nc(n.bytesValue).isEqual(nc(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return wi(i.geoPointValue.latitude)===wi(r.geoPointValue.latitude)&&wi(i.geoPointValue.longitude)===wi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return wi(i.integerValue)===wi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=wi(i.doubleValue),l=wi(r.doubleValue);return a===l?fy(a)===fy(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return iu(n.arrayValue.values||[],e.arrayValue.values||[],sa);case 10:return function(i,r){const a=i.mapValue.fields||{},l=r.mapValue.fields||{};if(RI(a)!==RI(l))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===l[f]||!sa(a[f],l[f])))return!1;return!0}(n,e);default:return mt()}var r}function Mf(n,e){return void 0!==(n.values||[]).find(t=>sa(t,e))}function dl(n,e){if(n===e)return 0;const t=ul(n),i=ul(e);if(t!==i)return Xt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const l=wi(r.integerValue||r.doubleValue),f=wi(a.integerValue||a.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return p0(n.timestampValue,e.timestampValue);case 4:return p0(Od(n),Od(e));case 5:return Xt(n.stringValue,e.stringValue);case 6:return function(r,a){const l=nc(r),f=nc(a);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const l=r.split("/"),f=a.split("/");for(let _=0;_<l.length&&_<f.length;_++){const b=Xt(l[_],f[_]);if(0!==b)return b}return Xt(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const l=Xt(wi(r.latitude),wi(a.latitude));return 0!==l?l:Xt(wi(r.longitude),wi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const l=r.values||[],f=a.values||[];for(let _=0;_<l.length&&_<f.length;++_){const b=dl(l[_],f[_]);if(b)return b}return Xt(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===ll.mapValue&&a===ll.mapValue)return 0;if(r===ll.mapValue)return 1;if(a===ll.mapValue)return-1;const l=r.fields||{},f=Object.keys(l),_=a.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let C=0;C<f.length&&C<b.length;++C){const M=Xt(f[C],b[C]);if(0!==M)return M;const B=dl(l[f[C]],_[b[C]]);if(0!==B)return B}return Xt(f.length,b.length)}(n.mapValue,e.mapValue);default:throw mt()}}function p0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Xt(n,e);const t=al(n),i=al(e),r=Xt(t.seconds,i.seconds);return 0!==r?r:Xt(t.nanos,i.nanos)}function kf(n){return g0(n)}function g0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=al(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?nc(n.bytesValue).toBase64():"referenceValue"in n?it.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const l of i.values||[])a?a=!1:r+=",",r+=g0(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",l=!0;for(const f of r)l?l=!1:a+=",",a+=`${f}:${g0(i.fields[f])}`;return a+"}"}(n.mapValue):mt();var e}function Nd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _0(n){return!!n&&"integerValue"in n}function Tp(n){return!!n&&"arrayValue"in n}function PI(n){return!!n&&"nullValue"in n}function FI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yy(n){return!!n&&"mapValue"in n}function Ap(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ou(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ap(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ap(n.arrayValue.values[t]);return e}return Object.assign({},n)}function LI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function uA(n){return"nullValue"in n?Sp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Nd(cl.empty(),it.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:mt()}function dA(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Nd(cl.empty(),it.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ll:mt()}function VI(n,e){const t=dl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function BI(n,e){const t=dl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Or{constructor(e){this.value=e}static empty(){return new Or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!yy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ap(t)}setAll(e){let t=fi.emptyPath(),i={},r=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}l?i[f.lastSegment()]=Ap(l):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());yy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];yy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){ou(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Or(Ap(this.value))}}function UI(n){const e=[];return ou(n.fields,(t,i)=>{const r=new fi([t]);if(yy(i)){const a=UI(i.mapValue).fields;if(0===a.length)e.push(r);else for(const l of a)e.push(r.child(l))}else e.push(r)}),new Ro(e)}class li{constructor(e,t,i,r,a,l,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(e){return new li(e,0,Dt.min(),Dt.min(),Dt.min(),Or.empty(),0)}static newFoundDocument(e,t,i,r){return new li(e,1,t,Dt.min(),i,r,0)}static newNoDocument(e,t){return new li(e,2,t,Dt.min(),Dt.min(),Or.empty(),0)}static newUnknownDocument(e,t){return new li(e,3,t,Dt.min(),Dt.min(),Or.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof li&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new li(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hl{constructor(e,t){this.position=e,this.inclusive=t}}function y0(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],l=n.position[r];if(i=a.field.isKeyField()?it.comparator(it.fromName(l.referenceValue),t.key):dl(l,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function v0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!sa(n.position[t],e.position[t]))return!1;return!0}class Pd{constructor(e,t="asc"){this.field=e,this.dir=t}}function jI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class b0{}class fn extends b0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new E0(e,t,i):"array-contains"===t?new gR(e,i):"in"===t?new Vd(e,i):"not-in"===t?new fA(e,i):"array-contains-any"===t?new mA(e,i):new fn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new pR(e,i):new zI(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(dl(t,this.value)):null!==t&&ul(this.value)===ul(t)&&this.matchesComparison(dl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class jn extends b0{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new jn(e,t)}matches(e){return Fd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Fd(n){return"and"===n.op}function vy(n){return"or"===n.op}function Mp(n){return su(n)&&Fd(n)}function su(n){for(const e of n.filters)if(e instanceof jn)return!1;return!0}function w0(n){if(n instanceof fn)return n.field.canonicalString()+n.op.toString()+kf(n.value);if(Mp(n))return n.filters.map(e=>w0(e)).join(",");{const e=n.filters.map(t=>w0(t)).join(",");return`${n.op}(${e})`}}function HI(n,e){return n instanceof fn?(t=n,(i=e)instanceof fn&&t.op===i.op&&t.field.isEqual(i.field)&&sa(t.value,i.value)):n instanceof jn?function(t,i){return i instanceof jn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,a,l)=>r&&HI(a,i.filters[l]),!0)}(n,e):void mt();var t,i}function Ld(n,e){const t=n.filters.concat(e);return jn.create(t,n.op)}function hA(n){return n instanceof fn?`${(e=n).field.canonicalString()} ${e.op} ${kf(e.value)}`:n instanceof jn?function(e){return e.op.toString()+" {"+e.getFilters().map(hA).join(" ,")+"}"}(n):"Filter";var e}class E0 extends fn{constructor(e,t,i){super(e,t,i),this.key=it.fromName(i.referenceValue)}matches(e){const t=it.comparator(e.key,this.key);return this.matchesComparison(t)}}class pR extends fn{constructor(e,t){super(e,"in",t),this.keys=x0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zI extends fn{constructor(e,t){super(e,"not-in",t),this.keys=x0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function x0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>it.fromName(i.referenceValue))}class gR extends fn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tp(t)&&Mf(t.arrayValue,this.value)}}class Vd extends fn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Mf(this.value.arrayValue,t)}}class fA extends fn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Mf(this.value.arrayValue,t)}}class mA extends fn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Mf(this.value.arrayValue,i))}}class pA{constructor(e,t=null,i=[],r=[],a=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=l,this.endAt=f,this.dt=null}}function au(n,e=null,t=[],i=[],r=null,a=null,l=null){return new pA(n,e,t,i,r,a,l)}function Bd(n){const e=st(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>w0(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Rd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>kf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>kf(i)).join(",")),e.dt=t}return e.dt}function cu(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!HI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!v0(n.startAt,e.startAt)&&v0(n.endAt,e.endAt)}function Ud(n){return it.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Nr(n,e){return n.filters.filter(t=>t instanceof fn&&t.field.isEqual(e))}function gA(n,e,t){let i=Sp,r=!0;for(const a of Nr(n,e)){let l=Sp,f=!0;switch(a.op){case"<":case"<=":l=uA(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,f=!1;break;case"!=":case"not-in":l=Sp}VI({value:i,inclusive:r},{value:l,inclusive:f})<0&&(i=l,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];VI({value:i,inclusive:r},{value:l,inclusive:t.inclusive})<0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}function I0(n,e,t){let i=ll,r=!0;for(const a of Nr(n,e)){let l=ll,f=!0;switch(a.op){case">=":case">":l=dA(a.value),f=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,f=!1;break;case"!=":case"not-in":l=ll}BI({value:i,inclusive:r},{value:l,inclusive:f})>0&&(i=l,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];BI({value:i,inclusive:r},{value:l,inclusive:t.inclusive})>0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}class ic{constructor(e,t=null,i=[],r=[],a=null,l="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=_,this.wt=null,this._t=null}}function $I(n,e,t,i,r,a,l,f){return new ic(n,e,t,i,r,a,l,f)}function jd(n){return new ic(n)}function C0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function by(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function kp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function D0(n){return null!==n.collectionGroup}function Hd(n){const e=st(n);if(null===e.wt){e.wt=[];const t=kp(e),i=by(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Pd(t)),e.wt.push(new Pd(fi.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Pd(fi.keyField(),a))}}}return e.wt}function so(n){const e=st(n);if(!e._t)if("F"===e.limitType)e._t=au(e.path,e.collectionGroup,Hd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Hd(e))t.push(new Pd(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new hl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new hl(e.startAt.position,e.startAt.inclusive):null;e._t=au(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function zd(n,e){e.getFirstInequalityField(),kp(n);const t=n.filters.concat([e]);return new ic(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wy(n,e,t){return new ic(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rp(n,e){return cu(so(n),so(e))&&n.limitType===e.limitType}function GI(n){return`${Bd(so(n))}|lt:${n.limitType}`}function Rf(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>hA(i)).join(", ")}]`),Rd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>kf(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>kf(i)).join(",")),`Target(${t})`}(so(n))}; limitType=${n.limitType})`}function Of(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):it.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Hd(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,l){const f=y0(r,a,l);return r.inclusive?f<=0:f<0}(t.startAt,Hd(t),i)||t.endAt&&!function(r,a,l){const f=y0(r,a,l);return r.inclusive?f>=0:f>0}(t.endAt,Hd(t),i)));var t,i}function S0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function T0(n){return(e,t)=>{let i=!1;for(const r of Hd(n)){const a=_A(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function _A(n,e,t){const i=n.field.isKeyField()?it.comparator(e.key,t.key):function(r,a,l){const f=a.data.field(r),_=l.data.field(r);return null!==f&&null!==_?dl(f,_):mt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return mt()}}class es{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ou(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return OI(this.inner)}size(){return this.innerSize}}const Op=new ii(it.comparator);function Oo(){return Op}const WI=new ii(it.comparator);function Np(...n){let e=WI;for(const t of n)e=e.insert(t.key,t);return e}function A0(n){let e=WI;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function aa(){return Pp()}function M0(){return Pp()}function Pp(){return new es(n=>n.toString(),(n,e)=>n.isEqual(e))}const qI=new ii(it.comparator),yA=new ci(it.comparator);function sn(...n){let e=yA;for(const t of n)e=e.add(t);return e}const _R=new ci(Xt);function ZI(){return _R}function vA(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fy(e)?"-0":e}}function bA(n){return{integerValue:""+n}}function k0(n,e){return tA(e)?bA(e):vA(n,e)}class $d{constructor(){this._=void 0}}function wA(n,e,t){return n instanceof rc?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&py(r)&&(r=gy(r)),r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Gd?KI(n,e):n instanceof Wd?YI(n,e):function(i,r){const a=R0(i,r),l=QI(a)+QI(i.gt);return _0(a)&&_0(i.gt)?bA(l):vA(i.serializer,l)}(n,e)}function EA(n,e,t){return n instanceof Gd?KI(n,e):n instanceof Wd?YI(n,e):t}function R0(n,e){return n instanceof Fp?_0(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class rc extends $d{}class Gd extends $d{constructor(e){super(),this.elements=e}}function KI(n,e){const t=O0(e);for(const i of n.elements)t.some(r=>sa(r,i))||t.push(i);return{arrayValue:{values:t}}}class Wd extends $d{constructor(e){super(),this.elements=e}}function YI(n,e){let t=O0(e);for(const i of n.elements)t=t.filter(r=>!sa(r,i));return{arrayValue:{values:t}}}class Fp extends $d{constructor(e,t){super(),this.serializer=e,this.gt=t}}function QI(n){return wi(n.integerValue||n.doubleValue)}function O0(n){return Tp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Lp{constructor(e,t){this.field=e,this.transform=t}}class Vp{constructor(e,t){this.version=e,this.transformResults=t}}class mi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ey{}function N0(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ff(n.key,mi.none()):new Pf(n.key,n.data,mi.none());{const t=n.data,i=Or.empty();let r=new ci(fi.comparator);for(let a of e.fields)if(!r.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?i.delete(a):i.set(a,l),r=r.add(a)}return new oc(n.key,i,new Ro(r.toArray()),mi.none())}}function IA(n,e,t){n instanceof Pf?function(i,r,a){const l=i.value.clone(),f=XI(i.fieldTransforms,r,a.transformResults);l.setAll(f),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof oc?function(i,r,a){if(!Bp(i.precondition,r))return void r.convertToUnknownDocument(a.version);const l=XI(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(P0(i)),f.setAll(l),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Nf(n,e,t,i){return n instanceof Pf?function(r,a,l,f){if(!Bp(r.precondition,a))return l;const _=r.value.clone(),b=JI(r.fieldTransforms,f,a);return _.setAll(b),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof oc?function(r,a,l,f){if(!Bp(r.precondition,a))return l;const _=JI(r.fieldTransforms,f,a),b=a.data;return b.setAll(P0(r)),b.setAll(_),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,e,t,i):(l=t,Bp(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function CA(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=R0(i.transform,r||null);null!=a&&(null===t&&(t=Or.empty()),t.set(i.field,a))}return t||null}function xy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&iu(t,i,(r,a)=>function xA(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Gd&&i instanceof Gd||t instanceof Wd&&i instanceof Wd?iu(t.elements,i.elements,sa):t instanceof Fp&&i instanceof Fp?sa(t.gt,i.gt):t instanceof rc&&i instanceof rc);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Pf extends Ey{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class oc extends Ey{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function P0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function XI(n,e,t){const i=new Map;Ct(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],l=a.transform,f=e.data.field(a.field);i.set(a.field,EA(l,f,t[r]))}return i}function JI(n,e,t){const i=new Map;for(const r of n){const a=r.transform,l=t.data.field(r.field);i.set(r.field,wA(a,l,e))}return i}class Ff extends Ey{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Up extends Ey{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class F0{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&IA(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Nf(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Nf(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=M0();return this.mutations.forEach(r=>{const a=e.get(r.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=t.has(r.key)?null:f;const _=N0(l,f);null!==_&&i.set(r.key,_),l.isValidDocument()||l.convertToNoDocument(Dt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),sn())}isEqual(e){return this.batchId===e.batchId&&iu(this.mutations,e.mutations,(t,i)=>xy(t,i))&&iu(this.baseMutations,e.baseMutations,(t,i)=>xy(t,i))}}class Iy{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ct(e.mutations.length===i.length);let r=qI;const a=e.mutations;for(let l=0;l<a.length;l++)r=r.insert(a[l].key,i[l].version);return new Iy(e,t,i,r)}}class L0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class SA{constructor(e,t){this.count=e,this.unchangedNames=t}}var tr,vn;function eC(n){switch(n){default:return mt();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function tC(n){if(void 0===n)return bi("GRPC error has no .code"),he.UNKNOWN;switch(n){case tr.OK:return he.OK;case tr.CANCELLED:return he.CANCELLED;case tr.UNKNOWN:return he.UNKNOWN;case tr.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case tr.INTERNAL:return he.INTERNAL;case tr.UNAVAILABLE:return he.UNAVAILABLE;case tr.UNAUTHENTICATED:return he.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case tr.NOT_FOUND:return he.NOT_FOUND;case tr.ALREADY_EXISTS:return he.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return he.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case tr.ABORTED:return he.ABORTED;case tr.OUT_OF_RANGE:return he.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return he.UNIMPLEMENTED;case tr.DATA_LOSS:return he.DATA_LOSS;default:return mt()}}(vn=tr||(tr={}))[vn.OK=0]="OK",vn[vn.CANCELLED=1]="CANCELLED",vn[vn.UNKNOWN=2]="UNKNOWN",vn[vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vn[vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vn[vn.NOT_FOUND=5]="NOT_FOUND",vn[vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",vn[vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",vn[vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",vn[vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vn[vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vn[vn.ABORTED=10]="ABORTED",vn[vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",vn[vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",vn[vn.INTERNAL=13]="INTERNAL",vn[vn.UNAVAILABLE=14]="UNAVAILABLE",vn[vn.DATA_LOSS=15]="DATA_LOSS";class V0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return jp}static getOrCreateInstance(){return null===jp&&(jp=new V0),jp}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let jp=null;function B0(){return new TextEncoder}const TA=new xf([4294967295,4294967295],0);function nC(n){const e=B0().encode(n),t=new YT;return t.update(e),new Uint8Array(t.digest())}function U0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new xf([t,i],0),new xf([r,a],0)]}class j0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Hp(`Invalid padding: ${t}`);if(i<0)throw new Hp(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Hp(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Hp(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=xf.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(xf.fromNumber(i)));return 1===r.compare(TA)&&(r=new xf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=nC(e),[i,r]=U0(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(i,r,a);if(!this.At(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new j0(a,r,t);return i.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=nC(e),[i,r]=U0(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(i,r,a);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Hp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zp{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,qd.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new zp(Dt.min(),r,new ii(Xt),Oo(),sn())}}class qd{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new qd(i,t,sn(),sn(),sn())}}class Lf{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class H0{constructor(e,t){this.targetId=e,this.Vt=t}}class Cy{constructor(e,t,i=Mi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class iC{constructor(){this.St=0,this.Dt=rC(),this.Ct=Mi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=sn(),t=sn(),i=sn();return this.Dt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:mt()}}),new qd(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=rC()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class AA{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Oo(),this.zt=Dy(),this.Wt=new ii(Xt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,a=this.se(i);if(a){const l=a.target;if(Ud(l))if(0===r){const f=new it(l.path);this.Yt(i,f,li.newNoDocument(f,Dt.min()))}else Ct(1===r);else{const f=this.ie(i);if(f!==r){const _=this.re(e,f);0!==_&&(this.ee(i),this.Wt=this.Wt.insert(i,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=V0.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(b,C,M){var B,G,Y,ie,fe,Ge;const nt={localCacheCount:C,existenceFilterCount:M.count},Ye=M.unchangedNames;return Ye&&(nt.bloomFilter={applied:0===b,hashCount:null!==(B=Ye?.hashCount)&&void 0!==B?B:0,bitmapLength:null!==(ie=null===(Y=null===(G=Ye?.bits)||void 0===G?void 0:G.bitmap)||void 0===Y?void 0:Y.length)&&void 0!==ie?ie:0,padding:null!==(Ge=null===(fe=Ye?.bits)||void 0===fe?void 0:fe.padding)&&void 0!==Ge?Ge:0}),nt}(_,f,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:f=0}=i;let _,b;try{_=nc(a).toUint8Array()}catch(C){if(C instanceof f0)return Rs("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw C}try{b=new j0(_,l,f)}catch(C){return Rs(C instanceof Hp?"BloomFilter error: ":"Applying bloom filter failed: ",C),1}return 0===b.It?1:r!==t-this.oe(e.targetId,b)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(a=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.vt(f)||(this.Yt(e,a,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((a,l)=>{const f=this.se(l);if(f){if(a.current&&Ud(f.target)){const _=new it(f.target.path);null!==this.jt.get(_)||this.ae(l,_)||this.Yt(l,_,li.newNoDocument(_,e))}a.Mt&&(t.set(l,a.Ot()),a.Ft())}});let i=sn();this.zt.forEach((a,l)=>{let f=!0;l.forEachWhile(_=>{const b=this.se(_);return!b||"TargetPurposeLimboResolution"===b.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(e));const r=new zp(e,t,this.Wt,this.jt,i);return this.jt=Oo(),this.zt=Dy(),this.Wt=new ii(Xt),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new iC,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ci(Xt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||$e("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new iC),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Dy(){return new ii(it.comparator)}function rC(){return new ii(it.comparator)}const oC={asc:"ASCENDING",desc:"DESCENDING"},Vf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sC={and:"AND",or:"OR"};class MA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function aC(n,e){return n.useProto3Json||Rd(e)?e:{value:e}}function lu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sy(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function kA(n,e){return lu(n,e.toTimestamp())}function ki(n){return Ct(!!n),Dt.fromTimestamp(function(e){const t=al(e);return new ai(t.seconds,t.nanos)}(n))}function Ty(n,e){return(t=n,new yn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function cC(n){const e=yn.fromString(n);return Ct(gC(e)),e}function Bf(n,e){return Ty(n.databaseId,e.path)}function Ps(n,e){const t=cC(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new it($0(t))}function Ay(n,e){return Ty(n.databaseId,e)}function z0(n){const e=cC(n);return 4===e.length?yn.emptyPath():$0(e)}function Uf(n){return new yn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $0(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function lC(n,e,t){return{name:Bf(n,e),fields:t.value.mapValue.fields}}function uC(n,e,t){const i=Ps(n,e.name),r=ki(e.updateTime),a=e.createTime?ki(e.createTime):Dt.min(),l=new Or({mapValue:{fields:e.fields}}),f=li.newFoundDocument(i,r,a,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function jf(n,e){let t;if(e instanceof Pf)t={update:lC(n,e.key,e.value)};else if(e instanceof Ff)t={delete:Bf(n,e.key)};else if(e instanceof oc)t={update:lC(n,e.key,e.data),updateMask:BA(e.fieldMask)};else{if(!(e instanceof Up))return mt();t={verify:Bf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const l=a.transform;if(l instanceof rc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Gd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Wd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Fp)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw mt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:kA(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:mt()),t;var r}function dC(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?mi.updateTime(ki(r.updateTime)):void 0!==r.exists?mi.exists(r.exists):mi.none():mi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,l){let f=null;"setToServerValue"in l?(Ct("REQUEST_TIME"===l.setToServerValue),f=new rc):"appendMissingElements"in l?f=new Gd(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new Wd(l.removeAllFromArray.values||[]):"increment"in l?f=new Fp(a,l.increment):mt();const _=fi.fromServerFormat(l.fieldPath);return new Lp(_,f)}(n,r)):[];var r;if(e.update){const r=Ps(n,e.update.name),a=new Or({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Ro((e.updateMask.fieldPaths||[]).map(b=>fi.fromServerFormat(b)));return new oc(r,a,l,t,i)}return new Pf(r,a,t,i)}if(e.delete){const r=Ps(n,e.delete);return new Ff(r,t)}if(e.verify){const r=Ps(n,e.verify);return new Up(r,t)}return mt()}function fC(n,e){return{documents:[Ay(n,e.path)]}}function G0(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Ay(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ay(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return pC(jn.create(_,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:uu((C=b).field),direction:FA(C.dir)};var C})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=aC(n,e.limit);var f,_;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function NA(n){let e=z0(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ct(1===i);const C=t.from[0];C.allDescendants?r=C.collectionId:e=e.child(C.collectionId)}let a=[];t.where&&(a=function(C){const M=mC(C);return M instanceof jn&&Mp(M)?M.getFilters():[M]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(C=>{return new Pd(Hf((M=C).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(C){let M;return M="object"==typeof C?C.value:C,Rd(M)?null:M}(t.limit));let _=null;var C;t.startAt&&(_=new hl((C=t.startAt).values||[],!!C.before));let b=null;return t.endAt&&(b=function(C){return new hl(C.values||[],!C.before)}(t.endAt)),$I(e,r,l,a,f,"F",_,b)}function mC(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Hf(e.unaryFilter.field);return fn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Hf(e.unaryFilter.field);return fn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Hf(e.unaryFilter.field);return fn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Hf(e.unaryFilter.field);return fn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(n):void 0!==n.fieldFilter?fn.create(Hf((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return jn.create(e.compositeFilter.filters.map(t=>mC(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return mt()}}(e.compositeFilter.op))}(n):mt();var e}function FA(n){return oC[n]}function LA(n){return Vf[n]}function VA(n){return sC[n]}function uu(n){return{fieldPath:n.canonicalString()}}function Hf(n){return fi.fromServerFormat(n.fieldPath)}function pC(n){return n instanceof fn?function(e){if("=="===e.op){if(FI(e.value))return{unaryFilter:{field:uu(e.field),op:"IS_NAN"}};if(PI(e.value))return{unaryFilter:{field:uu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(FI(e.value))return{unaryFilter:{field:uu(e.field),op:"IS_NOT_NAN"}};if(PI(e.value))return{unaryFilter:{field:uu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uu(e.field),op:LA(e.op),value:e.value}}}(n):n instanceof jn?function(e){const t=e.getFilters().map(i=>pC(i));return 1===t.length?t[0]:{compositeFilter:{op:VA(e.op),filters:t}}}(n):mt()}function BA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gC(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class fl{constructor(e,t,i,r,a=Dt.min(),l=Dt.min(),f=Mi.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=_}withSequenceNumber(e){return new fl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _C{constructor(e){this.fe=e}}function W0(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Gp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Bf(r=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:lu(r,a.version.toTimestamp()),createTime:lu(r,a.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:du(e.version)};else{if(!e.isUnknownDocument())return mt();i.unknownDocument={path:t.path.toArray(),version:du(e.version)}}var r,a;return i}function Gp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function du(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function hu(n){const e=new ai(n.seconds,n.nanoseconds);return Dt.fromTimestamp(e)}function fu(n,e){const t=(e.baseMutations||[]).map(a=>dC(n.fe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const i=e.mutations.map(a=>dC(n.fe,a)),r=ai.fromMillis(e.localWriteTimeMs);return new F0(e.batchId,r,t,i)}function zf(n){const e=hu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?hu(n.lastLimboFreeSnapshotVersion):Dt.min();let i;var r;return void 0!==n.query.documents?(Ct(1===(r=n.query).documents.length),i=so(jd(z0(r.documents[0])))):i=so(NA(n.query)),new fl(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Mi.fromBase64String(n.resumeToken))}function yC(n,e){const t=du(e.snapshotVersion),i=du(e.lastLimboFreeSnapshotVersion);let r;r=Ud(e.target)?fC(n.fe,e.target):G0(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Bd(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function vC(n){const e=NA({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?wy(e,e.limit,"L"):e}function bC(n,e){return new L0(e.largestBatchId,dC(n.fe,e.overlayMutation))}function q0(n,e){const t=e.path.lastSegment();return[n,Hr(e.path.popLast()),t]}function wC(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:du(i.readTime),documentKey:Hr(i.documentKey.path),largestBatchId:i.largestBatchId}}class UA{getBundleMetadata(e,t){return EC(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:hu(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return EC(e).put({bundleId:(i=t).id,createTime:du(ki(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return xC(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:vC(r.bundledQuery),readTime:hu(r.readTime)};var r})}saveNamedQuery(e,t){return xC(e).put({name:(i=t).name,readTime:du(ki(i.readTime)),bundledQuery:i.bundledQuery});var i}}function EC(n){return dr(n,"bundles")}function xC(n){return dr(n,"namedQueries")}class mu{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new mu(e,t.uid||"")}getOverlay(e,t){return Wp(e).get(q0(this.userId,t)).next(i=>i?bC(this.serializer,i):null)}getOverlays(e,t){const i=aa();return ae.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,l)=>{const f=new L0(t,l);r.push(this.we(e,f))}),ae.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(l=>r.add(Hr(l.getCollectionPath())));const a=[];return r.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);a.push(Wp(e).J("collectionPathOverlayIndex",f))}),ae.waitFor(a)}getOverlaysForCollection(e,t,i){const r=aa(),a=Hr(t),l=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Wp(e).j("collectionPathOverlayIndex",l).next(f=>{for(const _ of f){const b=bC(this.serializer,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=aa();let l;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Wp(e).X({index:"collectionGroupOverlayIndex",range:f},(_,b,C)=>{const M=bC(this.serializer,b);a.size()<r||M.largestBatchId===l?(a.set(M.getKey(),M),l=M.largestBatchId):C.done()}).next(()=>a)}we(e,t){return Wp(e).put(function(i,r,a){const[l,f,_]=q0(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:jf(i.fe,a.mutation)}}(this.serializer,this.userId,t))}}function Wp(n){return dr(n,"documentOverlays")}class ml{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(wi(e.integerValue));else if("doubleValue"in e){const i=wi(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),fy(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(nc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?LI(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):mt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),it.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function sc(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function IC(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=sc(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}ml.Ve=new ml;class My{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=IC(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=IC(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class qp{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class jA{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Zp{constructor(){this.je=new My,this.ze=new qp(this.je),this.We=new jA(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Zd{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Zd(this.indexId,this.documentKey,this.arrayValue,i)}}function ca(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Z0(n.arrayValue,e.arrayValue),0!==t?t:(t=Z0(n.directionalValue,e.directionalValue),0!==t?t:it.comparator(n.documentKey,e.documentKey)))}function Z0(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class HA{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){Ct(e.collectionGroup===this.collectionId);const t=Ep(e);if(void 0!==t&&!this.en(t))return!1;const i=Ad(e);let r=new Set,a=0,l=0;for(;a<i.length&&this.en(i[a]);++a)r=r.add(i[a].fieldPath.canonicalString());if(a===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const f=i[a];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[l++],f))return!1}++a}for(;a<i.length;++a)if(l>=this.Ye.length||!this.sn(this.Ye[l++],i[a]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function CC(n){var e,t;if(Ct(n instanceof fn||n instanceof jn),n instanceof fn){if(n instanceof Vd){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>fn.create(n.field,"==",a)))||[];return jn.create(r,"or")}return n}const i=n.filters.map(r=>CC(r));return jn.create(i,n.op)}function K0(n){if(0===n.getFilters().length)return[];const e=J0(CC(n));return Ct(X0(e)),Y0(e)||Q0(e)?[e]:e.getFilters()}function Y0(n){return n instanceof fn}function Q0(n){return n instanceof jn&&Mp(n)}function X0(n){return Y0(n)||Q0(n)||function(e){if(e instanceof jn&&vy(e)){for(const t of e.getFilters())if(!Y0(t)&&!Q0(t))return!1;return!0}return!1}(n)}function J0(n){if(Ct(n instanceof fn||n instanceof jn),n instanceof fn)return n;if(1===n.filters.length)return J0(n.filters[0]);const e=n.filters.map(i=>J0(i));let t=jn.create(e,n.op);return t=Kd(t),X0(t)?t:(Ct(t instanceof jn),Ct(Fd(t)),Ct(t.filters.length>1),t.filters.reduce((i,r)=>ew(i,r)))}function ew(n,e){let t;return Ct(n instanceof fn||n instanceof jn),Ct(e instanceof fn||e instanceof jn),t=n instanceof fn?e instanceof fn?jn.create([n,e],"and"):tw(n,e):e instanceof fn?tw(e,n):function(i,r){if(Ct(i.filters.length>0&&r.filters.length>0),Fd(i)&&Fd(r))return Ld(i,r.getFilters());const a=vy(i)?i:r,l=vy(i)?r:i,f=a.filters.map(_=>ew(_,l));return jn.create(f,"or")}(n,e),Kd(t)}function tw(n,e){if(Fd(e))return Ld(e,n.getFilters());{const t=e.filters.map(i=>ew(n,i));return jn.create(t,"or")}}function Kd(n){if(Ct(n instanceof fn||n instanceof jn),n instanceof fn)return n;const e=n.getFilters();if(1===e.length)return Kd(e[0]);if(su(n))return n;const t=e.map(r=>Kd(r)),i=[];return t.forEach(r=>{r instanceof fn?i.push(r):r instanceof jn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:jn.create(i,n.op)}class zA{constructor(){this.rn=new nw}addToCollectionParentIndex(e,t){return this.rn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(ko.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class nw{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ci(yn.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ci(yn.comparator)).toArray()}}const Kp=new Uint8Array(0);class DC{constructor(e,t){this.user=e,this.databaseId=t,this.on=new nw,this.un=new es(i=>Bd(i),(i,r)=>cu(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:i,parent:Hr(r)};return ky(e).put(a)}return ae.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[ly(t),""],!1,!0);return ky(e).j(r).next(a=>{for(const l of a){if(l.collectionId!==t)break;i.push(ec(l.parent))}return i})}addFieldIndex(e,t){const i=Ry(e),r={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete r.indexId;const a=i.add(r);if(t.indexState){const l=Gf(e);return a.next(f=>{l.put(wC(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=Ry(e),r=Gf(e),a=$f(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=$f(e);let r=!0;const a=new Map;return ae.forEach(this.cn(t),l=>this.an(e,l).next(f=>{r&&(r=!!f),a.set(l,f)})).next(()=>{if(r){let l=sn();const f=[];return ae.forEach(a,(_,b)=>{var C;$e("IndexedDbIndexManager",`Using index ${C=_,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(Ye=>`${Ye.fieldPath}:${Ye.kind}`).join(",")}`} to execute ${Bd(t)}`);const M=function(Ye,Xe){const Ot=Ep(Xe);if(void 0===Ot)return null;for(const Lt of Nr(Ye,Ot.fieldPath))switch(Lt.op){case"array-contains-any":return Lt.value.arrayValue.values||[];case"array-contains":return[Lt.value]}return null}(b,_),B=function(Ye,Xe){const Ot=new Map;for(const Lt of Ad(Xe))for(const gn of Nr(Ye,Lt.fieldPath))switch(gn.op){case"==":case"in":Ot.set(Lt.fieldPath.canonicalString(),gn.value);break;case"not-in":case"!=":return Ot.set(Lt.fieldPath.canonicalString(),gn.value),Array.from(Ot.values())}return null}(b,_),G=function(Ye,Xe){const Ot=[];let Lt=!0;for(const gn of Ad(Xe)){const Ni=0===gn.kind?gA(Ye,gn.fieldPath,Ye.startAt):I0(Ye,gn.fieldPath,Ye.startAt);Ot.push(Ni.value),Lt&&(Lt=Ni.inclusive)}return new hl(Ot,Lt)}(b,_),Y=function(Ye,Xe){const Ot=[];let Lt=!0;for(const gn of Ad(Xe)){const Ni=0===gn.kind?I0(Ye,gn.fieldPath,Ye.endAt):gA(Ye,gn.fieldPath,Ye.endAt);Ot.push(Ni.value),Lt&&(Lt=Ni.inclusive)}return new hl(Ot,Lt)}(b,_),ie=this.hn(_,b,G),fe=this.hn(_,b,Y),Ge=this.ln(_,b,B),nt=this.fn(_.indexId,M,ie,G.inclusive,fe,Y.inclusive,Ge);return ae.forEach(nt,Ye=>i.H(Ye,t.limit).next(Xe=>{Xe.forEach(Ot=>{const Lt=it.fromSegments(Ot.documentKey);l.has(Lt)||(l=l.add(Lt),f.push(Lt))})}))}).next(()=>f)}return ae.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:K0(jn.create(e.filters,"and")).map(i=>au(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,a,l,f){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),b=_/(null!=t?t.length:1),C=[];for(let M=0;M<_;++M){const B=t?this.dn(t[M/b]):Kp,G=this.wn(e,B,i[M%b],r),Y=this._n(e,B,a[M%b],l),ie=f.map(fe=>this.wn(e,B,fe,!0));C.push(...this.createRange(G,Y,ie))}return C}wn(e,t,i,r){const a=new Zd(e,it.empty(),t,i);return r?a:a.Je()}_n(e,t,i,r){const a=new Zd(e,it.empty(),t,i);return r?a.Je():a}an(e,t){const i=new HA(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let l=null;for(const f of a)i.tn(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,t){let i=2;const r=this.cn(t);return ae.forEach(r,a=>this.an(e,a).next(l=>{l?0!==i&&l.fields.length<function(f){let _=new ci(fi.comparator),b=!1;for(const C of f.filters)for(const M of C.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?b=!0:_=_.add(M.field));for(const C of f.orderBy)C.field.isKeyField()||(_=_.add(C.field));return _.size+(b?1:0)}(a)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new Zp;for(const r of Ad(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const l=i.He(r.kind);ml.Ve._e(a,l)}return i.Qe()}dn(e){const t=new Zp;return ml.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new Zp;return ml.Ve._e(Nd(this.databaseId,t),i.He(function(r){const a=Ad(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new Zp);let a=0;for(const l of Ad(e)){const f=i[a++];for(const _ of r)if(this.yn(t,l.fieldPath)&&Tp(f))r=this.pn(r,l,f);else{const b=_.He(l.kind);ml.Ve._e(f,b)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],a=[];for(const l of i.arrayValue.values||[])for(const f of r){const _=new Zp;_.seed(f.Qe()),ml.Ve._e(l,_.He(t.kind)),a.push(_)}return a}yn(e,t){return!!e.filters.find(i=>i instanceof fn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Ry(e),r=Gf(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(a=>{const l=[];return ae.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{l.push(function(b,C){const M=C?new Cf(C.sequenceNumber,new ko(hu(C.readTime),new it(ec(C.documentKey)),C.largestBatchId)):Cf.empty(),B=b.fields.map(([G,Y])=>new xp(fi.fromServerFormat(G),Y));return new If(b.indexId,b.collectionGroup,B,M)}(f,_))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Xt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Ry(e),a=Gf(e);return this.Tn(e).next(l=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ae.forEach(f,_=>a.put(wC(_.indexId,this.user,l,i)))))}updateIndexEntries(e,t){const i=new Map;return ae.forEach(t,(r,a)=>{const l=i.get(r.collectionGroup);return(l?ae.resolve(l):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),ae.forEach(f,_=>this.En(e,r,_).next(b=>{const C=this.An(a,_);return b.isEqual(C)?ae.resolve():this.vn(e,a,_,b,C)}))))})}Rn(e,t,i,r){return $f(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return $f(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=$f(e);let a=new ci(ca);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(l,f)=>{a=a.add(new Zd(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}An(e,t){let i=new ci(ca);const r=this.mn(t,e);if(null==r)return i;const a=Ep(t);if(null!=a){const l=e.data.field(a.fieldPath);if(Tp(l))for(const f of l.arrayValue.values||[])i=i.add(new Zd(t.indexId,e.key,this.dn(f),r))}else i=i.add(new Zd(t.indexId,e.key,Kp,r));return i}vn(e,t,i,r,a){$e("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(f,_,b,C,M){const B=f.getIterator(),G=_.getIterator();let Y=Af(B),ie=Af(G);for(;Y||ie;){let fe=!1,Ge=!1;if(Y&&ie){const nt=b(Y,ie);nt<0?Ge=!0:nt>0&&(fe=!0)}else null!=Y?Ge=!0:fe=!0;fe?(C(ie),ie=Af(G)):Ge?(M(Y),Y=Af(B)):(Y=Af(B),ie=Af(G))}}(r,a,ca,f=>{l.push(this.Rn(e,t,i,f))},f=>{l.push(this.Pn(e,t,i,f))}),ae.waitFor(l)}Tn(e){let t=1;return Gf(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((l,f)=>ca(l,f)).filter((l,f,_)=>!f||0!==ca(l,_[f-1]));const r=[];r.push(e);for(const l of i){const f=ca(l,e),_=ca(l,t);if(0===f)r[0]=e.Je();else if(f>0&&_<0)r.push(l),r.push(l.Je());else if(_>0)break}r.push(t);const a=[];for(let l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];a.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Kp,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Kp,[]]))}return a}bn(e,t){return ca(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(iw)}getMinOffset(e,t){return ae.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||mt())).next(iw)}}function ky(n){return dr(n,"collectionParents")}function $f(n){return dr(n,"indexEntries")}function Ry(n){return dr(n,"indexConfiguration")}function Gf(n){return dr(n,"indexState")}function iw(n){Ct(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;uy(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new ko(e.readTime,e.documentKey,t)}const SC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new zr(e,zr.DEFAULT_COLLECTION_PERCENTILE,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Oy(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],l=IDBKeyRange.only(t.batchId);let f=0;const _=i.X({range:l},(C,M,B)=>(f++,B.delete()));a.push(_.next(()=>{Ct(1===f)}));const b=[];for(const C of t.mutations){const M=CI(e,C.key.path,t.batchId);a.push(r.delete(M)),b.push(C.key)}return ae.waitFor(a).next(()=>b)}function Wf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw mt();e=n.noDocument}return JSON.stringify(e).length}zr.DEFAULT_COLLECTION_PERCENTILE=10,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zr.DEFAULT=new zr(41943040,zr.DEFAULT_COLLECTION_PERCENTILE,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zr.DISABLED=new zr(-1,0,0);class Yp{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){Ct(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new Yp(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ac(e).X({index:"userMutationsIndex",range:i},(r,a,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=qf(e),l=ac(e);return l.add({}).next(f=>{Ct("number"==typeof f);const _=new F0(f,t,i,r),b=function(B,G,Y){const ie=Y.baseMutations.map(Ge=>jf(B.fe,Ge)),fe=Y.mutations.map(Ge=>jf(B.fe,Ge));return{userId:G,batchId:Y.batchId,localWriteTimeMs:Y.localWriteTime.toMillis(),baseMutations:ie,mutations:fe}}(this.serializer,this.userId,_),C=[];let M=new ci((B,G)=>Xt(B.canonicalString(),G.canonicalString()));for(const B of r){const G=CI(this.userId,B.key.path,f);M=M.add(B.key.path.popLast()),C.push(l.put(b)),C.push(a.put(G,iA))}return M.forEach(B=>{C.push(this.indexManager.addToCollectionParentIndex(e,B))}),e.addOnCommittedListener(()=>{this.Vn[f]=_.keys()}),ae.waitFor(C).next(()=>_)})}lookupMutationBatch(e,t){return ac(e).get(t).next(i=>i?(Ct(i.userId===this.userId),fu(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?ae.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return ac(e).X({index:"userMutationsIndex",range:r},(l,f,_)=>{f.userId===this.userId&&(Ct(f.batchId>=i),a=fu(this.serializer,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return ac(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,a,l)=>{i=a.batchId,l.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ac(e).j("userMutationsIndex",t).next(i=>i.map(r=>fu(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Dp(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return qf(e).X({range:r},(l,f,_)=>{const[b,C,M]=l,B=ec(C);if(b===this.userId&&t.path.isEqual(B))return ac(e).get(M).next(G=>{if(!G)throw mt();Ct(G.userId===this.userId),a.push(fu(this.serializer,G))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ci(Xt);const r=[];return t.forEach(a=>{const l=Dp(this.userId,a.path),f=IDBKeyRange.lowerBound(l),_=qf(e).X({range:f},(b,C,M)=>{const[B,G,Y]=b,ie=ec(G);B===this.userId&&a.path.isEqual(ie)?i=i.add(Y):M.done()});r.push(_)}),ae.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=Dp(this.userId,i),l=IDBKeyRange.lowerBound(a);let f=new ci(Xt);return qf(e).X({range:l},(_,b,C)=>{const[M,B,G]=_,Y=ec(B);M===this.userId&&i.isPrefixOf(Y)?Y.length===r&&(f=f.add(G)):C.done()}).next(()=>this.Dn(e,f))}Dn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(ac(e).get(a).next(l=>{if(null===l)throw mt();Ct(l.userId===this.userId),i.push(fu(this.serializer,l))}))}),ae.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Oy(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return qf(e).X({range:i},(a,l,f)=>{if(a[0]===this.userId){const _=ec(a[1]);r.push(_)}else f.done()}).next(()=>{Ct(0===r.length)})})}containsKey(e,t){return Ny(e,this.userId,t)}xn(e){return TC(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ny(n,e,t){const i=Dp(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let l=!1;return qf(n).X({range:a,Y:!0},(f,_,b)=>{const[C,M,B]=f;C===e&&M===r&&(l=!0),b.done()}).next(()=>l)}function ac(n){return dr(n,"mutations")}function qf(n){return dr(n,"documentMutations")}function TC(n){return dr(n,"mutationQueues")}class Yd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Yd(0)}static Mn(){return new Yd(-1)}}class $A{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new Yd(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Dt.fromTimestamp(new ai(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Qd(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(Ct(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return Qd(e).X((l,f)=>{const _=zf(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>ae.waitFor(a)).next(()=>r)}forEachTarget(e,t){return Qd(e).X((i,r)=>{const a=zf(r);t(a)})}$n(e){return Py(e).get("targetGlobalKey").next(t=>(Ct(null!==t),t))}On(e,t){return Py(e).put("targetGlobalKey",t)}Fn(e,t){return Qd(e).put(yC(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Bd(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return Qd(e).X({range:r,index:"queryTargetsIndex"},(l,f,_)=>{const b=zf(f);cu(t,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=pl(e);return t.forEach(l=>{const f=Hr(l.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,l))}),ae.waitFor(r)}removeMatchingKeys(e,t,i){const r=pl(e);return ae.forEach(t,a=>{const l=Hr(a.path);return ae.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=pl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=pl(e);let a=sn();return r.X({range:i,Y:!0},(l,f,_)=>{const b=ec(l[1]),C=new it(b);a=a.add(C)}).next(()=>a)}containsKey(e,t){const i=Hr(t.path),r=IDBKeyRange.bound([i],[ly(i)],!1,!0);let a=0;return pl(e).X({index:"documentTargetsIndex",Y:!0,range:r},([l,f],_,b)=>{0!==l&&(a++,b.done())}).next(()=>a>0)}le(e,t){return Qd(e).get(t).next(i=>i?zf(i):null)}}function Qd(n){return dr(n,"targets")}function Py(n){return dr(n,"targetGlobal")}function pl(n){return dr(n,"targetDocuments")}function rw([n,e],[t,i]){const r=Xt(n,t);return 0===r?Xt(e,i):r}class AC{constructor(e){this.Ln=e,this.buffer=new ci(rw),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();rw(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ow{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;$e("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ee.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){ia(i)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield sl(i)}yield t.Qn(3e5)}))}}class GA{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(Jo.ct);const i=new AC(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(SC)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SC):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,a,l,f,_,b;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),r=this.params.maximumSequenceNumbersToCollect):r=M,l=Date.now(),this.nthSequenceNumber(e,r))).next(M=>(i=M,f=Date.now(),this.removeTargets(e,i,t))).next(M=>(a=M,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(M=>(b=Date.now(),mI()<=Mo.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-C}ms\n\tDetermined least recently used ${r} in `+(f-l)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${M} documents in `+(b-_)+`ms\nTotal Duration: ${b-C}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:M})))}}class MC{constructor(e,t){this.db=e,this.garbageCollector=function sw(n,e){return new GA(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return Fy(e,i)}removeReference(e,t,i){return Fy(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Fy(e,t)}Xn(e,t){return function(i,r){let a=!1;return TC(i).Z(l=>Ny(i,l,r).next(f=>(f&&(a=!0),ae.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Yn(e,(l,f)=>{if(f<=t){const _=this.Xn(e,l).next(b=>{if(!b)return a++,i.getEntry(e,l).next(()=>(i.removeEntry(l,Dt.min()),pl(e).delete([0,Hr(l.path)])))});r.push(_)}}).next(()=>ae.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Fy(e,t)}Yn(e,t){const i=pl(e);let r,a=Jo.ct;return i.X({index:"documentTargetsIndex"},([l,f],{path:_,sequenceNumber:b})=>{0===l?(a!==Jo.ct&&t(new it(ec(r)),a),a=b,r=_):a=Jo.ct}).next(()=>{a!==Jo.ct&&t(new it(ec(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fy(n,e){return pl(n).put((i=n.currentSequenceNumber,{targetId:0,path:Hr(e.path),sequenceNumber:i}));var i}class aw{constructor(){this.changes=new es(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,li.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kC{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Xd(e).put(i)}removeEntry(e,t,i){return Xd(e).delete(function(r,a){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Gp(a),l[l.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=li.newInvalidDocument(t);return Xd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ly(t))},(r,a)=>{i=this.ts(t,a)}).next(()=>i)}es(e,t){let i={size:0,document:li.newInvalidDocument(t)};return Xd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ly(t))},(r,a)=>{i={document:this.ts(t,a),size:Wf(a)}}).next(()=>i)}getEntries(e,t){let i=Oo();return this.ns(e,t,(r,a)=>{const l=this.ts(r,a);i=i.insert(r,l)}).next(()=>i)}ss(e,t){let i=Oo(),r=new ii(it.comparator);return this.ns(e,t,(a,l)=>{const f=this.ts(a,l);i=i.insert(a,f),r=r.insert(a,Wf(l))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return ae.resolve();let r=new ci(cw);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(Ly(r.first()),Ly(r.last())),l=r.getIterator();let f=l.getNext();return Xd(e).X({index:"documentKeyIndex",range:a},(_,b,C)=>{const M=it.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&cw(f,M)<0;)i(f,null),f=l.getNext();f&&f.isEqual(M)&&(i(f,b),f=l.hasNext()?l.getNext():null),f?C.G(Ly(f)):C.done()}).next(()=>{for(;f;)i(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const a=t.path,l=[a.popLast().toArray(),a.lastSegment(),Gp(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xd(e).j(IDBKeyRange.bound(l,f,!0)).next(_=>{let b=Oo();for(const C of _){const M=this.ts(it.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);M.isFoundDocument()&&(Of(t,M)||r.has(M.key))&&(b=b.insert(M.key,M))}return b})}getAllFromCollectionGroup(e,t,i,r){let a=Oo();const l=WA(t,i),f=WA(t,ko.max());return Xd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(_,b,C)=>{const M=this.ts(it.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(M.key,M),a.size===r&&C.done()}).next(()=>a)}newChangeBuffer(e){return new Zf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return RC(e).get("remoteDocumentGlobalKey").next(t=>(Ct(!!t),t))}Zn(e,t){return RC(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function $p(n,e){let t;if(e.document)t=uC(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=it.fromSegments(e.noDocument.path),r=hu(e.noDocument.readTime);t=li.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return mt();{const i=it.fromSegments(e.unknownDocument.path),r=hu(e.unknownDocument.version);t=li.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new ai(i[0],i[1]);return Dt.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Dt.min()))return i}return li.newInvalidDocument(e)}}function $r(n){return new kC(n)}class Zf extends aw{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new es(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new ci((a,l)=>Xt(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const f=this.us.get(a);if(t.push(this.os.removeEntry(e,a,f.readTime)),l.isValidDocument()){const _=W0(this.os.serializer,l);r=r.add(a.path.popLast());const b=Wf(_);i+=b-f.size,t.push(this.os.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=W0(this.os.serializer,l.convertToNoDocument(Dt.min()));t.push(this.os.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,i)),ae.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((a,l)=>{this.us.set(a,{size:l,readTime:i.get(a).readTime})}),i))}}function RC(n){return dr(n,"remoteDocumentGlobal")}function Xd(n){return dr(n,"remoteDocumentsV14")}function Ly(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function WA(n,e){const t=e.documentKey.path.toArray();return[n,Gp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function cw(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Xt(t[a],i[a]),r)return r;return r=Xt(t.length,i.length),r||(r=Xt(t[t.length-2],i[i.length-2]),r||Xt(t[t.length-1],i[i.length-1]))}class lw{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Kf{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Nf(i.mutation,r,Ro.empty(),ai.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,sn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=sn()){const r=aa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let l=Np();return a.forEach((f,_)=>{l=l.insert(f,_.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=aa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,sn()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,i,r){let a=Oo();const l=Pp(),f=Pp();return t.forEach((_,b)=>{const C=i.get(b.key);r.has(b.key)&&(void 0===C||C.mutation instanceof oc)?a=a.insert(b.key,b):void 0!==C?(l.set(b.key,C.mutation.getFieldMask()),Nf(C.mutation,b,C.mutation.getFieldMask(),ai.now())):l.set(b.key,Ro.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((b,C)=>l.set(b,C)),t.forEach((b,C)=>{var M;return f.set(b,new lw(C,null!==(M=l.get(b))&&void 0!==M?M:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Pp();let r=new ii((l,f)=>l-f),a=sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let C=i.get(_)||Ro.empty();C=f.applyToLocalView(b,C),i.set(_,C);const M=(r.get(f.batchId)||sn()).add(_);r=r.insert(f.batchId,M)})}).next(()=>{const l=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),b=_.key,C=_.value,M=M0();C.forEach(B=>{if(!a.has(B)){const G=N0(t.get(B),i.get(B));null!==G&&M.set(B,G),a=a.add(B)}}),l.push(this.documentOverlayCache.saveOverlays(e,b,M))}return ae.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return it.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):D0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const l=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):ae.resolve(aa());let f=-1,_=a;return l.next(b=>ae.forEach(b,(C,M)=>(f<M.largestBatchId&&(f=M.largestBatchId),a.get(C)?ae.resolve():this.remoteDocumentCache.getEntry(e,C).next(B=>{_=_.insert(C,B)}))).next(()=>this.populateOverlays(e,b,a)).next(()=>this.computeViews(e,_,b,sn())).next(C=>({batchId:f,changes:A0(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new it(t)).next(i=>{let r=Np();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=Np();return this.indexManager.getCollectionParents(e,r).next(l=>ae.forEach(l,f=>{const _=(b=t,C=f.child(r),new ic(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,C;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(b=>{b.forEach((C,M)=>{a=a.insert(C,M)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(a=>{r.forEach((f,_)=>{const b=_.getKey();null===a.get(b)&&(a=a.insert(b,li.newInvalidDocument(b)))});let l=Np();return a.forEach((f,_)=>{const b=r.get(f);void 0!==b&&Nf(b.mutation,_,Ro.empty(),ai.now()),Of(t,_)&&(l=l.insert(f,_))}),l})}}class qA{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ae.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:ki(i.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:vC(i.bundledQuery),readTime:ki(i.readTime)}),ae.resolve();var i}}class uw{constructor(){this.overlays=new ii(it.comparator),this.ls=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=aa();return ae.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.we(e,t,a)}),ae.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const r=aa(),a=t.length+1,l=new it(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return ae.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new ii((b,C)=>b-C);const l=this.overlays.getIterator();for(;l.hasNext();){const b=l.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>i){let C=a.get(b.largestBatchId);null===C&&(C=aa(),a=a.insert(b.largestBatchId,C)),C.set(b.getKey(),b)}}const f=aa(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,C)=>f.set(b,C)),!(f.size()>=r)););return ae.resolve(f)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new L0(t,i));let a=this.ls.get(t);void 0===a&&(a=sn(),this.ls.set(t,a)),this.ls.set(t,a.add(i.key))}}class dw{constructor(){this.fs=new ci(hr.ds),this.ws=new ci(hr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new hr(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new hr(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new it(new yn([])),i=new hr(t,e),r=new hr(t,e+1),a=[];return this.ws.forEachInRange([i,r],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new it(new yn([])),i=new hr(t,e),r=new hr(t,e+1);let a=sn();return this.ws.forEachInRange([i,r],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new hr(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class hr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return it.comparator(e.key,t.key)||Xt(e.As,t.As)}static _s(e,t){return Xt(e.As,t.As)||it.comparator(e.key,t.key)}}class ZA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ci(hr.ds)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.vs;this.vs++;const l=new F0(a,t,i,r);this.mutationQueue.push(l);for(const f of r)this.Rs=this.Rs.add(new hr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(l)}lookupMutationBatch(e,t){return ae.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),a=r<0?0:r;return ae.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new hr(t,0),r=new hr(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([i,r],l=>{const f=this.Ps(l.As);a.push(f)}),ae.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ci(Xt);return t.forEach(r=>{const a=new hr(r,0),l=new hr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],f=>{i=i.add(f.As)})}),ae.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;it.isDocumentKey(a)||(a=a.child(""));const l=new hr(new it(a),0);let f=new ci(Xt);return this.Rs.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(f=f.add(_.As)),!0)},l),ae.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ct(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ae.forEach(t.mutations,r=>{const a=new hr(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new hr(t,0),r=this.Rs.firstAfterOrEqual(i);return ae.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ae.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class KA{constructor(e){this.Ds=e,this.docs=new ii(it.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,l=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():li.newInvalidDocument(t))}getEntries(e,t){let i=Oo();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():li.newInvalidDocument(r))}),ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=Oo();const l=t.path,f=new it(l.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:b,value:{document:C}}=_.getNext();if(!l.isPrefixOf(b.path))break;b.path.length>l.length+1||uy(s0(C),i)<=0||(r.has(C.key)||Of(t,C))&&(a=a.insert(C.key,C.mutableCopy()))}return ae.resolve(a)}getAllFromCollectionGroup(e,t,i,r){mt()}Cs(e,t){return ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new YA(this)}getSize(e){return ae.resolve(this.size)}}class YA extends aw{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),ae.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class hw{constructor(e){this.persistence=e,this.xs=new es(t=>Bd(t),cu),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new dw,this.targetCount=0,this.Ms=Yd.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),ae.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Yd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Fn(t),ae.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),ae.waitFor(a).next(()=>r)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(l=>{a.push(r.markPotentiallyOrphaned(e,l))}),ae.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this.ks.containsKey(t))}}class Vy{constructor(e,t){this.$s={},this.overlays={},this.Os=new Jo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new hw(this),this.indexManager=new zA,this.remoteDocumentCache=new KA(i=>this.referenceDelegate.Ls(i)),this.serializer=new _C(t),this.qs=new qA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new ZA(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){$e("MemoryPersistence","Starting transaction:",e);const r=new QA(this.Os.next());return this.referenceDelegate.Us(),i(r).next(a=>this.referenceDelegate.Ks(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Gs(e,t){return ae.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class QA extends a0{constructor(e){super(),this.currentSequenceNumber=e}}class Jd{constructor(e){this.persistence=e,this.Qs=new dw,this.js=null}static zs(e){return new Jd(e)}get Ws(){if(this.js)return this.js;throw mt()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Ws.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ws,i=>{const r=it.fromPath(i);return this.Hs(e,r).next(a=>{a||t.removeEntry(r,Dt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ae.or([()=>ae.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class yR{constructor(e){this.serializer=e}O(e,t,i,r){const a=new Ip("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",er,{unique:!0}),f.createObjectStore("documentMutations"),fw(e),function(f){f.createObjectStore("remoteDocuments")}(e));let l=ae.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),fw(e)),l=l.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(f,_){return _.store("mutations").j().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",er,{unique:!0});const C=_.store("mutations"),M=b.map(B=>C.put(B));return ae.waitFor(M)})}(e,a))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(l=l.next(()=>this.Ys(a))),i<6&&r>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),i<7&&r>=7&&(l=l.next(()=>this.Zs(a))),i<8&&r>=8&&(l=l.next(()=>this.ti(e,a))),i<9&&r>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(l=l.next(()=>this.ei(a))),i<11&&r>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(l=l.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:u0});_.createIndex("collectionPathOverlayIndex",d0,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",tc,{unique:!1})}(e)})),i<13&&r>=13&&(l=l.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:DI});_.createIndex("documentKeyIndex",rA),_.createIndex("collectionGroupIndex",SI)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.si(e,a))),i<15&&r>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:AI}).createIndex("sequenceNumberIndex",aA,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:MI}).createIndex("documentKeyIndex",mR,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=Wf(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>ae.forEach(r,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",l).next(f=>ae.forEach(f,_=>{Ct(_.userId===a.userId);const b=fu(this.serializer,_);return Oy(e,a.userId,b).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.X((l,f)=>{const _=new yn(l),b=[0,Hr(_)];a.push(t.get(b).next(C=>C?ae.resolve():t.put({targetId:0,path:Hr(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ae.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:sA});const i=t.store("collectionParents"),r=new nw,a=l=>{if(r.add(l)){const f=l.lastSegment(),_=l.popLast();return i.put({collectionId:f,parent:Hr(_)})}};return t.store("remoteDocuments").X({Y:!0},(l,f)=>{const _=new yn(l);return a(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,f,_],b)=>{const C=ec(f);return a(C.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const a=zf(r),l=yC(this.serializer,a);return t.put(l)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((a,l)=>{const f=t.store("remoteDocumentsV14"),_=(b=l,b.document?new it(yn.fromString(b.document.name).popFirst(5)):b.noDocument?it.fromSegments(b.noDocument.path):b.unknownDocument?it.fromSegments(b.unknownDocument.path):mt()).path.toArray();var b;const C={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(f.put(C))}).next(()=>ae.waitFor(r))}si(e,t){const i=t.store("mutations"),r=$r(this.serializer),a=new Vy(Jd.zs,this.serializer.fe);return i.j().next(l=>{const f=new Map;return l.forEach(_=>{var b;let C=null!==(b=f.get(_.userId))&&void 0!==b?b:sn();fu(this.serializer,_).keys().forEach(M=>C=C.add(M)),f.set(_.userId,C)}),ae.forEach(f,(_,b)=>{const C=new Ji(b),M=mu.de(this.serializer,C),B=a.getIndexManager(C),G=Yp.de(C,this.serializer,B,a.referenceDelegate);return new Kf(r,G,M,B).recalculateAndSaveOverlaysForDocumentKeys(new my(t,Jo.ct),_).next()})})}}function fw(n){n.createObjectStore("targetDocuments",{keyPath:Sf}).createIndex("documentTargetsIndex",oA,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",TI,{unique:!0}),n.createObjectStore("targetGlobal")}const mw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class By{constructor(e,t,i,r,a,l,f,_,b,C,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=a,this.window=l,this.document=f,this.ri=b,this.oi=C,this.ui=M,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=B=>Promise.resolve(),!By.D())throw new Fe(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new MC(this,r),this.di=t+"main",this.serializer=new _C(_),this.wi=new Os(this.di,this.ui,new yR(this.serializer)),this.Bs=new $A(this.referenceDelegate,this.serializer),this.remoteDocumentCache=$r(this.serializer),this.qs=new UA,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===C&&bi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(he.FAILED_PRECONDITION,mw);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Jo(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,Ee.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Ee.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Uy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ia(e))return $e("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return cc(e).get("owner").next(t=>ae.resolve(this.Ri(t)))}Pi(e){return Uy(e).delete(this.clientId)}bi(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=dr(i,"clientMetadata");return r.j().next(a=>{const l=e.Si(a,18e5),f=a.filter(_=>-1===l.indexOf(_));return ae.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ae.resolve(!0):cc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Fe(he.FAILED_PRECONDITION,mw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Uy(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&$e("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new my(t,Jo.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Uy(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Yp.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new DC(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return mu.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){$e("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(l=this.ui)?oa:14===l?Ns:13===l?ra:12===l?cA:11===l?kI:void mt();var l;let f;return this.wi.runTransaction(e,r,a,_=>(f=new my(_,this.Os?this.Os.next():Jo.ct),"readwrite-primary"===t?this.Ti(f).next(b=>!!b||this.Ei(f)).next(b=>{if(!b)throw bi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Fe(he.FAILED_PRECONDITION,dy);return i(f)}).next(b=>this.vi(f).next(()=>b)):this.Oi(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Oi(e){return cc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(he.FAILED_PRECONDITION,mw)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cc(e).put("owner",t)}static D(){return Os.D()}Ai(e){const t=cc(e);return t.get("owner").next(i=>this.Ri(i)?($e("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(bi(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Rt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return $e("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return bi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){bi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cc(n){return dr(n,"owner")}function Uy(n){return dr(n,"clientMetadata")}function jy(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Qp{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=sn(),r=sn();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Qp(e,t.fromCache,i,r)}}class XA{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(a=>a||this.Gi(e,t,r,i)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(C0(t))return ae.resolve(null);let i=so(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=wy(t,null,"F"),i=so(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const l=sn(...a);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,i).next(_=>{const b=this.ji(t,f);return this.zi(t,b,l,_.readTime)?this.Ki(e,wy(t,null,"F")):this.Wi(e,b,t,_)}))})))}Gi(e,t,i,r){return C0(t)||r.isEqual(Dt.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(a=>{const l=this.ji(t,a);return this.zi(t,l,i,r)?this.Qi(e,t):(mI()<=Mo.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rf(t)),this.Wi(e,l,t,EI(r,-1)))})}ji(e,t){let i=new ci(T0(e));return t.forEach((r,a)=>{Of(e,a)&&(i=i.add(a))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Qi(e,t){return mI()<=Mo.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",Rf(t)),this.Ui.getDocumentsMatchingQuery(e,t,ko.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class JA{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new ii(Xt),this.Yi=new es(a=>Bd(a),cu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kf(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function eM(n,e,t,i){return new JA(n,e,t,i)}function OC(n,e){return pw.apply(this,arguments)}function pw(){return pw=(0,Ee.Z)(function*(n,e){const t=st(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],f=[];let _=sn();for(const b of r){l.push(b.batchId);for(const C of b.mutations)_=_.add(C.key)}for(const b of a){f.push(b.batchId);for(const C of b.mutations)_=_.add(C.key)}return t.localDocuments.getDocuments(i,_).next(b=>({er:b,removedBatchIds:l,addedBatchIds:f}))})})}),pw.apply(this,arguments)}function gw(n){const e=st(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function PC(n,e,t){let i=sn(),r=sn();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let l=Oo();return t.forEach((f,_)=>{const b=a.get(f);_.isFoundDocument()!==b.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(Dt.min())?(e.removeEntry(f,_.readTime),l=l.insert(f,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),l=l.insert(f,_)):$e("LocalStore","Ignoring outdated watch update for ",f,". Current version:",b.version," Watch version:",_.version)}),{nr:l,sr:r}})}function FC(n,e){const t=st(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function eh(n,e){const t=st(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(a=>a?(r=a,ae.resolve(r)):t.Bs.allocateTargetId(i).next(l=>(r=new fl(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function Qf(n,e,t){return _w.apply(this,arguments)}function _w(){return _w=(0,Ee.Z)(function*(n,e,t){const i=st(n),r=i.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!ia(l))throw l;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),_w.apply(this,arguments)}function Xp(n,e,t){const i=st(n);let r=Dt.min(),a=sn();return i.persistence.runTransaction("Execute query","readonly",l=>function(f,_,b){const C=st(f),M=C.Yi.get(b);return void 0!==M?ae.resolve(C.Ji.get(M)):C.Bs.getTargetData(_,b)}(i,l,so(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(l,f.targetId).next(_=>{a=_})}).next(()=>i.Hi.getDocumentsMatchingQuery(l,e,t?r:Dt.min(),t?a:sn())).next(f=>(vw(i,S0(e),f),{documents:f,ir:a})))}function LC(n,e){const t=st(n),i=st(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.le(a,e).next(l=>l?l.target:null))}function yw(n,e){const t=st(n),i=t.Xi.get(e)||Dt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,EI(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(vw(t,e,r),r))}function vw(n,e,t){let i=n.Xi.get(e)||Dt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Xi.set(e,i)}function Hy(){return Hy=(0,Ee.Z)(function*(n,e,t,i){const r=st(n);let a=sn(),l=Oo();for(const b of t){const C=e.rr(b.metadata.name);b.document&&(a=a.add(C));const M=e.ur(b);M.setReadTime(e.cr(b.metadata.readTime)),l=l.insert(C,M)}const f=r.Zi.newChangeBuffer({trackRemovals:!0}),_=yield eh(r,(b=i,so(jd(yn.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>PC(b,f,l).next(C=>(f.apply(b),C)).next(C=>r.Bs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.Bs.addMatchingKeys(b,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,C.nr,C.sr)).next(()=>C.nr)))}),Hy.apply(this,arguments)}function nM(n,e){return bw.apply(this,arguments)}function bw(){return bw=(0,Ee.Z)(function*(n,e,t=sn()){const i=yield eh(n,so(vC(e.bundledQuery))),r=st(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const l=ki(e.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.qs.saveNamedQuery(a,e);const f=i.withResumeToken(Mi.EMPTY_BYTE_STRING,l);return r.Ji=r.Ji.insert(f.targetId,f),r.Bs.updateTargetData(a,f).next(()=>r.Bs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Bs.addMatchingKeys(a,t,i.targetId)).next(()=>r.qs.saveNamedQuery(a,e))})}),bw.apply(this,arguments)}function iM(n,e){return`firestore_clients_${n}_${e}`}function ww(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function BC(n,e){return`firestore_targets_${n}_${e}`}class Ew{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let a,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(a=new Fe(r.error.code,r.error.message))),l?new Ew(e,t,r.state,a):(bi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zy{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Fe(i.error.code,i.error.message))),a?new zy(e,i.state,r):(bi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=ZI();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=tA(i.activeTargetIds[l]),a=a.add(i.activeTargetIds[l]);return r?new xw(e,a):(bi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class UC{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new UC(t.clientId,t.onlineState):(bi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class jC{constructor(){this.activeTargetIds=ZI()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HC{constructor(e,t,i,r,a){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new ii(Xt),this.started=!1,this.yr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=iM(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new jC),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const a=e.getItem(iM(e.persistenceKey,r));if(a){const l=xw.ar(r,a);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(BC(this.persistenceKey,e));if(i){const r=zy.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(BC(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return $e("SharedClientState","READ",e,t),t}setItem(e,t){$e("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){$e("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if($e("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void bi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(a){let l=Jo.ct;if(null!=a)try{const f=JSON.parse(a);Ct("number"==typeof f),l=f}catch(f){bi("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(i.newValue);r!==Jo.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new Ew(this.currentUser,e,t,i),a=ww(this.persistenceKey,this.currentUser,e);this.setItem(a,r.hr())}Cr(e){const t=ww(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=BC(this.persistenceKey,e),a=new zy(e,t,i);this.setItem(r,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return xw.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return Ew.ar(new Ji(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return zy.ar(r,t)}br(e){return UC.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);$e("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),a=this.Sr(i),l=[],f=[];return a.forEach(_=>{r.has(_)||l.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Wr(l,f).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=ZI();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class rM{constructor(){this.Hr=new jC,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new jC,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vR{Yr(e){}shutdown(){}}class Iw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xf=null;function $y(){return null===Xf?Xf=268435456+Math.round(2147483648*Math.random()):Xf++,"0x"+Xf.toString(16)}const oM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gy{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Gr="WebChannelConnection";class bR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,a){const l=$y(),f=this.To(e,t);$e("RestConnection",`Sending RPC '${e}' ${l}:`,f,i);const _={};return this.Eo(_,r,a),this.Ao(e,f,_,i).then(b=>($e("RestConnection",`Received RPC '${e}' ${l}: `,b),b),b=>{throw Rs("RestConnection",`RPC '${e}' ${l} failed with error: `,b,"url: ",f,"request:",i),b})}vo(e,t,i,r,a,l){return this.Io(e,t,i,r,a)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+ol,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}To(e,t){return`${this.mo}/v1/${t}:${oM[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const a=$y();return new Promise((l,f)=>{const _=new KT;_.setWithCredentials(!0),_.listenOnce(hI.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Ef.NO_ERROR:const C=_.getResponseJson();$e(Gr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(C)),l(C);break;case Ef.TIMEOUT:$e(Gr,`RPC '${e}' ${a} timed out`),f(new Fe(he.DEADLINE_EXCEEDED,"Request time out"));break;case Ef.HTTP_ERROR:const M=_.getStatus();if($e(Gr,`RPC '${e}' ${a} failed with status:`,M,"response text:",_.getResponseText()),M>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const G=B?.error;if(G&&G.status&&G.message){const Y=function(ie){const fe=ie.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(fe)>=0?fe:he.UNKNOWN}(G.status);f(new Fe(Y,G.message))}else f(new Fe(he.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new Fe(he.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{$e(Gr,`RPC '${e}' ${a} completed.`)}});const b=JSON.stringify(r);$e(Gr,`RPC '${e}' ${a} sending request:`,r),_.send(t,"POST",b,i,15)})}Ro(e,t,i){const r=$y(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=yp(),f=e0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(_.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(_.xmlHttpFactory=new ZT({})),this.Eo(_.initMessageHeaders,t,i),_.encodeInitMessageHeaders=!0;const C=a.join("");$e(Gr,`Creating RPC '${e}' stream ${r}: ${C}`,_);const M=l.createWebChannel(C,_);let B=!1,G=!1;const Y=new Gy({ro:fe=>{G?$e(Gr,`Not sending because RPC '${e}' stream ${r} is closed:`,fe):(B||($e(Gr,`Opening RPC '${e}' stream ${r} transport.`),M.open(),B=!0),$e(Gr,`RPC '${e}' stream ${r} sending:`,fe),M.send(fe))},oo:()=>M.close()}),ie=(fe,Ge,nt)=>{fe.listen(Ge,Ye=>{try{nt(Ye)}catch(Xe){setTimeout(()=>{throw Xe},0)}})};return ie(M,nu.EventType.OPEN,()=>{G||$e(Gr,`RPC '${e}' stream ${r} transport opened.`)}),ie(M,nu.EventType.CLOSE,()=>{G||(G=!0,$e(Gr,`RPC '${e}' stream ${r} transport closed`),Y.wo())}),ie(M,nu.EventType.ERROR,fe=>{G||(G=!0,Rs(Gr,`RPC '${e}' stream ${r} transport errored:`,fe),Y.wo(new Fe(he.UNAVAILABLE,"The operation could not be completed")))}),ie(M,nu.EventType.MESSAGE,fe=>{var Ge;if(!G){const nt=fe.data[0];Ct(!!nt);const Xe=nt.error||(null===(Ge=nt[0])||void 0===Ge?void 0:Ge.error);if(Xe){$e(Gr,`RPC '${e}' stream ${r} received error:`,Xe);const Ot=Xe.status;let Lt=function(Ni){const Vo=tr[Ni];if(void 0!==Vo)return tC(Vo)}(Ot),gn=Xe.message;void 0===Lt&&(Lt=he.INTERNAL,gn="Unknown error status: "+Ot+" with message "+Xe.message),G=!0,Y.wo(new Fe(Lt,gn)),M.close()}else $e(Gr,`RPC '${e}' stream ${r} received:`,nt),Y._o(nt)}}),ie(f,vp.STAT_EVENT,fe=>{fe.stat===t0.PROXY?$e(Gr,`RPC '${e}' stream ${r} detected buffering proxy`):fe.stat===t0.NOPROXY&&$e(Gr,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{Y.fo()},0),Y}}function sM(){return typeof window<"u"?window:null}function Wy(){return typeof document<"u"?document:null}function Jf(n){return new MA(n,!0)}class Cw{constructor(e,t,i=1e3,r=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&$e("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class zC{constructor(e,t,i,r,a,l,f,_){this.ii=e,this.$o=i,this.Oo=r,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Cw(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ee.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ee.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,Ee.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(bi(t.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===he.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new Fe(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,Ee.Z)(function*(){e.state=0,e.start()}))}tu(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aM extends zC{constructor(e,t,i,r,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function OA(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:mt(),r=e.targetChange.targetIds||[],a=function(_,b){return _.useProto3Json?(Ct(void 0===b||"string"==typeof b),Mi.fromBase64String(b||"")):(Ct(void 0===b||b instanceof Uint8Array),Mi.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(_){const b=void 0===_.code?he.UNKNOWN:tC(_.code);return new Fe(b,_.message||"")}(l);t=new Cy(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Ps(n,i.document.name),a=ki(i.document.updateTime),l=i.document.createTime?ki(i.document.createTime):Dt.min(),f=new Or({mapValue:{fields:i.document.fields}}),_=li.newFoundDocument(r,a,l,f);t=new Lf(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const i=e.documentDelete,r=Ps(n,i.document),a=i.readTime?ki(i.readTime):Dt.min(),l=li.newNoDocument(r,a);t=new Lf([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const i=e.documentRemove,r=Ps(n,i.document);t=new Lf([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return mt();{const i=e.filter,{count:r=0,unchangedNames:a}=i,l=new SA(r,a);t=new H0(i.targetId,l)}}var _;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Dt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Dt.min():a.readTime?ki(a.readTime):Dt.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Uf(this.serializer),t.addTarget=function(r,a){let l;const f=a.target;if(l=Ud(f)?{documents:fC(r,f)}:{query:G0(r,f)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=Sy(r,a.resumeToken);const _=aC(r,a.expectedCount);null!==_&&(l.expectedCount=_)}else if(a.snapshotVersion.compareTo(Dt.min())>0){l.readTime=lu(r,a.snapshotVersion.toTimestamp());const _=aC(r,a.expectedCount);null!==_&&(l.expectedCount=_)}return l}(this.serializer,e);const i=function PA(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Uf(this.serializer),t.removeTarget=e,this.Wo(t)}}class wR extends zC{constructor(e,t,i,r,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function hC(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(i,r){let a=ki(i.updateTime?i.updateTime:r);return a.isEqual(Dt.min())&&(a=ki(r)),new Vp(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ki(e.commitTime);return this.listener.cu(i,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Uf(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>jf(this.serializer,i))};this.Wo(t)}}class cM extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Fe(he.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Io(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Fe(he.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,t,i,a,l,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Fe(he.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class ER{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(bi(t),this.mu=!1):$e("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class la{constructor(e,t,i,r,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{i.enqueueAndForget((0,Ee.Z)(function*(){var _;gl(l)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ee.Z)(function*(b){const C=st(b);C.vu.add(4),yield Jp(C),C.bu.set("Unknown"),C.vu.delete(4),yield em(C)}),function(b){return _.apply(this,arguments)})(l))}))}),this.bu=new ER(i,r)}}function em(n){return Dw.apply(this,arguments)}function Dw(){return Dw=(0,Ee.Z)(function*(n){if(gl(n))for(const e of n.Ru)yield e(!0)}),Dw.apply(this,arguments)}function Jp(n){return Pr.apply(this,arguments)}function Pr(){return Pr=(0,Ee.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Pr.apply(this,arguments)}function Zy(n,e){const t=st(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Ky(t)?eg(t):ih(t).Ko()&&Sw(t,e))}function th(n,e){const t=st(n),i=ih(t);t.Au.delete(e),i.Ko()&&GC(t,e),0===t.Au.size&&(i.Ko()?i.jo():gl(t)&&t.bu.set("Unknown"))}function Sw(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Dt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ih(n).su(e)}function GC(n,e){n.Vu.qt(e),ih(n).iu(e)}function eg(n){n.Vu=new AA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),ih(n).start(),n.bu.gu()}function Ky(n){return gl(n)&&!ih(n).Uo()&&n.Au.size>0}function gl(n){return 0===st(n).vu.size}function WC(n){n.Vu=void 0}function qC(n){return Yy.apply(this,arguments)}function Yy(){return Yy=(0,Ee.Z)(function*(n){n.Au.forEach((e,t)=>{Sw(n,e)})}),Yy.apply(this,arguments)}function ZC(n,e){return Qy.apply(this,arguments)}function Qy(){return Qy=(0,Ee.Z)(function*(n,e){WC(n),Ky(n)?(n.bu.Iu(e),eg(n)):n.bu.set("Unknown")}),Qy.apply(this,arguments)}function lM(n,e,t){return Xy.apply(this,arguments)}function Xy(){return Xy=(0,Ee.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof Cy&&2===e.state&&e.cause)try{yield(i=(0,Ee.Z)(function*(r,a){const l=a.cause;for(const f of a.targetIds)r.Au.has(f)&&(yield r.remoteSyncer.rejectListen(f,l),r.Au.delete(f),r.Vu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Jy(n,i)}else if(e instanceof Lf?n.Vu.Ht(e):e instanceof H0?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Dt.min()))try{const i=yield gw(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const l=r.Vu.ce(a);return l.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=r.Au.get(_);b&&r.Au.set(_,b.withResumeToken(f.resumeToken,a))}}),l.targetMismatches.forEach((f,_)=>{const b=r.Au.get(f);if(!b)return;r.Au.set(f,b.withResumeToken(Mi.EMPTY_BYTE_STRING,b.snapshotVersion)),GC(r,f);const C=new fl(b.target,f,_,b.sequenceNumber);Sw(r,C)}),r.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(i){$e("RemoteStore","Failed to raise snapshot:",i),yield Jy(n,i)}var i}),Xy.apply(this,arguments)}function Jy(n,e,t){return tg.apply(this,arguments)}function tg(){return tg=(0,Ee.Z)(function*(n,e,t){if(!ia(e))throw e;n.vu.add(1),yield Jp(n),n.bu.set("Offline"),t||(t=()=>gw(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield em(n)}))}),tg.apply(this,arguments)}function _l(n,e){return e().catch(t=>Jy(n,t,e))}function nh(n){return ng.apply(this,arguments)}function ng(){return ng=(0,Ee.Z)(function*(n){const e=st(n),t=pu(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Tw(e);)try{const r=yield FC(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,uM(e,r)}catch(r){yield Jy(e,r)}dM(e)&&Aw(e)}),ng.apply(this,arguments)}function Tw(n){return gl(n)&&n.Eu.length<10}function uM(n,e){n.Eu.push(e);const t=pu(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function dM(n){return gl(n)&&!pu(n).Uo()&&n.Eu.length>0}function Aw(n){pu(n).start()}function hM(n){return Mw.apply(this,arguments)}function Mw(){return Mw=(0,Ee.Z)(function*(n){pu(n).hu()}),Mw.apply(this,arguments)}function fM(n){return kw.apply(this,arguments)}function kw(){return kw=(0,Ee.Z)(function*(n){const e=pu(n);for(const t of n.Eu)e.uu(t.mutations)}),kw.apply(this,arguments)}function KC(n,e,t){return YC.apply(this,arguments)}function YC(){return YC=(0,Ee.Z)(function*(n,e,t){const i=n.Eu.shift(),r=Iy.from(i,e,t);yield _l(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield nh(n)}),YC.apply(this,arguments)}function QC(n,e){return Rw.apply(this,arguments)}function Rw(){return Rw=(0,Ee.Z)(function*(n,e){var t;e&&pu(n).ou&&(yield(t=(0,Ee.Z)(function*(i,r){if(eC(a=r.code)&&a!==he.ABORTED){const l=i.Eu.shift();pu(i).Qo(),yield _l(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield nh(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),dM(n)&&Aw(n)}),Rw.apply(this,arguments)}function Ow(n,e){return XC.apply(this,arguments)}function XC(){return XC=(0,Ee.Z)(function*(n,e){const t=st(n);t.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const i=gl(t);t.vu.add(3),yield Jp(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield em(t)}),XC.apply(this,arguments)}function ig(n,e){return ev.apply(this,arguments)}function ev(){return ev=(0,Ee.Z)(function*(n,e){const t=st(n);e?(t.vu.delete(2),yield em(t)):e||(t.vu.add(2),yield Jp(t),t.bu.set("Unknown"))}),ev.apply(this,arguments)}function ih(n){return n.Su||(n.Su=function(e,t,i){const r=st(e);return r.fu(),new aM(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:qC.bind(null,n),ao:ZC.bind(null,n),nu:lM.bind(null,n)}),n.Ru.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Su.Qo(),Ky(n)?eg(n):n.bu.set("Unknown")):(yield n.Su.stop(),WC(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function pu(n){return n.Du||(n.Du=function(e,t,i){const r=st(e);return r.fu(),new wR(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:hM.bind(null,n),ao:QC.bind(null,n),au:fM.bind(null,n),cu:KC.bind(null,n)}),n.Ru.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Du.Qo(),yield nh(n)):(yield n.Du.stop(),n.Eu.length>0&&($e("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class tv{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,i,r,a){const l=Date.now()+i,f=new tv(e,t,l,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rh(n,e){if(bi("AsyncQueue",`${e}: ${n}`),ia(n))return new Fe(he.UNAVAILABLE,`${e}: ${n}`);throw n}class ua{constructor(e){this.comparator=e?(t,i)=>e(t,i)||it.comparator(t.key,i.key):(t,i)=>it.comparator(t.key,i.key),this.keyedMap=Np(),this.sortedSet=new ii(this.comparator)}static emptySet(e){return new ua(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ua)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new ua;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class rg{constructor(){this.Cu=new ii(it.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):mt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class oh{constructor(e,t,i,r,a,l,f,_,b){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(e,t,i,r,a){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new oh(e,t,ua.emptySet(t),l,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class JC{constructor(){this.Nu=void 0,this.listeners=[]}}class mM{constructor(){this.queries=new es(e=>GI(e),Rp),this.onlineState="Unknown",this.ku=new Set}}function Nw(n,e){return eD.apply(this,arguments)}function eD(){return eD=(0,Ee.Z)(function*(n,e){const t=st(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new JC),r)try{a.Nu=yield t.onListen(i)}catch(l){const f=rh(l,`Initialization of query '${Rf(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&tD(t)}),eD.apply(this,arguments)}function nv(n,e){return Pw.apply(this,arguments)}function Pw(){return Pw=(0,Ee.Z)(function*(n,e){const t=st(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),Pw.apply(this,arguments)}function pM(n,e){const t=st(n);let i=!1;for(const r of e){const l=t.queries.get(r.query);if(l){for(const f of l.listeners)f.$u(r)&&(i=!0);l.Nu=r}}i&&tD(t)}function xR(n,e,t){const i=st(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function tD(n){n.ku.forEach(e=>{e.next()})}class nD{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new oh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=oh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class iD{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class rD{constructor(e){this.serializer=e}rr(e){return Ps(this.serializer,e)}ur(e){return e.metadata.exists?uC(this.serializer,e.document,!1):li.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return ki(e)}}class gM{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=oD(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=yn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new rD(this.serializer);for(const r of e)if(r.metadata.queries){const a=i.rr(r.metadata.name);for(const l of r.metadata.queries){const f=(t.get(l)||sn()).add(a);t.set(l,f)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function VC(n,e,t,i){return Hy.apply(this,arguments)}(e.localStore,new rD(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield nM(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function oD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _M{constructor(e){this.key=e}}class yM{constructor(e){this.key=e}}class vM{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=sn(),this.mutatedKeys=sn(),this.tc=T0(e),this.ec=new ua(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new rg,r=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,l=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,b="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((C,M)=>{const B=r.get(C),G=Of(this.query,M)?M:null,Y=!!B&&this.mutatedKeys.has(B.key),ie=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let fe=!1;B&&G?B.data.isEqual(G.data)?Y!==ie&&(i.track({type:3,doc:G}),fe=!0):this.rc(B,G)||(i.track({type:2,doc:G}),fe=!0,(_&&this.tc(G,_)>0||b&&this.tc(G,b)<0)&&(f=!0)):!B&&G?(i.track({type:0,doc:G}),fe=!0):B&&!G&&(i.track({type:1,doc:B}),fe=!0,(_||b)&&(f=!0)),fe&&(G?(l=l.add(G),a=ie?a.add(C):a.delete(C)):(l=l.delete(C),a=a.delete(C)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const C="F"===this.query.limitType?l.last():l.first();l=l.delete(C.key),a=a.delete(C.key),i.track({type:1,doc:C})}return{ec:l,ic:i,zi:f,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((b,C)=>function(M,B){const G=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return G(M)-G(B)}(b.type,C.type)||this.tc(b.doc,C.doc)),this.oc(i);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,_=f!==this.Xu;return this.Xu=f,0!==a.length||_?{snapshot:new oh(this.query,e.ec,r,a,e.mutatedKeys,0===f,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new rg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=sn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new yM(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new _M(i))}),t}hc(e){this.Yu=e.ir,this.Zu=sn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return oh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class IR{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class CR{constructor(e){this.key=e,this.fc=!1}}class bM{constructor(e,t,i,r,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new es(f=>GI(f),Rp),this._c=new Map,this.mc=new Set,this.gc=new ii(it.comparator),this.yc=new Map,this.Ic=new dw,this.Tc={},this.Ec=new Map,this.Ac=Yd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function iv(n,e){return Fw.apply(this,arguments)}function Fw(){return Fw=(0,Ee.Z)(function*(n,e){const t=Zw(n);let i,r;const a=t.wc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.lc();else{const l=yield eh(t.localStore,so(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield Lw(t,e,i,"current"===f,l.resumeToken),t.isPrimaryClient&&Zy(t.remoteStore,l)}return r}),Fw.apply(this,arguments)}function Lw(n,e,t,i,r){return rv.apply(this,arguments)}function rv(){return rv=(0,Ee.Z)(function*(n,e,t,i,r){n.Rc=(M,B,G)=>{return(Y=(0,Ee.Z)(function*(ie,fe,Ge,nt){let Ye=fe.view.sc(Ge);Ye.zi&&(Ye=yield Xp(ie.localStore,fe.query,!1).then(({documents:Lt})=>fe.view.sc(Lt,Ye)));const Xe=nt&&nt.targetChanges.get(fe.targetId),Ot=fe.view.applyChanges(Ye,ie.isPrimaryClient,Xe);return zw(ie,fe.targetId,Ot.cc),Ot.snapshot}),function(ie,fe,Ge,nt){return Y.apply(this,arguments)})(n,M,B,G);var Y};const a=yield Xp(n.localStore,e,!0),l=new vM(e,a.ir),f=l.sc(a.documents),_=qd.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),b=l.applyChanges(f,n.isPrimaryClient,_);zw(n,t,b.cc);const C=new IR(e,t,l);return n.wc.set(e,C),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),b.snapshot}),rv.apply(this,arguments)}function sh(n,e){return ov.apply(this,arguments)}function ov(){return ov=(0,Ee.Z)(function*(n,e){const t=st(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(a=>!Rp(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Qf(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),th(t.remoteStore,i.targetId),ah(t,i.targetId)}).catch(sl))):(ah(t,i.targetId),yield Qf(t.localStore,i.targetId,!0))}),ov.apply(this,arguments)}function og(){return og=(0,Ee.Z)(function*(n,e,t){const i=Kw(n);try{const r=yield function(a,l){const f=st(a),_=ai.now(),b=l.reduce((B,G)=>B.add(G.key),sn());let C,M;return f.persistence.runTransaction("Locally write mutations","readwrite",B=>{let G=Oo(),Y=sn();return f.Zi.getEntries(B,b).next(ie=>{G=ie,G.forEach((fe,Ge)=>{Ge.isValidDocument()||(Y=Y.add(fe))})}).next(()=>f.localDocuments.getOverlayedDocuments(B,G)).next(ie=>{C=ie;const fe=[];for(const Ge of l){const nt=CA(Ge,C.get(Ge.key).overlayedDocument);null!=nt&&fe.push(new oc(Ge.key,nt,UI(nt.value.mapValue),mi.exists(!0)))}return f.mutationQueue.addMutationBatch(B,_,fe,l)}).next(ie=>{M=ie;const fe=ie.applyToLocalDocumentSet(C,Y);return f.documentOverlayCache.saveOverlays(B,ie.batchId,fe)})}).then(()=>({batchId:M.batchId,changes:A0(C)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,f){let _=a.Tc[a.currentUser.toKey()];_||(_=new ii(Xt)),_=_.insert(l,f),a.Tc[a.currentUser.toKey()]=_}(i,r.batchId,t),yield da(i,r.changes),yield nh(i.remoteStore)}catch(r){const a=rh(r,"Failed to persist write");t.reject(a)}}),og.apply(this,arguments)}function sD(n,e){return sg.apply(this,arguments)}function sg(){return sg=(0,Ee.Z)(function*(n,e){const t=st(n);try{const i=yield function NC(n,e){const t=st(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const f=[];e.targetChanges.forEach((C,M)=>{const B=r.get(M);if(!B)return;f.push(t.Bs.removeMatchingKeys(a,C.removedDocuments,M).next(()=>t.Bs.addMatchingKeys(a,C.addedDocuments,M)));let G=B.withSequenceNumber(a.currentSequenceNumber);var Y,ie,fe;null!==e.targetMismatches.get(M)?G=G.withResumeToken(Mi.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):C.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(C.resumeToken,i)),r=r.insert(M,G),ie=G,fe=C,(0===(Y=B).resumeToken.approximateByteSize()||ie.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=3e8||fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(a,G))});let _=Oo(),b=sn();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,C))}),f.push(PC(a,l,e.documentUpdates).next(C=>{_=C.nr,b=C.sr})),!i.isEqual(Dt.min())){const C=t.Bs.getLastRemoteSnapshotVersion(a).next(M=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(C)}return ae.waitFor(f).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,b)).next(()=>_)}).then(a=>(t.Ji=r,a))}(t.localStore,e);e.targetChanges.forEach((r,a)=>{const l=t.yc.get(a);l&&(Ct(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.fc=!0:r.modifiedDocuments.size>0?Ct(l.fc):r.removedDocuments.size>0&&(Ct(l.fc),l.fc=!1))}),yield da(t,i,e)}catch(i){yield sl(i)}}),sg.apply(this,arguments)}function sv(n,e,t){const i=st(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((a,l)=>{const f=l.view.Mu(e);f.snapshot&&r.push(f.snapshot)}),function(a,l){const f=st(a);f.onlineState=l;let _=!1;f.queries.forEach((b,C)=>{for(const M of C.listeners)M.Mu(l)&&(_=!0)}),_&&tD(f)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function av(n,e,t){return aD.apply(this,arguments)}function aD(){return aD=(0,Ee.Z)(function*(n,e,t){const i=st(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),a=r&&r.key;if(a){let l=new ii(it.comparator);l=l.insert(a,li.newNoDocument(a,Dt.min()));const f=sn().add(a),_=new zp(Dt.min(),new Map,new ii(Xt),l,f);yield sD(i,_),i.gc=i.gc.remove(a),i.yc.delete(e),lv(i)}else yield Qf(i.localStore,e,!1).then(()=>ah(i,e,t)).catch(sl)}),aD.apply(this,arguments)}function DR(n,e){return cD.apply(this,arguments)}function cD(){return cD=(0,Ee.Z)(function*(n,e){const t=st(n),i=e.batch.batchId;try{const r=yield function tM(n,e){const t=st(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,_,b){const C=_.batch,M=C.keys();let B=ae.resolve();return M.forEach(G=>{B=B.next(()=>b.getEntry(f,G)).next(Y=>{const ie=_.docVersions.get(G);Ct(null!==ie),Y.version.compareTo(ie)<0&&(C.applyToRemoteDocument(Y,_),Y.isValidDocument()&&(Y.setReadTime(_.commitVersion),b.addEntry(Y)))})}),B.next(()=>l.mutationQueue.removeMutationBatch(f,C))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let f=sn();for(let _=0;_<l.mutationResults.length;++_)l.mutationResults[_].transformResults.length>0&&(f=f.add(l.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);cv(t,i,null),jw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield da(t,r)}catch(r){yield sl(r)}}),cD.apply(this,arguments)}function lD(n,e,t){return Bw.apply(this,arguments)}function Bw(){return Bw=(0,Ee.Z)(function*(n,e,t){const i=st(n);try{const r=yield function(a,l){const f=st(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.mutationQueue.lookupMutationBatch(_,l).next(C=>(Ct(null!==C),b=C.keys(),f.mutationQueue.removeMutationBatch(_,C))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,b,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>f.localDocuments.getDocuments(_,b))})}(i.localStore,e);cv(i,e,t),jw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield da(i,r)}catch(r){yield sl(r)}}),Bw.apply(this,arguments)}function Uw(){return Uw=(0,Ee.Z)(function*(n,e){const t=st(n);gl(t.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const l=st(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=rh(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),Uw.apply(this,arguments)}function jw(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function cv(n,e,t){const i=st(n);let r=i.Tc[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function ah(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||Hw(n,i)})}function Hw(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(th(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),lv(n))}function zw(n,e,t){for(const i of t)i instanceof _M?(n.Ic.addReference(i.key,e),EM(n,i)):i instanceof yM?($e("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||Hw(n,i.key)):mt()}function EM(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||($e("SyncEngine","New document in limbo: "+t),n.mc.add(i),lv(n))}function lv(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new it(yn.fromString(e)),i=n.Ac.next();n.yc.set(i,new CR(t)),n.gc=n.gc.insert(t,i),Zy(n.remoteStore,new fl(so(jd(t.path)),i,"TargetPurposeLimboResolution",Jo.ct))}}function da(n,e,t){return uD.apply(this,arguments)}function uD(){return uD=(0,Ee.Z)(function*(n,e,t){const i=st(n),r=[],a=[],l=[];var f;i.wc.isEmpty()||(i.wc.forEach((f,_)=>{l.push(i.Rc(_,e,t).then(b=>{if((b||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b?.fromCache?"not-current":"current"),b){r.push(b);const C=Qp.Li(_.targetId,b);a.push(C)}}))}),yield Promise.all(l),i.dc.nu(r),yield(f=(0,Ee.Z)(function*(_,b){const C=st(_);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>ae.forEach(b,B=>ae.forEach(B.Fi,G=>C.persistence.referenceDelegate.addReference(M,B.targetId,G)).next(()=>ae.forEach(B.Bi,G=>C.persistence.referenceDelegate.removeReference(M,B.targetId,G)))))}catch(M){if(!ia(M))throw M;$e("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const B=M.targetId;if(!M.fromCache){const G=C.Ji.get(B),ie=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);C.Ji=C.Ji.insert(B,ie)}}}),function(_,b){return f.apply(this,arguments)})(i.localStore,a))}),uD.apply(this,arguments)}function dD(n,e){return ag.apply(this,arguments)}function ag(){return ag=(0,Ee.Z)(function*(n,e){const t=st(n);if(!t.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const i=yield OC(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Fe(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield da(t,i.er)}var r}),ag.apply(this,arguments)}function xM(n,e){const t=st(n),i=t.yc.get(e);if(i&&i.fc)return sn().add(i.key);{let r=sn();const a=t._c.get(e);if(!a)return r;for(const l of a){const f=t.wc.get(l);r=r.unionWith(f.view.nc)}return r}}function IM(n,e){return hD.apply(this,arguments)}function hD(){return hD=(0,Ee.Z)(function*(n,e){const t=st(n),i=yield Xp(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&zw(t,e.targetId,r.cc),r}),hD.apply(this,arguments)}function SR(n,e){return $w.apply(this,arguments)}function $w(){return $w=(0,Ee.Z)(function*(n,e){const t=st(n);return yw(t.localStore,e).then(i=>da(t,i))}),$w.apply(this,arguments)}function CM(n,e,t,i){return Gw.apply(this,arguments)}function Gw(){return Gw=(0,Ee.Z)(function*(n,e,t,i){const r=st(n),a=yield function(l,f){const _=st(l),b=st(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",C=>b.Sn(C,f).next(M=>M?_.localDocuments.getDocuments(C,M):ae.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield nh(r.remoteStore):"acknowledged"===t||"rejected"===t?(cv(r,e,i||null),jw(r,e),f=e,st(st(r.localStore).mutationQueue).Cn(f)):mt(),yield da(r,a)):$e("SyncEngine","Cannot apply mutation batch with id: "+e)}),Gw.apply(this,arguments)}function uv(){return uv=(0,Ee.Z)(function*(n,e){const t=st(n);if(Zw(t),Kw(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield Ww(t,i.toArray());t.vc=!0,yield ig(t.remoteStore,!0);for(const a of r)Zy(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(ah(t,l),Qf(t.localStore,l,!0))),th(t.remoteStore,l)}),yield r,yield Ww(t,i),function(a){const l=st(a);l.yc.forEach((f,_)=>{th(l.remoteStore,_)}),l.Ic.Ts(),l.yc=new Map,l.gc=new ii(it.comparator)}(t),t.vc=!1,yield ig(t.remoteStore,!1)}}),uv.apply(this,arguments)}function Ww(n,e,t){return fD.apply(this,arguments)}function fD(){return fD=(0,Ee.Z)(function*(n,e,t){const i=st(n),r=[],a=[];for(const l of e){let f;const _=i._c.get(l);if(_&&0!==_.length){f=yield eh(i.localStore,so(_[0]));for(const b of _){const C=i.wc.get(b),M=yield IM(i,C);M.snapshot&&a.push(M.snapshot)}}else{const b=yield LC(i.localStore,l);f=yield eh(i.localStore,b),yield Lw(i,mD(b),l,!1,f.resumeToken)}r.push(f)}return i.dc.nu(a),r}),fD.apply(this,arguments)}function mD(n){return $I(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function qw(n){const e=st(n);return st(st(e.localStore).persistence).$i()}function pD(n,e,t,i){return dv.apply(this,arguments)}function dv(){return dv=(0,Ee.Z)(function*(n,e,t,i){const r=st(n);if(r.vc)return void $e("SyncEngine","Ignoring unexpected query state notification.");const a=r._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=yield yw(r.localStore,S0(a[0])),f=zp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Mi.EMPTY_BYTE_STRING);yield da(r,l,f);break}case"rejected":yield Qf(r.localStore,e,!0),ah(r,e,i);break;default:mt()}}),dv.apply(this,arguments)}function SM(n,e,t){return cg.apply(this,arguments)}function cg(){return cg=(0,Ee.Z)(function*(n,e,t){const i=Zw(n);if(i.vc){for(const r of e){if(i._c.has(r)){$e("SyncEngine","Adding an already active target "+r);continue}const a=yield LC(i.localStore,r),l=yield eh(i.localStore,a);yield Lw(i,mD(a),l.targetId,!1,l.resumeToken),Zy(i.remoteStore,l)}for(const r of t)i._c.has(r)&&(yield Qf(i.localStore,r,!1).then(()=>{th(i.remoteStore,r),ah(i,r)}).catch(sl))}}),cg.apply(this,arguments)}function Zw(n){const e=st(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=sD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=av.bind(null,e),e.dc.nu=pM.bind(null,e.eventManager),e.dc.Pc=xR.bind(null,e.eventManager),e}function Kw(n){const e=st(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lD.bind(null,e),e}class tm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.serializer=Jf(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return eM(this.persistence,new XA,e.initialUser,this.serializer)}createPersistence(e){return new Vy(Jd.zs,this.serializer)}createSharedClientState(e){return new rM}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Yw extends tm{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield Kw(i.Vc.syncEngine),yield nh(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return eM(this.persistence,new XA,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new ow(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new c0(t,this.persistence);return new kd(e.asyncQueue,i)}createPersistence(e){const t=jy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?zr.withCacheSize(this.cacheSizeBytes):zr.DEFAULT;return new By(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,sM(),Wy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new rM}}class lg extends Yw{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof HC&&(i.sharedClientState.syncEngine={jr:CM.bind(null,r),zr:pD.bind(null,r),Wr:SM.bind(null,r),$i:qw.bind(null,r),Qr:SR.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var a=(0,Ee.Z)(function*(l){yield function DM(n,e){return uv.apply(this,arguments)}(i.Vc.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=sM();if(!HC.D(t))throw new Fe(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=jy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new HC(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class ug{initialize(e,t){var i=this;return(0,Ee.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>sv(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=dD.bind(null,i.syncEngine),yield ig(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new mM}createDatastore(e){const t=Jf(e.databaseInfo.databaseId),i=new bR(e.databaseInfo);return new cM(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>sv(this.syncEngine,f,0),l=Iw.D()?new Iw:new vR,new la(t,i,r,a,l);var t,i,r,a,l}createSyncEngine(e,t){return function(i,r,a,l,f,_,b){const C=new bM(i,r,a,l,f,_);return b&&(C.vc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const i=st(t);$e("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Jp(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function _D(n,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Qw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class AR{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new ur,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const a=yield e.$c(r);return new iD(JSON.parse(a),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Ee.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class TM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ee.Z)(function*(a,l){const f=st(a),_=Uf(f.serializer)+"/documents",b={documents:l.map(G=>Bf(f.serializer,G))},C=yield f.vo("BatchGetDocuments",_,b,l.length),M=new Map;C.forEach(G=>{const Y=function RA(n,e){return"found"in e?function(t,i){Ct(!!i.found);const r=Ps(t,i.found.name),a=ki(i.found.updateTime),l=i.found.createTime?ki(i.found.createTime):Dt.min(),f=new Or({mapValue:{fields:i.found.fields}});return li.newFoundDocument(r,a,l,f)}(n,e):"missing"in e?function(t,i){Ct(!!i.missing),Ct(!!i.readTime);const r=Ps(t,i.missing),a=ki(i.readTime);return li.newNoDocument(r,a)}(n,e):mt()}(f.serializer,G);M.set(Y.key.toString(),Y)});const B=[];return l.forEach(G=>{const Y=M.get(G.toString());Ct(!!Y),B.push(Y)}),B}),function(a,l){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ff(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=it.fromPath(r);e.mutations.push(new Up(a,e.precondition(a)))}),yield(i=(0,Ee.Z)(function*(r,a){const l=st(r),f=Uf(l.serializer)+"/documents",_={writes:a.map(b=>jf(l.serializer,b))};yield l.Io("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw mt();t=Dt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Fe(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Dt.min())?mi.exists(!1):mi.updateTime(t):mi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dt.min()))throw new Fe(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mi.updateTime(t)}return mi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class MR{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Bc=i.maxAttempts,this.qo=new Cw(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Ee.Z)(function*(){const t=new TM(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Uc(a)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!Rd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!eC(t)}return!1}}class kR{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ji.UNAUTHENTICATED,this.clientId=yI.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,Ee.Z)(function*(f){$e("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>($e("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=rh(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function Xw(n,e){return yD.apply(this,arguments)}function yD(){return yD=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ee.Z)(function*(a){i.isEqual(a)||(yield OC(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),yD.apply(this,arguments)}function vD(n,e){return Jw.apply(this,arguments)}function Jw(){return Jw=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield bD(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>Ow(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>Ow(e.remoteStore,a)),n._onlineComponents=e}),Jw.apply(this,arguments)}function AM(n){return"FirebaseError"===n.name?n.code===he.FAILED_PRECONDITION||n.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function bD(n){return wD.apply(this,arguments)}function wD(){return wD=(0,Ee.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){$e("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Xw(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!AM(t))throw t;Rs("Error using user provided cache. Falling back to memory cache: "+t),yield Xw(n,new tm)}}else $e("FirestoreClient","Using default OfflineComponentProvider"),yield Xw(n,new tm);return n._offlineComponents}),wD.apply(this,arguments)}function eE(n){return ED.apply(this,arguments)}function ED(){return ED=(0,Ee.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?($e("FirestoreClient","Using user provided OnlineComponentProvider"),yield vD(n,n._uninitializedComponentsProvider._online)):($e("FirestoreClient","Using default OnlineComponentProvider"),yield vD(n,new ug))),n._onlineComponents}),ED.apply(this,arguments)}function xD(n){return bD(n).then(e=>e.persistence)}function tE(n){return bD(n).then(e=>e.localStore)}function o(n){return eE(n).then(e=>e.remoteStore)}function s(n){return eE(n).then(e=>e.syncEngine)}function u(n){return h.apply(this,arguments)}function h(){return h=(0,Ee.Z)(function*(n){const e=yield eE(n),t=e.eventManager;return t.onListen=iv.bind(null,e.syncEngine),t.onUnlisten=sh.bind(null,e.syncEngine),t}),h.apply(this,arguments)}function I(n,e,t={}){const i=new ur;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,a,l,f,_){const b=new Qw({next:M=>{a.enqueueAndForget(()=>nv(r,C));const B=M.docs.has(l);!B&&M.fromCache?_.reject(new Fe(he.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&M.fromCache&&f&&"server"===f.source?_.reject(new Fe(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),C=new nD(jd(l.path),b,{includeMetadataChanges:!0,Ku:!0});return Nw(r,C)}(yield u(n),n.asyncQueue,e,t,i)})),i.promise}function R(n,e,t={}){const i=new ur;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,a,l,f,_){const b=new Qw({next:M=>{a.enqueueAndForget(()=>nv(r,C)),M.fromCache&&"server"===f.source?_.reject(new Fe(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),C=new nD(l,b,{includeMetadataChanges:!0,Ku:!0});return Nw(r,C)}(yield u(n),n.asyncQueue,e,t,i)})),i.promise}function He(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const at=new Map;function wt(n,e,t){if(!t)throw new Fe(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Me(n,e,t,i){if(!0===e&&!0===i)throw new Fe(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Zt(n){if(!it.isDocumentKey(n))throw new Fe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function un(n){if(it.isDocumentKey(n))throw new Fe(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dn(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":mt()}function Ut(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dn(n);throw new Fe(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function dg(n,e){if(e<=0)throw new Fe(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class ID{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Me("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=He(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Fe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Fe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Fe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hg{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ID({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ID(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new _I;switch(t.type){case"firstParty":return new cy(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Fe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=at.get(e);t&&($e("ComponentProvider","Removing Datastore"),at.delete(e),t.terminate())}(this),Promise.resolve()}}function RR(n,e,t,i={}){var r;const a=(n=Ut(n,hg))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==l&&Rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),i.mockUserToken){let f,_;if("string"==typeof i.mockUserToken)f=i.mockUserToken,_=Ji.MOCK_USER;else{f=(0,Rt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new Fe(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ji(b)}n._authCredentials=new n0(new gI(f,_))}}class Ei{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ei(this.firestore,e,this._key)}}class ao{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class gu extends ao{constructor(e,t,i){super(e,t,jd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ei(this.firestore,null,new it(e))}withConverter(e){return new gu(this.firestore,e,this._path)}}function OR(n,e,...t){if(n=(0,Rt.m9)(n),wt("collection","path",e),n instanceof hg){const i=yn.fromString(e,...t);return un(i),new gu(n,null,i)}{if(!(n instanceof Ei||n instanceof gu))throw new Fe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(yn.fromString(e,...t));return un(i),new gu(n.firestore,null,i)}}function CD(n,e,...t){if(n=(0,Rt.m9)(n),1===arguments.length&&(e=yI.A()),wt("doc","path",e),n instanceof hg){const i=yn.fromString(e,...t);return Zt(i),new Ei(n,null,new it(i))}{if(!(n instanceof Ei||n instanceof gu))throw new Fe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(yn.fromString(e,...t));return Zt(i),new Ei(n.firestore,n instanceof gu?n.converter:null,new it(i))}}function NR(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),(n instanceof Ei||n instanceof gu)&&(e instanceof Ei||e instanceof gu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function MM(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),n instanceof ao&&e instanceof ao&&n.firestore===e.firestore&&Rp(n._query,e._query)&&n.converter===e.converter}class w2{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Cw(this,"async_queue_retry"),this.Xc=()=>{const t=Wy();t&&$e("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Wy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Wy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ur;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ia(t))throw t;$e("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,bi("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=tv.createAndSchedule(this,e,t,i,a=>this.na(a));return this.zc.push(r),r}Zc(){this.Wc&&mt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function kM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class E2{constructor(){this._progressObserver={},this._taskCompletionResolver=new ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class xi extends hg{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new w2,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||PR(this),this._firestoreClient.terminate()}}function I2(n,e){const t="object"==typeof n?n:(0,Kl.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,Kl._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=(0,Rt.P0)("firestore");a&&RR(r,...a)}return r}function fr(n){return n._firestoreClient||PR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function PR(n){var e,t,i;const r=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new m0(n._databaseId,f,n._persistenceKey,(b=r).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,He(b.experimentalLongPollingOptions),b.useFetchStreams));var f,b;n._firestoreClient=new kR(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function FR(n,e,t){const i=new ur;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield Xw(n,t),yield vD(n,e),i.resolve()}catch(r){const a=r;if(!AM(a))throw a;Rs("Error enabling indexeddb cache. Falling back to memory cache: "+a),i.reject(a)}})).then(()=>i.promise)}function LR(n){if(n._initialized||n._terminated)throw new Fe(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _u{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _u(Mi.fromBase64String(e))}catch(t){throw new Fe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _u(Mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ch{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fg{constructor(e){this._methodName=e}}class DD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)}}const N2=/^__.*__$/;class P2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new oc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pf(e,this.data,t,this.fieldTransforms)}}class VR{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new oc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function BR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class SD{constructor(e,t,i,r,a,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new SD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return MD(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(BR(this.ca)&&N2.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class F2{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Jf(e)}ya(e,t,i,r=!1){return new SD({ca:e,methodName:t,ga:i,path:fi.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mg(n){const e=n._freezeSettings(),t=Jf(n._databaseId);return new F2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TD(n,e,t,i,r,a={}){const l=n.ya(a.merge||a.mergeFields?2:0,e,t,r);PM("Data must be an object, but it was:",l,i);const f=HR(i,l);let _,b;if(a.merge)_=new Ro(l.fieldMask),b=l.fieldTransforms;else if(a.mergeFields){const C=[];for(const M of a.mergeFields){const B=rE(e,M,t);if(!l.contains(B))throw new Fe(he.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);$R(C,B)||C.push(B)}_=new Ro(C),b=l.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,b=l.fieldTransforms;return new P2(new Or(f),_,b)}class iE extends fg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof iE}}function UR(n,e,t){return new SD({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class RM extends fg{_toFieldTransform(e){return new Lp(e.path,new rc)}isEqual(e){return e instanceof RM}}class L2 extends fg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=UR(this,e,!0),i=this.pa.map(a=>pg(a,t)),r=new Gd(i);return new Lp(e.path,r)}isEqual(e){return this===e}}class V2 extends fg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=UR(this,e,!0),i=this.pa.map(a=>pg(a,t)),r=new Wd(i);return new Lp(e.path,r)}isEqual(e){return this===e}}class B2 extends fg{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Fp(e.serializer,k0(e.serializer,this.Ia));return new Lp(e.path,t)}isEqual(e){return this===e}}function OM(n,e,t,i){const r=n.ya(1,e,t);PM("Data must be an object, but it was:",r,i);const a=[],l=Or.empty();ou(i,(_,b)=>{const C=AD(e,_,t);b=(0,Rt.m9)(b);const M=r.da(C);if(b instanceof iE)a.push(C);else{const B=pg(b,M);null!=B&&(a.push(C),l.set(C,B))}});const f=new Ro(a);return new VR(l,f,r.fieldTransforms)}function NM(n,e,t,i,r,a){const l=n.ya(1,e,t),f=[rE(e,i,t)],_=[r];if(a.length%2!=0)throw new Fe(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<a.length;B+=2)f.push(rE(e,a[B])),_.push(a[B+1]);const b=[],C=Or.empty();for(let B=f.length-1;B>=0;--B)if(!$R(b,f[B])){const G=f[B];let Y=_[B];Y=(0,Rt.m9)(Y);const ie=l.da(G);if(Y instanceof iE)b.push(G);else{const fe=pg(Y,ie);null!=fe&&(b.push(G),C.set(G,fe))}}const M=new Ro(b);return new VR(C,M,l.fieldTransforms)}function jR(n,e,t,i=!1){return pg(t,n.ya(i?4:3,e))}function pg(n,e){if(zR(n=(0,Rt.m9)(n)))return PM("Unsupported field value:",e,n),HR(n,e);if(n instanceof fg)return function(t,i){if(!BR(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const l of t){let f=pg(l,i.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,Rt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return k0(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=ai.fromDate(t);return{timestampValue:lu(i.serializer,r)}}if(t instanceof ai){const r=new ai(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:lu(i.serializer,r)}}if(t instanceof DD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof _u)return{bytesValue:Sy(i.serializer,t._byteString)};if(t instanceof Ei){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Ty(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${dn(t)}`)}(n,e)}function HR(n,e){const t={};return OI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ou(n,(i,r)=>{const a=pg(r,e.ha(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function zR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ai||n instanceof DD||n instanceof _u||n instanceof Ei||n instanceof fg)}function PM(n,e,t){if(!zR(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=dn(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function rE(n,e,t){if((e=(0,Rt.m9)(e))instanceof ch)return e._internalPath;if("string"==typeof e)return AD(n,e);throw MD("Field path arguments must be of type string or ",n,!1,void 0,t)}const U2=new RegExp("[~\\*/\\[\\]]");function AD(n,e,t){if(e.search(U2)>=0)throw MD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ch(...e.split("."))._internalPath}catch{throw MD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function MD(n,e,t,i,r){const a=i&&!i.isEmpty(),l=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||l)&&(_+=" (found",a&&(_+=` in field ${i}`),l&&(_+=` in document ${r}`),_+=")"),new Fe(he.INVALID_ARGUMENT,f+n+_)}function $R(n,e){return n.some(t=>t.isEqual(e))}class oE{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ei(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new j2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class j2 extends oE{data(){return super.data()}}function kD(n,e){return"string"==typeof e?AD(n,e):e instanceof ch?e._internalPath:e._delegate._internalPath}function GR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FM{}class sE extends FM{}function nm(n,e,...t){let i=[];e instanceof FM&&i.push(e),i=i.concat(t),function(r){const a=r.filter(f=>f instanceof hv).length,l=r.filter(f=>f instanceof aE).length;if(a>1||a>0&&l>0)throw new Fe(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class aE extends sE{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new aE(e,t,i)}_apply(e){const t=this._parse(e);return KR(e._query,t),new ao(e.firestore,e.converter,zd(e._query,t))}_parse(e){const t=mg(e.firestore);return function(r,a,l,f,_,b,C){let M;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Fe(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){ZR(C,b);const B=[];for(const G of C)B.push(qR(f,r,G));M={arrayValue:{values:B}}}else M=qR(f,r,C)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||ZR(C,b),M=jR(l,"where",C,"in"===b||"not-in"===b);return fn.create(_,b,M)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class hv extends FM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let a=i;const l=r.getFlattenedFilters();for(const f of l)KR(a,f),a=zd(a,f)}(e._query,t),new ao(e.firestore,e.converter,zd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class LM extends sE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new LM(e,t)}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Fe(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Fe(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Pd(r,a);return function(f,_){if(null===by(f)){const b=kp(f);null!==b&&YR(0,b,_.field)}}(i,l),l}(e._query,this._field,this._direction);return new ao(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new ic(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class RD extends sE{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new RD(e,t,i)}_apply(e){return new ao(e.firestore,e.converter,wy(e._query,this._limit,this._limitType))}}class OD extends sE{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new OD(e,t,i)}_apply(e){const t=WR(e,this.type,this._docOrFields,this._inclusive);return new ao(e.firestore,e.converter,(r=t,new ic((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class ND extends sE{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new ND(e,t,i)}_apply(e){const t=WR(e,this.type,this._docOrFields,this._inclusive);return new ao(e.firestore,e.converter,(r=t,new ic((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function WR(n,e,t,i){if(t[0]=(0,Rt.m9)(t[0]),t[0]instanceof oE)return function(r,a,l,f,_){if(!f)throw new Fe(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const b=[];for(const C of Hd(r))if(C.field.isKeyField())b.push(Nd(a,f.key));else{const M=f.data.field(C.field);if(py(M))throw new Fe(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const B=C.field.canonicalString();throw new Fe(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}b.push(M)}return new hl(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=mg(n.firestore);return function(a,l,f,_,b,C){const M=a.explicitOrderBy;if(b.length>M.length)throw new Fe(he.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let G=0;G<b.length;G++){const Y=b[G];if(M[G].field.isKeyField()){if("string"!=typeof Y)throw new Fe(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Y}`);if(!D0(a)&&-1!==Y.indexOf("/"))throw new Fe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Y}' contains a slash.`);const ie=a.path.child(yn.fromString(Y));if(!it.isDocumentKey(ie))throw new Fe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ie}' is not because it contains an odd number of segments.`);const fe=new it(ie);B.push(Nd(l,fe))}else{const ie=jR(f,_,Y);B.push(ie)}}return new hl(B,C)}(n._query,n.firestore._databaseId,r,e,t,i)}}function qR(n,e,t){if("string"==typeof(t=(0,Rt.m9)(t))){if(""===t)throw new Fe(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D0(e)&&-1!==t.indexOf("/"))throw new Fe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(yn.fromString(t));if(!it.isDocumentKey(i))throw new Fe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Nd(n,new it(i))}if(t instanceof Ei)return Nd(n,t._key);throw new Fe(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dn(t)}.`)}function ZR(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KR(n,e){if(e.isInequality()){const i=kp(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Fe(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=by(n);null!==a&&YR(0,r,a)}const t=function(i,r){for(const a of i)for(const l of a.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Fe(he.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function YR(n,e,t){if(!t.isEqual(e))throw new Fe(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class VM{convertValue(e,t="none"){switch(ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ou(e,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new DD(wi(e.latitude),wi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=gy(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Od(e));default:return null}}convertTimestamp(e){const t=al(e);return new ai(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=yn.fromString(e);Ct(gC(i));const r=new cl(i.get(1),i.get(3)),a=new it(i.popFirst(5));return r.isEqual(t)||bi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function PD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Y2 extends VM{constructor(e){super(),this.firestore=e}convertBytes(e){return new _u(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ei(this.firestore,null,t)}}class gg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lh extends oE{constructor(e,t,i,r,a,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(kD("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class cE extends lh{data(e={}){return super.data(e)}}class im{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new gg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new cE(this._firestore,this._userDataWriter,i.key,i,new gg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new cE(i._firestore,i._userDataWriter,l.doc.key,l.doc,new gg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const f=new cE(i._firestore,i._userDataWriter,l.doc.key,l.doc,new gg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==l.type&&(_=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),b=a.indexOf(l.doc.key)),{type:X2(l.type),doc:f,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function X2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function XR(n,e){return n instanceof lh&&e instanceof lh?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof im&&e instanceof im&&n._firestore===e._firestore&&MM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class rm extends VM{constructor(e){super(),this.firestore=e}convertBytes(e){return new _u(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ei(this.firestore,null,t)}}function JR(n,e,t){n=Ut(n,Ei);const i=Ut(n.firestore,xi),r=PD(n.converter,e,t);return fv(i,[TD(mg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,mi.none())])}function eO(n,e,t,...i){n=Ut(n,Ei);const r=Ut(n.firestore,xi),a=mg(r);let l;return l="string"==typeof(e=(0,Rt.m9)(e))||e instanceof ch?NM(a,"updateDoc",n._key,e,t,i):OM(a,"updateDoc",n._key,e),fv(r,[l.toMutation(n._key,mi.exists(!0))])}function tO(n,...e){var t,i,r;n=(0,Rt.m9)(n);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||kM(e[l])||(a=e[l],l++);const f={includeMetadataChanges:a.includeMetadataChanges};if(kM(e[l])){const M=e[l];e[l]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[l+1]=null===(i=M.error)||void 0===i?void 0:i.bind(M),e[l+2]=null===(r=M.complete)||void 0===r?void 0:r.bind(M)}let _,b,C;if(n instanceof Ei)b=Ut(n.firestore,xi),C=jd(n._key.path),_={next:M=>{e[l]&&e[l](BM(b,n,M))},error:e[l+1],complete:e[l+2]};else{const M=Ut(n,ao);b=Ut(M.firestore,xi),C=M._query;const B=new rm(b);_={next:G=>{e[l]&&e[l](new im(b,B,M,G))},error:e[l+1],complete:e[l+2]},GR(n._query)}return function(M,B,G,Y){const ie=new Qw(Y),fe=new nD(B,ie,G);return M.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return Nw(yield u(M),fe)})),()=>{ie.Dc(),M.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return nv(yield u(M),fe)}))}}(fr(b),C,f,_)}function fv(n,e){return function(t,i){const r=new ur;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function Vw(n,e,t){return og.apply(this,arguments)}(yield s(t),i,r)})),r.promise}(fr(n),e)}function BM(n,e,t){const i=t.docs.get(e._key),r=new rm(n);return new lh(n,r,e._key,i,new gg(t.hasPendingWrites,t.fromCache),e.converter)}const gV={maxAttempts:5};class nO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=mg(e)}set(e,t,i){this._verifyNotCommitted();const r=om(e,this._firestore),a=PD(r.converter,t,i),l=TD(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,mi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=om(e,this._firestore);let l;return l="string"==typeof(t=(0,Rt.m9)(t))||t instanceof ch?NM(this._dataReader,"WriteBatch.update",a._key,t,i,r):OM(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,mi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=om(e,this._firestore);return this._mutations=this._mutations.concat(new Ff(t._key,mi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function om(n,e){if((n=(0,Rt.m9)(n)).firestore!==e)throw new Fe(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class _V extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=mg(e)}get(e){const t=om(e,this._firestore),i=new Y2(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return mt();const a=r[0];if(a.isFoundDocument())return new oE(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new oE(this._firestore,i,t._key,null,t.converter);throw mt()})}set(e,t,i){const r=om(e,this._firestore),a=PD(r.converter,t,i),l=TD(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(e,t,i,...r){const a=om(e,this._firestore);let l;return l="string"==typeof(t=(0,Rt.m9)(t))||t instanceof ch?NM(this._dataReader,"Transaction.update",a._key,t,i,r):OM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=om(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=om(e,this._firestore),i=new rm(this._firestore);return super.get(e).then(r=>new lh(this._firestore,i,t._key,r._document,new gg(!1,!1),t.converter))}}function UM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function rO(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function oO(){if(!function NI(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ol=Kl.SDK_VERSION,(0,Kl._registerComponent)(new Qc.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),l=new xi(new r0(t.getProvider("auth-internal")),new o0(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Fe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cl(f.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,Kl.registerVersion)(fI,"3.13.0",n),(0,Kl.registerVersion)(fI,"3.13.0","esm2017")}();class lE{constructor(e){this._delegate=e}static fromBase64String(e){return oO(),new lE(_u.fromBase64String(e))}static fromUint8Array(e){return rO(),new lE(_u.fromUint8Array(e))}toBase64(){return oO(),this._delegate.toBase64()}toUint8Array(){return rO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function jM(n){return function DV(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class SV{enableIndexedDbPersistence(e,t){return function C2(n,e){LR(n=Ut(n,xi));const t=fr(n);if(t._uninitializedComponentsProvider)throw new Fe(he.FAILED_PRECONDITION,"SDK cache is already specified.");Rs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new ug;return FR(t,r,new Yw(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function D2(n){LR(n=Ut(n,xi));const e=fr(n);if(e._uninitializedComponentsProvider)throw new Fe(he.FAILED_PRECONDITION,"SDK cache is already specified.");Rs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new ug;return FR(e,i,new lg(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function S2(n){if(n._initialized&&!n._terminated)throw new Fe(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ur;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(i){if(!Os.D())return Promise.resolve();const r=i+"main";yield Os.delete(r)}),function(i){return t.apply(this,arguments)})(jy(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class sO{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof cl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Rs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){RR(this._delegate,e,t,i)}enableNetwork(){return function A2(n){return function p(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield xD(n),t=yield o(n);return e.setNetworkEnabled(!0),function(i){const r=st(i);return r.vu.delete(0),em(r)}(t)}))}(fr(n=Ut(n,xi)))}(this._delegate)}disableNetwork(){return function M2(n){return function y(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield xD(n),t=yield o(n);return e.setNetworkEnabled(!1),(i=(0,Ee.Z)(function*(r){const a=st(r);a.vu.add(0),yield Jp(a),a.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(fr(n=Ut(n,xi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Me("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function T2(n){return function(e){const t=new ur;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function wM(n,e){return Uw.apply(this,arguments)}(yield s(e),t)})),t.promise}(fr(n=Ut(n,xi)))}(this._delegate)}onSnapshotsInSync(e){return function aV(n,e){return function U(n,e){const t=new Qw(e);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield u(n),r=t,st(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield u(n),r=t,void st(i).ku.delete(r);var i,r}))}}(fr(n=Ut(n,xi)),kM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new mv(this,OR(this._delegate,e))}catch(t){throw ts(t,"collection()","Firestore.collection()")}}doc(e){try{return new lc(this,CD(this._delegate,e))}catch(t){throw ts(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ns(this,function b2(n,e){if(n=Ut(n,hg),wt("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ao(n,null,(t=e,new ic(yn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ts(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function yV(n,e,t){n=Ut(n,xi);const i=Object.assign(Object.assign({},gV),t);return function(r){if(r.maxAttempts<1)throw new Fe(he.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,l){const f=new ur;return r.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const _=yield function c(n){return eE(n).then(e=>e.datastore)}(r);new MR(r.asyncQueue,_,l,a,f).run()})),f.promise}(fr(n),r=>e(new _V(n,r)),i)}(this._delegate,t=>e(new aO(this,t)))}batch(){return fr(this._delegate),new cO(new nO(this._delegate,e=>fv(this._delegate,e)))}loadBundle(e){return function k2(n,e){const t=fr(n=Ut(n,xi)),i=new E2;return function Q(n,e,t,i){const r=function(a,l){let f;return f="string"==typeof a?B0().encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return _D(_,b);if(_ instanceof ArrayBuffer)return _D(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new AR(_,l);var _}(t,Jf(e));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function gD(n,e,t){const i=st(n);var r;(r=(0,Ee.Z)(function*(a,l,f){try{const _=yield l.getMetadata();if(yield function(B,G){const Y=st(B),ie=ki(G.createTime);return Y.persistence.runTransaction("hasNewerBundle","readonly",fe=>Y.qs.getBundleMetadata(fe,G.id)).then(fe=>!!fe&&fe.createTime.compareTo(ie)>=0)}(a.localStore,_))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(B=_).totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}),Promise.resolve(new Set);f._updateProgress(oD(_));const b=new gM(_,a.localStore,l.serializer);let C=yield l.bc();for(;C;){const B=yield b.zu(C);B&&f._updateProgress(B),C=yield l.bc()}const M=yield b.complete();return yield da(a,M.Ju,void 0),yield function(B,G){const Y=st(B);return Y.persistence.runTransaction("Save bundle","readwrite",ie=>Y.qs.saveBundleMetadata(ie,G))}(a.localStore,_),f._completeWith(M.progress),Promise.resolve(M.Hu)}catch(_){return Rs("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var B}),function(a,l,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield s(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function R2(n,e){return function te(n,e){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,i){const r=st(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.qs.getNamedQuery(a,i))}(yield tE(n),e)}))}(fr(n=Ut(n,xi)),e).then(t=>t?new ao(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ns(this,t):null)}}class FD extends VM{constructor(e){super(),this.firestore=e}convertBytes(e){return new lE(new _u(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return lc.forKey(t,this.firestore,null)}}class aO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new FD(e)}get(e){const t=yg(e);return this._delegate.get(t).then(i=>new uE(this._firestore,new lh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=yg(e);return i?(UM("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=yg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=yg(e);return this._delegate.delete(t),this}}class cO{constructor(e){this._delegate=e}set(e,t,i){const r=yg(e);return i?(UM("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=yg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=yg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class _g{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new cE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new dE(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=_g.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new _g(e,new FD(e),t),r.set(t,a)),a}}_g.INSTANCES=new WeakMap;class lc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new FD(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new lc(t,new Ei(t._delegate,i,new it(e)))}static forKey(e,t,i){return new lc(t,new Ei(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new mv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new mv(this.firestore,OR(this._delegate,e))}catch(t){throw ts(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Rt.m9)(e))instanceof Ei&&NR(this._delegate,e)}set(e,t){t=UM("DocumentReference.set",t);try{return t?JR(this._delegate,e,t):JR(this._delegate,e)}catch(i){throw ts(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?eO(this._delegate,e):eO(this._delegate,e,t,...i)}catch(r){throw ts(r,"updateDoc()","DocumentReference.update()")}}delete(){return function oV(n){return fv(Ut(n.firestore,xi),[new Ff(n._key,mi.none())])}(this._delegate)}onSnapshot(...e){const t=lO(e),i=uO(e,r=>new uE(this.firestore,new lh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return tO(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function eV(n){n=Ut(n,Ei);const e=Ut(n.firestore,xi),t=fr(e),i=new rm(e);return function E(n,e){const t=new ur;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,a,l){try{const f=yield function(_,b){const C=st(_);return C.persistence.runTransaction("read document","readonly",M=>C.localDocuments.getDocument(M,b))}(r,a);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new Fe(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=rh(f,`Failed to get document '${a} from cache`);l.reject(_)}}),function(r,a,l){return i.apply(this,arguments)})(yield tE(n),e,t);var i})),t.promise}(t,n._key).then(r=>new lh(e,i,n._key,r,new gg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function tV(n){n=Ut(n,Ei);const e=Ut(n.firestore,xi);return I(fr(e),n._key,{source:"server"}).then(t=>BM(e,n,t))}(this._delegate):function J2(n){n=Ut(n,Ei);const e=Ut(n.firestore,xi);return I(fr(e),n._key).then(t=>BM(e,n,t))}(this._delegate),t.then(i=>new uE(this.firestore,new lh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new lc(this.firestore,this._delegate.withConverter(e?_g.getInstance(this.firestore,e):null))}}function ts(n,e,t){return n.message=n.message.replace(e,t),n}function lO(n){for(const e of n)if("object"==typeof e&&!jM(e))return e;return{}}function uO(n,e){var t,i;let r;return r=jM(n[0])?n[0]:jM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class uE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new lc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return XR(this._delegate,e._delegate)}}class dE extends uE{data(e){const t=this._delegate.data(e);return function pI(n,e){n||mt()}(void 0!==t),t}}class ns{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new FD(e)}where(e,t,i){try{return new ns(this.firestore,nm(this._delegate,function H2(n,e,t){const i=e,r=kD("where",n);return aE._create(r,i,t)}(e,t,i)))}catch(r){throw ts(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ns(this.firestore,nm(this._delegate,function z2(n,e="asc"){const t=e,i=kD("orderBy",n);return LM._create(i,t)}(e,t)))}catch(i){throw ts(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ns(this.firestore,nm(this._delegate,function $2(n){return dg("limit",n),RD._create("limit",n,"F")}(e)))}catch(t){throw ts(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ns(this.firestore,nm(this._delegate,function G2(n){return dg("limitToLast",n),RD._create("limitToLast",n,"L")}(e)))}catch(t){throw ts(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ns(this.firestore,nm(this._delegate,function W2(...n){return OD._create("startAt",n,!0)}(...e)))}catch(t){throw ts(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ns(this.firestore,nm(this._delegate,function q2(...n){return OD._create("startAfter",n,!1)}(...e)))}catch(t){throw ts(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ns(this.firestore,nm(this._delegate,function Z2(...n){return ND._create("endBefore",n,!1)}(...e)))}catch(t){throw ts(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ns(this.firestore,nm(this._delegate,function K2(...n){return ND._create("endAt",n,!0)}(...e)))}catch(t){throw ts(t,"endAt()","Query.endAt()")}}isEqual(e){return MM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function iV(n){n=Ut(n,ao);const e=Ut(n.firestore,xi),t=fr(e),i=new rm(e);return function T(n,e){const t=new ur;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,a,l){try{const f=yield Xp(r,a,!0),_=new vM(a,f.ir),b=_.sc(f.documents),C=_.applyChanges(b,!1);l.resolve(C.snapshot)}catch(f){const _=rh(f,`Failed to execute query '${a} against cache`);l.reject(_)}}),function(r,a,l){return i.apply(this,arguments)})(yield tE(n),e,t);var i})),t.promise}(t,n._query).then(r=>new im(e,i,n,r))}(this._delegate):"server"===e?.source?function rV(n){n=Ut(n,ao);const e=Ut(n.firestore,xi),t=fr(e),i=new rm(e);return R(t,n._query,{source:"server"}).then(r=>new im(e,i,n,r))}(this._delegate):function nV(n){n=Ut(n,ao);const e=Ut(n.firestore,xi),t=fr(e),i=new rm(e);return GR(n._query),R(t,n._query).then(r=>new im(e,i,n,r))}(this._delegate),t.then(i=>new HM(this.firestore,new im(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=lO(e),i=uO(e,r=>new HM(this.firestore,new im(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return tO(this._delegate,t,i)}withConverter(e){return new ns(this.firestore,this._delegate.withConverter(e?_g.getInstance(this.firestore,e):null))}}class AV{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new dE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class HM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ns(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new dE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new AV(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new dE(this._firestore,i))})}isEqual(e){return XR(this._delegate,e._delegate)}}class mv extends ns{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new lc(this.firestore,e):null}doc(e){try{return new lc(this.firestore,void 0===e?CD(this._delegate):CD(this._delegate,e))}catch(t){throw ts(t,"doc()","CollectionReference.doc()")}}add(e){return function sV(n,e){const t=Ut(n.firestore,xi),i=CD(n),r=PD(n.converter,e);return fv(t,[TD(mg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,mi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new lc(this.firestore,t))}isEqual(e){return NR(this._delegate,e._delegate)}withConverter(e){return new mv(this.firestore,this._delegate.withConverter(e?_g.getInstance(this.firestore,e):null))}}function yg(n){return Ut(n,Ei)}class zM{constructor(...e){this._delegate=new ch(...e)}static documentId(){return new zM(fi.keyField().canonicalString())}isEqual(e){return(e=(0,Rt.m9)(e))instanceof ch&&this._delegate._internalPath.isEqual(e._internalPath)}}class vg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function bV(){return new RM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new vg(e)}static delete(){const e=function vV(){return new iE("deleteField")}();return e._methodName="FieldValue.delete",new vg(e)}static arrayUnion(...e){const t=function wV(...n){return new L2("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new vg(t)}static arrayRemove(...e){const t=function EV(...n){return new V2("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new vg(t)}static increment(e){const t=function xV(n){return new B2("increment",n)}(e);return t._methodName="FieldValue.increment",new vg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const MV={Firestore:sO,GeoPoint:DD,Timestamp:ai,Blob:lE,Transaction:aO,WriteBatch:cO,DocumentReference:lc,DocumentSnapshot:uE,Query:ns,QueryDocumentSnapshot:dE,QuerySnapshot:HM,CollectionReference:mv,FieldPath:zM,FieldValue:vg,setLogLevel:function TV(n){!function QT(n){na.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function RV(n){(function kV(n,e){n.INTERNAL.registerComponent(new Qc.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},MV)))})(n,(e,t)=>new sO(e,t,new SV)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(k_.Z);var hE=P(3019),LD=P(3093),OV=P(4552);class NV extends mn.x{constructor(e=1/0,t=1/0,i=OV.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:l}=this;t||(i.push(e),!r&&i.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let l=0;l<a.length&&!e.closed;l+=i?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const l=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=l;_+=2)f=_;f&&i.splice(0,f+1)}}}var dO=P(3020);function $M(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,dO.B)({connector:()=>new NV(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function hO(n,e){return(0,Di.m)(e)?(0,zn.w)(()=>n,e):(0,zn.w)(()=>n)}var GM=P(5137),sm=P(4097);class bg{constructor(e){return e}}class WM{constructor(){return(0,sm.C6)()}}const qM=new d.OlP("angularfire2._apps"),FV={provide:bg,useFactory:function PV(n){return n&&1===n.length?n[0]:new bg((0,sm.Mq)())},deps:[[new d.FiY,qM]]},LV={provide:WM,deps:[[new d.FiY,qM]]};function VV(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new bg(i)}}let BV=(()=>{class n{constructor(t){(0,sm.KN)("angularfire",cn.q4.full,"core"),(0,sm.KN)("angularfire",cn.q4.full,"app"),(0,sm.KN)("angular",d.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[FV,LV]}),n})();function UV(n,...e){return{ngModule:BV,providers:[{provide:qM,useFactory:VV(n),multi:!0,deps:[d.R0b,d.zs3,cn.HU,...e]}]}}const jV=(0,cn.u3)(sm.ZF,!0);var Ri=P(4303);const ZM=new Map,fO={activated:!1,tokenObservers:[]},HV={initialized:!1,enabled:!1};function nr(n){return ZM.get(n)||Object.assign({},fO)}function VD(){return HV}const KM="https://content-firebaseappcheck.googleapis.com/v1",WV="exchangeDebugToken",mO={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ZV{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ee.Z)(function*(){t.stop();try{t.pending=new Rt.BH,yield function KV(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Rt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const co=new Rt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function YM(n){if(!nr(n).activated)throw co.create("use-before-activation",{appName:n.name})}function jD(n,e){return XM.apply(this,arguments)}function XM(){return XM=(0,Ee.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const M=yield r.getHeartbeatsHeader();M&&(i["X-Firebase-Client"]=M)}const a={method:"POST",body:JSON.stringify(e),headers:i};let l,f;try{l=yield fetch(n,a)}catch(M){throw co.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==l.status)throw co.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(M){throw co.create("fetch-parse-error",{originalErrorMessage:M?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw co.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(_[1]),C=Date.now();return{token:f.token,expireTimeMillis:C+b,issuedAtTimeMillis:C}}),XM.apply(this,arguments)}function pO(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${KM}/projects/${t}/apps/${i}:${WV}?key=${r}`,body:{debug_token:e}}}const JV="firebase-app-check-database",eB=1,fE="firebase-app-check-store";let HD=null;function JM(){return JM=(0,Ee.Z)(function*(n,e){const i=(yield function _O(){return HD||(HD=new Promise((n,e)=>{try{const t=indexedDB.open(JV,eB);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(co.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(fE,{keyPath:"compositeKey"})}}catch(t){e(co.create("storage-open",{originalErrorMessage:t?.message}))}}),HD)}()).transaction(fE,"readwrite"),a=i.objectStore(fE).put({compositeKey:n,value:e});return new Promise((l,f)=>{a.onsuccess=_=>{l()},i.onerror=_=>{var b;f(co.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),JM.apply(this,arguments)}const mE=new Mo.Yd("@firebase/app-check");function nk(n,e){return(0,Rt.hl)()?function nB(n,e){return function yO(n,e){return JM.apply(this,arguments)}(function bO(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{mE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function rk(){return VD().enabled}function ok(){return sk.apply(this,arguments)}function sk(){return sk=(0,Ee.Z)(function*(){const n=VD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),sk.apply(this,arguments)}const cB={error:"UNKNOWN_ERROR"};function lB(n){return Rt.US.encodeString(JSON.stringify(n),!1)}function zD(n){return ak.apply(this,arguments)}function ak(){return ak=(0,Ee.Z)(function*(n,e=!1){const t=n.app;YM(t);const i=nr(t);let a,r=i.token;if(r&&!pv(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(pv(_)?r=_:yield nk(t,void 0))}if(!e&&r&&pv(r))return{token:r.token};let f,l=!1;if(rk()){i.exchangeTokenPromise||(i.exchangeTokenPromise=jD(pO(t,yield ok()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const _=yield i.exchangeTokenPromise;return yield nk(t,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield nr(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?mE.warn(_.message):mE.error(_),a=_}return r?a?f=pv(r)?{token:r.token,internalError:a}:IO(a):(f={token:r.token},i.token=r,yield nk(t,r)):f=IO(a),l&&function xO(n,e){const t=nr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,f),f}),ak.apply(this,arguments)}function ck(){return ck=(0,Ee.Z)(function*(n){const e=n.app;YM(e);const{provider:t}=nr(e);if(rk()){const i=yield ok(),{token:r}=yield jD(pO(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}}),ck.apply(this,arguments)}function uk(n,e){const t=nr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function EO(n){const{app:e}=n,t=nr(e);let i=t.tokenRefresher;i||(i=function uB(n){const{app:e}=n;return new ZV((0,Ee.Z)(function*(){let i;if(i=nr(e).token?yield zD(n,!0):yield zD(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=nr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},mO.RETRIAL_MIN_WAIT,mO.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function pv(n){return n.expireTimeMillis-Date.now()>0}function IO(n){return{token:lB(cB),error:n}}class dB{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=nr(this.app);for(const t of e)uk(this.app,t.next);return Promise.resolve()}}const RO="app-check-internal";!function CB(){(0,Ri._registerComponent)(new Qc.wA("app-check",n=>function hB(n,e){return new dB(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(RO).initialize()})),(0,Ri._registerComponent)(new Qc.wA(RO,n=>function fB(n){return{getToken:e=>zD(n,e),getLimitedUseToken:()=>function wO(n){return ck.apply(this,arguments)}(n),addTokenListener:e=>function lk(n,e,t,i){const{app:r}=n,a=nr(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&pv(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),EO(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>EO(n))}(n,"INTERNAL",e),removeTokenListener:e=>uk(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ri.registerVersion)("@firebase/app-check","0.8.0")}();class gv{constructor(){return(0,cn.vb)("app-check")}}typeof window<"u"&&window;var NO=P(120);const PO=new d.OlP("angularfire2.auth.use-emulator"),FO=new d.OlP("angularfire2.auth.settings"),LO=new d.OlP("angularfire2.auth.tenant-id"),VO=new d.OlP("angularfire2.auth.langugage-code"),BO=new d.OlP("angularfire2.auth.use-device-language"),UO=new d.OlP("angularfire.auth.persistence"),jO=(n,e,t,i,r,a,l,f)=>(0,Ao.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),l)for(const[b,C]of Object.entries(l))_.settings[b]=C;return f&&_.setPersistence(f),_},[t,i,r,a,l,f]);let HO=(()=>{class n{constructor(t,i,r,a,l,f,_,b,C,M,B,G){const Y=new mn.x,ie=(0,ft.of)(void 0).pipe((0,LD.Q)(l.outsideAngular),(0,zn.w)(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,8661)))),(0,gt.U)(()=>(0,Ao.on)(t,a,i)),(0,gt.U)(fe=>jO(fe,a,f,b,C,M,_,B)),$M({bufferSize:1,refCount:!1}));if(jo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ft.of)(null);else{ie.pipe(Do()).subscribe();const Ge=ie.pipe((0,zn.w)(Xe=>Xe.getRedirectResult().then(Ot=>Ot,()=>null)),cn.iC,$M({bufferSize:1,refCount:!1})),nt=ie.pipe((0,zn.w)(Xe=>new oi.y(Ot=>({unsubscribe:a.runOutsideAngular(()=>Xe.onAuthStateChanged(Lt=>Ot.next(Lt),Lt=>Ot.error(Lt),()=>Ot.complete()))})))),Ye=ie.pipe((0,zn.w)(Xe=>new oi.y(Ot=>({unsubscribe:a.runOutsideAngular(()=>Xe.onIdTokenChanged(Lt=>Ot.next(Lt),Lt=>Ot.error(Lt),()=>Ot.complete()))}))));this.authState=Ge.pipe(hO(nt),(0,GM.R)(l.outsideAngular),(0,LD.Q)(l.insideAngular)),this.user=Ge.pipe(hO(Ye),(0,GM.R)(l.outsideAngular),(0,LD.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,zn.w)(Xe=>Xe?(0,hn.D)(Xe.getIdToken()):(0,ft.of)(null))),this.idTokenResult=this.user.pipe((0,zn.w)(Xe=>Xe?(0,hn.D)(Xe.getIdTokenResult()):(0,ft.of)(null))),this.credential=(0,hE.T)(Ge,Y,this.authState.pipe(In(Xe=>!Xe))).pipe((0,gt.U)(Xe=>Xe?.user?Xe:null),(0,GM.R)(l.outsideAngular),(0,LD.Q)(l.insideAngular))}return(0,Ao.pX)(this,ie,a,{spy:{apply:(fe,Ge,nt)=>{(fe.startsWith("signIn")||fe.startsWith("createUser"))&&nt.then(Ye=>Y.next(Ye))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ao.Dh),d.LFG(Ao.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(cn.HU),d.LFG(PO,8),d.LFG(FO,8),d.LFG(LO,8),d.LFG(VO,8),d.LFG(BO,8),d.LFG(UO,8),d.LFG(gv,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function zO(n,e){return function kB(n,e=M_.z){return new oi.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function pk(n,e){return zO(n,e).pipe((0,gt.U)(t=>({payload:t,type:"query"})))}function GD(n,e){return pk(n,e).pipe(Br(void 0),rb(),(0,gt.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,f)=>{const _=r.find(C=>C.doc.ref.isEqual(l.ref)),b=t?.payload.docs.find(C=>C.ref.isEqual(l.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(l.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),a}))}function $O(n,e,t){return GD(n,t).pipe($a((i,r)=>function OB(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function NB(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return gk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return gk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return gk(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),(0,ob.x)(),(0,gt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function gk(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function GO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class WO{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=GD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Br(void 0),rb(),In(([i,r])=>r.length>0||!i),(0,gt.U)(([i,r])=>r),cn.iC)}auditTrail(e){return this.stateChanges(e).pipe($a((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=GO(e);return $O(this.query,t,this.afs.schedulers.outsideAngular).pipe(cn.iC)}valueChanges(e={}){return pk(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),cn.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(cn.iC)}add(e){return this.ref.add(e)}doc(e){return new qO(this.ref.doc(e),this.afs)}}class qO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=YO(i,t);return new WO(r,a,this.afs)}snapshotChanges(){return function RB(n,e){return zO(n,e).pipe(Br(void 0),rb(),(0,gt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(cn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,hn.D)(this.ref.get(e)).pipe(cn.iC)}}class PB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?GD(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),In(t=>t.length>0),cn.iC):GD(this.query,this.afs.schedulers.outsideAngular).pipe(cn.iC)}auditTrail(e){return this.stateChanges(e).pipe($a((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=GO(e);return $O(this.query,t,this.afs.schedulers.outsideAngular).pipe(cn.iC)}valueChanges(e={}){return pk(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),cn.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(cn.iC)}}const ZO=new d.OlP("angularfire2.enableFirestorePersistence"),KO=new d.OlP("angularfire2.firestore.persistenceSettings"),FB=new d.OlP("angularfire2.firestore.settings"),LB=new d.OlP("angularfire2.firestore.use-emulator");function YO(n,e=(t=>t)){return{query:e(n),ref:n}}let _k,QO=(()=>{class n{constructor(t,i,r,a,l,f,_,b,C,M,B,G,Y,ie,fe,Ge,nt){this.schedulers=_;const Ye=(0,Ao.on)(t,f,i),Xe=C;M&&jO(Ye,f,B,Y,ie,fe,G,Ge),[this.firestore,this.persistenceEnabled$]=(0,Ao.cc)(`${Ye.name}.firestore`,"AngularFirestore",Ye.name,()=>{const Ot=f.runOutsideAngular(()=>Ye.firestore());if(a&&Ot.settings(a),Xe&&Ot.useEmulator(...Xe),r&&!jo(l)){const Lt=()=>{try{return(0,hn.D)(Ot.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(gn){return typeof console<"u"&&console.warn(gn),(0,ft.of)(!1)}};return[Ot,f.runOutsideAngular(Lt)]}return[Ot,(0,ft.of)(!1)]},[a,Xe,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:l}=YO(r,i),f=this.schedulers.ngZone.run(()=>a);return new WO(f,l,this)}collectionGroup(t,i){const r=i||(l=>l),a=this.firestore.collectionGroup(t);return new PB(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new qO(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ao.Dh),d.LFG(Ao.xv,8),d.LFG(ZO,8),d.LFG(FB,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(cn.HU),d.LFG(KO,8),d.LFG(LB,8),d.LFG(HO,8),d.LFG(PO,8),d.LFG(FO,8),d.LFG(LO,8),d.LFG(VO,8),d.LFG(BO,8),d.LFG(UO,8),d.LFG(gv,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),VB=(()=>{class n{constructor(){NO.Z.registerVersion("angularfire",cn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:ZO,useValue:!0},{provide:KO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[QO]}),n})();try{_k=typeof Intl<"u"&&Intl.v8BreakIterator}catch{_k=!1}let pE,qD,wg,yk,No=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?us(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_k)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WD(n){return function BB(){if(null==pE&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>pE=!0}))}finally{pE=pE||!1}return pE}()?n:!!n.capture}function gE(){if("object"!=typeof document||!document)return 0;if(null==qD){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),qD=0,0===n.scrollLeft&&(n.scrollLeft=1,qD=0===n.scrollLeft?1:2),n.remove()}return qD}function yv(n){return n.composedPath?n.composedPath()[0]:n.target}function _E(n,e=M_.z){return(0,Si.e)((t,i)=>{let r=null,a=null,l=null;const f=()=>{if(r){r.unsubscribe(),r=null;const b=a;a=null,i.next(b)}};function _(){const b=l+n,C=e.now();if(C<b)return r=this.schedule(void 0,b-C),void i.add(r);f()}t.subscribe((0,Bi.x)(i,b=>{a=b,l=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}function eN(n){return In((e,t)=>n<=t)}var bk=P(2420);function Fs(n){return(0,Si.e)((e,t)=>{(0,eo.Xf)(n).subscribe((0,Bi.x)(t,()=>t.complete(),bk.Z)),!t.closed&&e.subscribe(t)})}function mr(n){return null!=n&&"false"!=`${n}`}function ZD(n,e=0){return function dU(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function tN(n){return Array.isArray(n)?n:[n]}function Eg(n){return n instanceof d.SBq?n.nativeElement:n}const nN=new Set;let xg,hU=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):mU}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function fU(n,e){if(!nN.has(n))try{xg||(xg=document.createElement("style"),e&&(xg.nonce=e),xg.setAttribute("type","text/css"),document.head.appendChild(xg)),xg.sheet&&(xg.sheet.insertRule(`@media ${n} {body{ }}`,0),nN.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(No),d.LFG(d.Ojb,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mU(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let iN=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new mn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return rN(tN(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=ys(rN(tN(t)).map(l=>this._registerQuery(l).observable));return a=xo(a.pipe(hi(1)),a.pipe(eN(1),_E(0))),a.pipe((0,gt.U)(l=>{const f={matches:!1,breakpoints:{}};return l.forEach(({matches:_,query:b})=>{f.matches=f.matches||_,f.breakpoints[b]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new oi.y(l=>{const f=_=>this._zone.run(()=>l.next(_));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(Br(i),(0,gt.U)(({matches:l})=>({query:t,matches:l})),Fs(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(hU),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rN(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let aN=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function wU(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function bU(n){try{return n.frameElement}catch{return null}}(function AU(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===lN(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=lN(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function SU(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function TU(n){return!function xU(n){return function CU(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function EU(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function IU(n){return function DU(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||cN(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(No))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cN(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function lN(n){if(!cN(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class MU{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(hi(1)).subscribe(e)}}let kU=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new MU(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(aN),d.LFG(d.R0b),d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uN(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function dN(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const RU=new d.OlP("cdk-input-modality-detector-options"),OU={ignoreKeys:[18,17,224,91,16]},vv=WD({passive:!0,capture:!0});let NU=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new ar.X(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(f=>f===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=yv(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(uN(l)?"keyboard":"mouse"),this._mostRecentTarget=yv(l))},this._onTouchstart=l=>{dN(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=yv(l))},this._options={...OU,...a},this.modalityDetected=this._modality.pipe(eN(1)),this.modalityChanged=this.modalityDetected.pipe((0,ob.x)()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,vv),r.addEventListener("mousedown",this._onMousedown,vv),r.addEventListener("touchstart",this._onTouchstart,vv)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,vv),document.removeEventListener("mousedown",this._onMousedown,vv),document.removeEventListener("touchstart",this._onTouchstart,vv))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(No),d.LFG(d.R0b),d.LFG(ce),d.LFG(RU,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FU=new d.OlP("cdk-focus-monitor-default-options"),KD=WD({passive:!0,capture:!0});let fN=(()=>{class n{constructor(t,i,r,a,l){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new mn.x,this._rootNodeFocusAndBlurListener=f=>{for(let b=yv(f);b;b=b.parentElement)"focus"===f.type?this._onFocus(f,b):this._onBlur(f,b)},this._document=a,this._detectionMode=l?.detectionMode||0}monitor(t,i=!1){const r=Eg(t);if(!this._platform.isBrowser||1!==r.nodeType)return(0,ft.of)();const a=function HB(n){if(function jB(){if(null==yk){const n=typeof document<"u"?document.head:null;yk=!(!n||!n.createShadowRoot&&!n.attachShadow)}return yk}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const f={checkChildren:i,subject:new mn.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=Eg(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=Eg(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=yv(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,KD),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,KD)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Fs(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,KD),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,KD),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let l=0;l<a.length;l++)if(a[l].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(No),d.LFG(NU),d.LFG(ce,8),d.LFG(FU,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mN="cdk-high-contrast-black-on-white",pN="cdk-high-contrast-white-on-black",wk="cdk-high-contrast-active";let LU=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,d.f3M)(iN).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(wk,mN,pN),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(wk,mN):2===i&&t.add(wk,pN)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(No),d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VU=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function BU(){return(0,d.f3M)(ce)}}),UU=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let gN=(()=>{class n{constructor(t){this.value="ltr",this.change=new d.vpe,t&&(this.value=function jU(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?UU.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(VU,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const zU=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function HU(){return!0}});let Po=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function $B(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(LU),d.LFG(zU,8),d.LFG(ce))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[_N,_N]}),n})();function $U(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=mr(e)}constructor(...e){super(...e),this._disabled=!1}}}function Ek(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function GU(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=mr(e)}constructor(...e){super(...e),this._disableRipple=!1}}}class qU{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const bN=WD({passive:!0,capture:!0});class ZU{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=yv(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,i,r){const a=this._events.get(t);if(a){const l=a.get(i);l?l.add(r):a.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,bN)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const a=r.get(t);a&&(a.delete(i),0===a.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,bN)))}}const wN={enterDuration:225,exitDuration:150},EN=WD({passive:!0,capture:!0}),xN=["mousedown","touchstart"],IN=["mouseup","mouseleave","touchend","touchcancel"];class bv{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Eg(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...wN,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const l=i.radius||function YU(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,b=a.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=f-l+"px",C.style.top=_-l+"px",C.style.height=2*l+"px",C.style.width=2*l+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(C);const M=window.getComputedStyle(C),G=M.transitionDuration,Y="none"===M.transitionProperty||"0s"===G||"0s, 0s"===G||0===r.width&&0===r.height,ie=new qU(this,C,i,Y);C.style.transform="scale3d(1, 1, 1)",ie.state=0,i.persistent||(this._mostRecentTransientRipple=ie);let fe=null;return!Y&&(b||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ge=()=>this._finishRippleTransition(ie),nt=()=>this._destroyRipple(ie);C.addEventListener("transitionend",Ge),C.addEventListener("transitioncancel",nt),fe={onTransitionEnd:Ge,onTransitionCancel:nt}}),this._activeRipples.set(ie,fe),(Y||!b)&&this._finishRippleTransition(ie),ie}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...wN,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Eg(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,xN.forEach(i=>{bv._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{IN.forEach(t=>{this._triggerElement.addEventListener(t,this,EN)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=uN(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!dN(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(xN.forEach(t=>bv._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&IN.forEach(t=>e.removeEventListener(t,this,EN)))}}bv._eventManager=new ZU;const vE=new d.OlP("mat-ripple-global-options");let QU=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,a,l){this._elementRef=t,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new bv(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(No),d.Y36(vE,8),d.Y36(d.QbO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),CN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Po,Po]}),n})(),XU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Po]}),n})();const JU=["mat-button",""],e3=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],t3=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],r3=["mat-icon-button",""],o3=["*"],DN={capture:!0},SN=["focus","click","mouseenter","touchstart"],xk="mat-ripple-loader-uninitialized",Ik="mat-ripple-loader-class-name",TN="mat-ripple-loader-centered",YD="mat-ripple-loader-disabled";let s3=(()=>{class n{constructor(){this._document=(0,d.f3M)(ce,{optional:!0}),this._animationMode=(0,d.f3M)(d.QbO,{optional:!0}),this._globalRippleOptions=(0,d.f3M)(vE,{optional:!0}),this._platform=(0,d.f3M)(No),this._ngZone=(0,d.f3M)(d.R0b),this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${xk}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of SN)this._document?.addEventListener(t,this._onInteraction,DN)})}ngOnDestroy(){for(const t of SN)this._document?.removeEventListener(t,this._onInteraction,DN)}configureRipple(t,i){t.setAttribute(xk,""),(i.className||!t.hasAttribute(Ik))&&t.setAttribute(Ik,i.className||""),i.centered&&t.setAttribute(TN,""),i.disabled&&t.setAttribute(YD,"")}getRipple(t){return t.matRipple?t.matRipple:this.createRipple(t)}setDisabled(t,i){const r=t.matRipple;r?r.disabled=i:i?t.setAttribute(YD,""):t.removeAttribute(YD)}createRipple(t){if(!this._document)return;t.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(Ik)),t.append(i);const r=new QU(new d.SBq(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=t,r.centered=t.hasAttribute(TN),r.disabled=t.hasAttribute(YD),this.attachRipple(t,r),r}attachRipple(t,i){t.removeAttribute(xk),t.matRipple=i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const a3=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],c3=Ek($U(GU(class{constructor(n){this._elementRef=n}})));let AN=(()=>{class n extends c3{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=mr(t),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=mr(t),this._updateRippleDisabled()}constructor(t,i,r,a){super(t),this._platform=i,this._ngZone=r,this._animationMode=a,this._focusMonitor=(0,d.f3M)(fN),this._rippleLoader=(0,d.f3M)(s3),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const l=t.nativeElement.classList;for(const f of a3)this._hasHostAttributes(f.selector)&&f.mdcClasses.forEach(_=>{l.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}}return n.\u0275fac=function(t){d.$Z()},n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})(),u3=(()=>{class n extends AN{constructor(t,i,r,a){super(t,i,r,a)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(No),d.Y36(d.R0b),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(d.uIk("disabled",i.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:JU,ngContentSelectors:t3,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(d.F$t(e3),d._UZ(0,"span",0),d.Hsn(1),d.TgZ(2,"span",1),d.Hsn(3,1),d.qZA(),d.Hsn(4,2),d._UZ(5,"span",2)(6,"span",3)),2&t&&d.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),h3=(()=>{class n extends AN{constructor(t,i,r,a){super(t,i,r,a),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(No),d.Y36(d.R0b),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(d.uIk("disabled",i.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:r3,ngContentSelectors:o3,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(d.F$t(),d._UZ(0,"span",0),d.Hsn(1),d._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),f3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Po,CN,Po]}),n})();const m3=["*"],_3=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],y3=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],v3=new d.OlP("MAT_CARD_CONFIG");let MN=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(v3,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,i){2&t&&d.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:m3,decls:1,vars:0,template:function(t,i){1&t&&(d.F$t(),d.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),kN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),RN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),ON=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),n})(),NN=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mat-mdc-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),PN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:y3,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,i){1&t&&(d.F$t(_3),d.Hsn(0),d.TgZ(1,"div",0),d.Hsn(2,1),d.qZA(),d.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),FN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"]}),n})(),S3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Po,Gi,Po]}),n})();function T3(n,e){if(1&n&&(d.TgZ(0,"tr")(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td")(10,"button",5),d._uU(11,"Edity"),d.qZA(),d.TgZ(12,"button",6),d._uU(13,"Delete"),d.qZA()()()),2&n){const t=e.$implicit;d.xp6(2),d.Oqu(t.sid),d.xp6(2),d.Oqu(t.sname),d.xp6(2),d.Oqu(t.phone),d.xp6(2),d.Oqu(t.email)}}const A3=[{path:"",component:(()=>{class n{constructor(t){this.fs=t}ngOnInit(){this.student=this.fs.collection("student").valueChanges(),console.log(this.student),this.student.forEach(function(t){console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(QO))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-page1"]],decls:30,vars:3,consts:[[1,"body_p1"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],[2,"overflow","auto"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","primary"],["mat-flat-button","","color","warn"]],template:function(t,i){1&t&&(d.TgZ(0,"body",0)(1,"p"),d._uU(2,"page1 works!"),d.qZA(),d.TgZ(3,"div")(4,"mat-card",1)(5,"mat-card-header"),d._UZ(6,"div",2),d.TgZ(7,"mat-card-title"),d._uU(8,"\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e19\u0e31\u0e01\u0e40\u0e23\u0e35\u0e22\u0e19"),d.qZA(),d.TgZ(9,"mat-card-subtitle"),d._uU(10,"Student Data"),d.qZA()(),d.TgZ(11,"mat-card-content")(12,"div",3)(13,"table")(14,"thead")(15,"tr")(16,"th"),d._uU(17,"SID"),d.qZA(),d.TgZ(18,"th"),d._uU(19,"Sname"),d.qZA(),d.TgZ(20,"th"),d._uU(21,"Phone"),d.qZA(),d.TgZ(22,"th"),d._uU(23,"Email"),d.qZA(),d.TgZ(24,"th"),d._uU(25,"Action"),d.qZA()()(),d.TgZ(26,"tbody"),d.YNc(27,T3,14,4,"tr",4),d.ALo(28,"async"),d.qZA()()()(),d._UZ(29,"mat-card-actions"),d.qZA()()()),2&t&&(d.xp6(27),d.Q6J("ngForOf",d.lcZ(28,1,i.student)))},dependencies:[pc,u3,MN,NN,FN,RN,PN,ON,kN,yc],styles:[".body_p1[_ngcontent-%COMP%]{background-color:#5f76ff;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25' viewBox='0 0 1600 800'%3E%3Cg stroke='%230516FF' stroke-width='65.1' stroke-opacity='0.05' %3E%3Ccircle fill='%235F76FF' cx='0' cy='0' r='1800'/%3E%3Ccircle fill='%23596ff0' cx='0' cy='0' r='1700'/%3E%3Ccircle fill='%235368e2' cx='0' cy='0' r='1600'/%3E%3Ccircle fill='%234d61d4' cx='0' cy='0' r='1500'/%3E%3Ccircle fill='%23485ac6' cx='0' cy='0' r='1400'/%3E%3Ccircle fill='%234253b8' cx='0' cy='0' r='1300'/%3E%3Ccircle fill='%233d4caa' cx='0' cy='0' r='1200'/%3E%3Ccircle fill='%2337469d' cx='0' cy='0' r='1100'/%3E%3Ccircle fill='%23323f8f' cx='0' cy='0' r='1000'/%3E%3Ccircle fill='%232c3982' cx='0' cy='0' r='900'/%3E%3Ccircle fill='%23273275' cx='0' cy='0' r='800'/%3E%3Ccircle fill='%23222c69' cx='0' cy='0' r='700'/%3E%3Ccircle fill='%231d265d' cx='0' cy='0' r='600'/%3E%3Ccircle fill='%23182051' cx='0' cy='0' r='500'/%3E%3Ccircle fill='%23131a45' cx='0' cy='0' r='400'/%3E%3Ccircle fill='%230e1539' cx='0' cy='0' r='300'/%3E%3Ccircle fill='%230c0e2e' cx='0' cy='0' r='200'/%3E%3Ccircle fill='%23070324' cx='0' cy='0' r='100'/%3E%3C/g%3E%3C/svg%3E\");background-attachment:fixed;background-size:cover}.example-card[_ngcontent-%COMP%]{max-width:800px;margin-top:50px;margin-left:auto;margin-right:auto}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://i.pinimg.com/564x/8c/97/74/8c97746e9dd25b85f67ae1d0f6f1f0bd.jpg);background-size:cover}table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #1f2029;border-collapse:collapse;padding:5px;margin-left:auto;margin-right:auto}th[_ngcontent-%COMP%]{background-color:#5f76ff}.mat-mdc-button-base[_ngcontent-%COMP%]{margin:8px 8px 8px 0}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f5f7f8fb}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#e7f3fec1}"]}),n})()},{path:"page2",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-page2"]],decls:3,vars:0,consts:[[1,"body_p2"]],template:function(t,i){1&t&&(d.TgZ(0,"body",0)(1,"p"),d._uU(2,"page2 works!"),d.qZA()())},styles:[".body_p2[_ngcontent-%COMP%]{background-color:#507073;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 200 200'%3E%3Cg %3E%3Cpolygon fill='%23514ea0' points='100 57.1 64 93.1 71.5 100.6 100 72.1'/%3E%3Cpolygon fill='%236661b6' points='100 57.1 100 72.1 128.6 100.6 136.1 93.1'/%3E%3Cpolygon fill='%23514ea0' points='100 163.2 100 178.2 170.7 107.5 170.8 92.4'/%3E%3Cpolygon fill='%236661b6' points='100 163.2 29.2 92.5 29.2 107.5 100 178.2'/%3E%3Cpath fill='%237C75CC' d='M100 21.8L29.2 92.5l70.7 70.7l70.7-70.7L100 21.8z M100 127.9L64.6 92.5L100 57.1l35.4 35.4L100 127.9z'/%3E%3Cpolygon fill='%232843a6' points='0 157.1 0 172.1 28.6 200.6 36.1 193.1'/%3E%3Cpolygon fill='%234053b9' points='70.7 200 70.8 192.4 63.2 200'/%3E%3Cpolygon fill='%235664CC' points='27.8 200 63.2 200 70.7 192.5 0 121.8 0 157.2 35.3 192.5'/%3E%3Cpolygon fill='%234053b9' points='200 157.1 164 193.1 171.5 200.6 200 172.1'/%3E%3Cpolygon fill='%232843a6' points='136.7 200 129.2 192.5 129.2 200'/%3E%3Cpolygon fill='%235664CC' points='172.1 200 164.6 192.5 200 157.1 200 157.2 200 121.8 200 121.8 129.2 192.5 136.7 200'/%3E%3Cpolygon fill='%232843a6' points='129.2 0 129.2 7.5 200 78.2 200 63.2 136.7 0'/%3E%3Cpolygon fill='%235664CC' points='200 27.8 200 27.9 172.1 0 136.7 0 200 63.2 200 63.2'/%3E%3Cpolygon fill='%234053b9' points='63.2 0 0 63.2 0 78.2 70.7 7.5 70.7 0'/%3E%3Cpolygon fill='%235664CC' points='0 63.2 63.2 0 27.8 0 0 27.8'/%3E%3C/g%3E%3C/svg%3E\")}"]}),n})()},{path:"page3",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-page3"]],decls:3,vars:0,consts:[[1,"body_p3"]],template:function(t,i){1&t&&(d.TgZ(0,"body",0)(1,"p"),d._uU(2,"page3 works!"),d.qZA()())},styles:[".body_p3[_ngcontent-%COMP%]{background-color:#8d56ff;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25' viewBox='0 0 1600 800'%3E%3Cg fill-opacity='0.67'%3E%3Cpolygon fill='%238051ee' points='1600 160 0 460 0 350 1600 50'/%3E%3Cpolygon fill='%23724bdd' points='1600 260 0 560 0 450 1600 150'/%3E%3Cpolygon fill='%236546cc' points='1600 360 0 660 0 550 1600 250'/%3E%3Cpolygon fill='%235740bb' points='1600 460 0 760 0 650 1600 350'/%3E%3Cpolygon fill='%234A3BAA' points='1600 800 0 800 0 750 1600 450'/%3E%3C/g%3E%3C/svg%3E\");background-attachment:fixed;background-size:cover}"]}),n})()}];let M3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[A_.forRoot(A3),A_]}),n})();const k3=["*",[["mat-toolbar-row"]]],R3=["*","mat-toolbar-row"],O3=Ek(class{constructor(n){this._elementRef=n}});let N3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),P3=(()=>{class n extends O3{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(No),d.Y36(ce))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&d.Suo(r,N3,5),2&t){let a;d.iGM(a=d.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&d.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[d.qOj],ngContentSelectors:R3,decls:2,vars:0,template:function(t,i){1&t&&(d.F$t(k3),d.Hsn(0),d.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0}),n})(),F3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Po,Po]}),n})();var L3=P(4266);const V3=["addListener","removeListener"],B3=["addEventListener","removeEventListener"],U3=["on","off"];function Ig(n,e,t,i){if((0,Di.m)(t)&&(i=t,t=void 0),i)return Ig(n,e,t).pipe(Ws(i));const[r,a]=function z3(n){return(0,Di.m)(n.addEventListener)&&(0,Di.m)(n.removeEventListener)}(n)?B3.map(l=>f=>n[l](e,f,t)):function j3(n){return(0,Di.m)(n.addListener)&&(0,Di.m)(n.removeListener)}(n)?V3.map(LN(n,e)):function H3(n){return(0,Di.m)(n.on)&&(0,Di.m)(n.off)}(n)?U3.map(LN(n,e)):[];if(!r&&(0,L3.z)(n))return(0,yi.z)(l=>Ig(l,e,t))((0,eo.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new oi.y(l=>{const f=(..._)=>l.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function LN(n,e){return t=>i=>n[t](e,i)}var VN=P(1954);const bE={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=bE;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new ja.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=bE;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=bE;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var BN=P(2631);new class G3 extends BN.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class $3 extends VN.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=bE.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(bE.cancelAnimationFrame(t),e._scheduled=void 0)}});let Ck,q3=1;const QD={};function UN(n){return n in QD&&(delete QD[n],!0)}const Z3={setImmediate(n){const e=q3++;return QD[e]=!0,Ck||(Ck=Promise.resolve()),Ck.then(()=>UN(e)&&n()),e},clearImmediate(n){UN(n)}},{setImmediate:K3,clearImmediate:Y3}=Z3,XD={setImmediate(...n){const{delegate:e}=XD;return(e?.setImmediate||K3)(...n)},clearImmediate(n){const{delegate:e}=XD;return(e?.clearImmediate||Y3)(n)},delegate:void 0};new class X3 extends BN.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Q3 extends VN.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=XD.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(XD.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var tj=P(671);function jN(n=0,e,t=M_.P){let i=-1;return null!=e&&((0,tj.K)(e)?t=e:i=e),new oi.y(r=>{let a=function nj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let l=0;return t.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},a)})}function HN(n,e=M_.z){return function ej(n){return(0,Si.e)((e,t)=>{let i=!1,r=null,a=null,l=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const b=r;r=null,t.next(b)}l&&t.complete()},_=()=>{a=null,l&&t.complete()};e.subscribe((0,Bi.x)(t,b=>{i=!0,r=b,a||(0,eo.Xf)(n(b)).subscribe(a=(0,Bi.x)(t,f,_))},()=>{l=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>jN(n,e))}let Dk=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new mn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new oi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(HN(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ft.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(In(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Eg(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ig(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(No),d.LFG(ce,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wE=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new mn.x,this._elementScrolled=new oi.y(l=>this.ngZone.runOutsideAngular(()=>Ig(this.elementRef.nativeElement,"scroll").pipe(Fs(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=gE()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==gE()?t.left=t.right:1==gE()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;!function UB(){if(null==wg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return wg=!1,wg;if("scrollBehavior"in document.documentElement.style)wg=!0;else{const n=Element.prototype.scrollTo;wg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return wg}()?(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left)):i.scrollTo(t)}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==t?t=l?r:i:"end"==t&&(t=l?i:r),l&&2==gE()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:l&&1==gE()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(Dk),d.Y36(d.R0b),d.Y36(gN,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),oj=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new mn.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(HN(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(No),d.LFG(d.R0b),d.LFG(ce,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();class $N{}class sj{}const uh="*";function aj(n,e){return{type:7,name:n,definitions:e,options:{}}}function GN(n,e=null){return{type:4,styles:e,timings:n}}function WN(n,e=null){return{type:2,steps:n,options:e}}function JD(n){return{type:6,styles:n,offset:null}}function qN(n,e,t){return{type:0,name:n,styles:e,options:t}}function ZN(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class EE{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class KN{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==a&&this._onFinish()}),l.onDestroy(()=>{++i==a&&this._onDestroy()}),l.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const eS=["*"],cj=["content"];function lj(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2),d.NdJ("click",function(){d.CHM(t);const r=d.oxw();return d.KtG(r._onBackdropClicked())}),d.qZA()}if(2&n){const t=d.oxw();d.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function uj(n,e){1&n&&(d.TgZ(0,"mat-drawer-content"),d.Hsn(1,2),d.qZA())}const dj=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],hj=["mat-drawer","mat-drawer-content","*"];function fj(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2),d.NdJ("click",function(){d.CHM(t);const r=d.oxw();return d.KtG(r._onBackdropClicked())}),d.qZA()}if(2&n){const t=d.oxw();d.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function mj(n,e){1&n&&(d.TgZ(0,"mat-sidenav-content"),d.Hsn(1,2),d.qZA())}const pj=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],gj=["mat-sidenav","mat-sidenav-content","*"],YN={transformDrawer:aj("transform",[qN("open, open-instant",JD({transform:"none",visibility:"visible"})),qN("void",JD({"box-shadow":"none",visibility:"hidden"})),ZN("void => open-instant",GN("0ms")),ZN("void <=> open, open-instant => void",GN("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},yj=new d.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function vj(){return!1}}),Tk=new d.OlP("MAT_DRAWER_CONTAINER");let tS=(()=>{class n extends wE{constructor(t,i,r,a,l){super(r,a,l),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO),d.Y36((0,d.Gpc)(()=>XN)),d.Y36(d.SBq),d.Y36(Dk),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&d.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[d._Bn([{provide:wE,useExisting:n}]),d.qOj],ngContentSelectors:eS,decls:1,vars:0,template:function(t,i){1&t&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),QN=(()=>{class n{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=mr(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=mr(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(mr(t))}constructor(t,i,r,a,l,f,_,b){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=a,this._ngZone=l,this._interactivityChecker=f,this._doc=_,this._container=b,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new mn.x,this._animationEnd=new mn.x,this._animationState="void",this.openedChange=new d.vpe(!0),this._openedStream=this.openedChange.pipe(In(C=>C),(0,gt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(In(C=>C.fromState!==C.toState&&0===C.toState.indexOf("open")),Ga(void 0)),this._closedStream=this.openedChange.pipe(In(C=>!C),(0,gt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(In(C=>C.fromState!==C.toState&&"void"===C.toState),Ga(void 0)),this._destroyed=new mn.x,this.onPositionChanged=new d.vpe,this._modeChanged=new mn.x,this.openedChange.subscribe(C=>{C?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Ig(this._elementRef.nativeElement,"keydown").pipe(In(C=>27===C.keyCode&&!this.disableClose&&!function vk(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(C)),Fs(this._destroyed)).subscribe(C=>this._ngZone.run(()=>{this.close(),C.stopPropagation(),C.preventDefault()}))}),this._animationEnd.pipe((0,ob.x)((C,M)=>C.fromState===M.fromState&&C.toState===M.toState)).subscribe(C=>{const{fromState:M,toState:B}=C;(0===B.indexOf("open")&&"void"===M||"void"===B&&0===M.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(hi(1)).subscribe(l=>a(l?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(kU),d.Y36(fN),d.Y36(No),d.Y36(d.R0b),d.Y36(aN),d.Y36(ce,8),d.Y36(Tk,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&d.Gf(cj,5),2&t){let r;d.iGM(r=d.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&d.WFA("@transform.start",function(a){return i._animationStarted.next(a)})("@transform.done",function(a){return i._animationEnd.next(a)}),2&t&&(d.uIk("align",null),d.d8E("@transform",i._animationState),d.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:eS,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(d.F$t(),d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA())},dependencies:[wE],encapsulation:2,data:{animation:[YN.transformDrawer]},changeDetection:0}),n})(),XN=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=mr(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:mr(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,r,a,l,f=!1,_){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=a,this._animationMode=_,this._drawers=new d.n_E,this.backdropClick=new d.vpe,this._destroyed=new mn.x,this._doCheckSubject=new mn.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new mn.x,t&&t.change.pipe(Fs(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),l.change().pipe(Fs(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}ngAfterContentInit(){this._allDrawers.changes.pipe(Br(this._allDrawers),Fs(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Br(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(_E(10),Fs(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(In(i=>i.fromState!==i.toState),Fs(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Fs(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Fs(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(hi(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Fs((0,hE.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(gN,8),d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(d.sBO),d.Y36(oj),d.Y36(yj),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(d.Suo(r,tS,5),d.Suo(r,QN,5)),2&t){let a;d.iGM(a=d.CRH())&&(i._content=a.first),d.iGM(a=d.CRH())&&(i._allDrawers=a)}},viewQuery:function(t,i){if(1&t&&d.Gf(tS,5),2&t){let r;d.iGM(r=d.CRH())&&(i._userContent=r.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[d._Bn([{provide:Tk,useExisting:n}])],ngContentSelectors:hj,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(d.F$t(dj),d.YNc(0,lj,1,2,"div",0),d.Hsn(1),d.Hsn(2,1),d.YNc(3,uj,2,0,"mat-drawer-content",1)),2&t&&(d.Q6J("ngIf",i.hasBackdrop),d.xp6(3),d.Q6J("ngIf",!i._content))},dependencies:[ss,tS],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),Ak=(()=>{class n extends tS{constructor(t,i,r,a,l){super(t,i,r,a,l)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO),d.Y36((0,d.Gpc)(()=>eP)),d.Y36(d.SBq),d.Y36(Dk),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,i){2&t&&d.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[d._Bn([{provide:wE,useExisting:n}]),d.qOj],ngContentSelectors:eS,decls:1,vars:0,template:function(t,i){1&t&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),JN=(()=>{class n extends QN{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=mr(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=ZD(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=ZD(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(d.uIk("align",null),d.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),d.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[d.qOj],ngContentSelectors:eS,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(d.F$t(),d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA())},dependencies:[wE],encapsulation:2,data:{animation:[YN.transformDrawer]},changeDetection:0}),n})(),eP=(()=>{class n extends XN{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,r){if(1&t&&(d.Suo(r,Ak,5),d.Suo(r,JN,5)),2&t){let a;d.iGM(a=d.CRH())&&(i._content=a.first),d.iGM(a=d.CRH())&&(i._allDrawers=a)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[d._Bn([{provide:Tk,useExisting:n}]),d.qOj],ngContentSelectors:gj,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(d.F$t(pj),d.YNc(0,fj,1,2,"div",0),d.Hsn(1),d.Hsn(2,1),d.YNc(3,mj,2,0,"mat-sidenav-content",1)),2&t&&(d.Q6J("ngIf",i.hasBackdrop),d.xp6(3),d.Q6J("ngIf",!i._content))},dependencies:[ss,Ak],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),bj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Gi,Po,zN,zN,Po]}),n})();class Mk{}class dh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),l=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(l):this.headers.set(a,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof dh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new dh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof dh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let l=this.headers.get(t);if(!l)return;l=l.filter(f=>-1===a.indexOf(f)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(a=>a.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class wj{encodeKey(e){return nP(e)}encodeValue(e){return nP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const xj=/%(\d[a-f0-9])/gi,Ij={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nP(n){return encodeURIComponent(n).replace(xj,(e,t)=>Ij[t]??e)}function nS(n){return`${n}`}class am{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new wj,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ej(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[l,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(l)||[];_.push(f),t.set(l,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(nS):[nS(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new am({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(nS(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(nS(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Cj{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function iP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function rP(n){return typeof Blob<"u"&&n instanceof Blob}function oP(n){return typeof FormData<"u"&&n instanceof FormData}class xE{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Dj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new dh),this.context||(this.context=new Cj),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+l}}else this.params=new am,this.urlWithParams=t}serializeBody(){return null===this.body?null:iP(this.body)||rP(this.body)||oP(this.body)||function Sj(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof am?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oP(this.body)?null:rP(this.body)?this.body.type||null:iP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof am?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,b=e.params||this.params;const C=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((M,B)=>M.set(B,e.setHeaders[B]),_)),e.setParams&&(b=Object.keys(e.setParams).reduce((M,B)=>M.set(B,e.setParams[B]),b)),new xE(t,i,a,{params:b,headers:_,context:C,reportProgress:f,responseType:r,withCredentials:l})}}var Rk=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Rk||{});class Tj{constructor(e,t=200,i="OK"){this.headers=e.headers||new dh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class IE extends Tj{constructor(e={}){super(e),this.type=Rk.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new IE({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function Ok(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Nk=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof xE)a=t;else{let _,b;_=r.headers instanceof dh?r.headers:new dh(r.headers),r.params&&(b=r.params instanceof am?r.params:new am({fromObject:r.params})),a=new xE(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=(0,ft.of)(a).pipe(xr(_=>this.handler.handle(_)));if(t instanceof xE||"events"===r.observe)return l;const f=l.pipe(In(_=>_ instanceof IE));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,gt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,gt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,gt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,gt.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new am).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Ok(r,i))}post(t,i,r={}){return this.request("POST",t,Ok(r,i))}put(t,i,r={}){return this.request("PUT",t,Ok(r,i))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Mk))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Zj=["*"];let oS;function CE(n){return function Kj(){if(void 0===oS&&(oS=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(oS=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return oS}()?.createHTML(n)||n}function pP(n){return Error(`Unable to find icon with the name "${n}"`)}function gP(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function _P(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Dg{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let sS=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new Dg(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const l=this._sanitizer.sanitize(d.q3G.HTML,r);if(!l)throw _P(r);const f=CE(l);return this._addSvgIconConfig(t,i,new Dg("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Dg(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(d.q3G.HTML,i);if(!a)throw _P(i);const l=CE(a);return this._addSvgIconSetConfig(t,new Dg("",l,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,t);if(!i)throw gP(t);const r=this._cachedIconsByUrl.get(i);return r?(0,ft.of)(aS(r)):this._loadSvgIconFromConfig(new Dg(t,null)).pipe((0,$n.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,gt.U)(a=>aS(a)))}getNamedSvgIcon(t,i=""){const r=yP(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const l=this._iconSetConfigs.get(i);return l?this._getSvgFromIconSetConfigs(t,l):Io(pP(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,ft.of)(aS(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,gt.U)(i=>aS(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?(0,ft.of)(r):function tP(...n){const e=(0,Eo.jO)(n),{args:t,keys:i}=Bl(n),r=new oi.y(a=>{const{length:l}=t;if(!l)return void a.complete();const f=new Array(l);let _=l,b=l;for(let C=0;C<l;C++){let M=!1;(0,eo.Xf)(t[C]).subscribe((0,Bi.x)(a,B=>{M||(M=!0,b--),f[C]=B},()=>_--,void 0,()=>{(!_||!M)&&(b||a.next(i?Ba(i,f):f),a.complete())}))}});return e?r.pipe(Ws(e)):r}(i.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(Ui(f=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,l.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(b)),(0,ft.of)(null)})))).pipe((0,gt.U)(()=>{const l=this._extractIconWithNameFromAnySet(t,i);if(!l)throw pP(t);return l}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const l=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(l,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,$n.b)(i=>t.svgText=i),(0,gt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,ft.of)(null):this._fetchIcon(t).pipe((0,$n.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const l=a.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,r);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),r);const f=this._svgElementFromString(CE("<svg></svg>"));return f.appendChild(l),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(CE("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:l,value:f}=r[a];"id"!==l&&i.setAttribute(l,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,a=r?.withCredentials??!1;if(!this._httpClient)throw function Yj(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const l=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,i);if(!l)throw gP(i);const f=this._inProgressUrlFetches.get(l);if(f)return f;const _=this._httpClient.get(l,{responseType:"text",withCredentials:a}).pipe((0,gt.U)(b=>CE(b)),Zs(()=>this._inProgressUrlFetches.delete(l)),(0,dO.B)());return this._inProgressUrlFetches.set(l,_),_}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(yP(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return Xj(a)?new Dg(a.url,null,a.options):new Dg(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Nk,8),d.LFG(Gs),d.LFG(ce,8),d.LFG(d.qLn))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aS(n){return n.cloneNode(!0)}function yP(n,e){return n+":"+e}function Xj(n){return!(!n.url||!n.options)}const Jj=Ek(class{constructor(n){this._elementRef=n}}),e4=new d.OlP("MAT_ICON_DEFAULT_OPTIONS"),t4=new d.OlP("mat-icon-location",{providedIn:"root",factory:function n4(){const n=(0,d.f3M)(ce),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),vP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],i4=vP.map(n=>`[${n}]`).join(", "),r4=/^url\(['"]?#(.*?)['"]?\)$/;let o4=(()=>{class n extends Jj{get inline(){return this._inline}set inline(t){this._inline=mr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,a,l,f){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ja.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(l=>{a.setAttribute(l.name,`url('${t}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(i4),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)vP.forEach(l=>{const f=i[a],_=f.getAttribute(l),b=_?_.match(r4):null;if(b){let C=r.get(f);C||(C=[],r.set(f,C)),C.push({name:l,value:b[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(hi(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(sS),d.$8M("aria-hidden"),d.Y36(t4),d.Y36(d.qLn),d.Y36(e4,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(d.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),d.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:Zj,decls:1,vars:0,template:function(t,i){1&t&&(d.F$t(),d.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),s4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Po,Po]}),n})(),bP=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a4=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Eg(t);return new oi.y(r=>{const l=this._observeElement(i).subscribe(r);return()=>{l.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new mn.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(bP))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wP=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=mr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=ZD(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new d.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(_E(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(a4),d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),c4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[bP]}),n})(),l4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Po,Po]}),n})();const DF=["*"],TF=["unscopedContent"],cH=["text"],lH=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],uH=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],AF=new d.OlP("ListOption");let MF=(()=>{class n{constructor(t){this._elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]}),n})(),kF=(()=>{class n{constructor(t){this._elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]}),n})(),TH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]}),n})(),RF=(()=>{class n{constructor(t){this._listOption=t}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(AF,8))},n.\u0275dir=d.lG2({type:n,hostVars:4,hostBindings:function(t,i){2&t&&d.ekj("mdc-list-item__start",i._isAlignedAtStart())("mdc-list-item__end",!i._isAlignedAtStart())}}),n})(),AH=(()=>{class n extends RF{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[d.qOj]}),n})(),MH=(()=>{class n extends RF{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[d.qOj]}),n})();const kH=new d.OlP("MAT_LIST_CONFIG");let Ev=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,d.f3M)(kH,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=mr(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=mr(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,hostVars:1,hostBindings:function(t,i){2&t&&d.uIk("aria-disabled",i.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}}),n})(),r1=(()=>{class n{set lines(t){this._explicitLines=ZD(t,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=mr(t)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(t){this._disabled=mr(t)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(t,i,r,a,l,f){this._elementRef=t,this._ngZone=i,this._listBase=r,this._platform=a,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new ja.w0,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=l||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===f,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new bv(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,hE.T)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const a=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",a),r.classList.toggle("mdc-list-item__secondary-text",!a)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!(!t.textContent||!t.textContent.trim()))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Ev,8),d.Y36(No),d.Y36(vE,8),d.Y36(d.QbO,8))},n.\u0275dir=d.lG2({type:n,contentQueries:function(t,i,r){if(1&t&&(d.Suo(r,AH,4),d.Suo(r,MH,4)),2&t){let a;d.iGM(a=d.CRH())&&(i._avatars=a),d.iGM(a=d.CRH())&&(i._icons=a)}},hostVars:4,hostBindings:function(t,i){2&t&&(d.uIk("aria-disabled",i.disabled)("disabled",i._isButtonElement&&i.disabled||null),d.ekj("mdc-list-item--disabled",i.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}}),n})(),RH=(()=>{class n extends r1{get activated(){return this._activated}set activated(t){this._activated=mr(t)}constructor(t,i,r,a,l,f){super(t,i,r,a,l,f),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Ev,8),d.Y36(No),d.Y36(vE,8),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(d.Suo(r,kF,5),d.Suo(r,MF,5),d.Suo(r,TH,5)),2&t){let a;d.iGM(a=d.CRH())&&(i._lines=a),d.iGM(a=d.CRH())&&(i._titles=a),d.iGM(a=d.CRH())&&(i._meta=a)}},viewQuery:function(t,i){if(1&t&&(d.Gf(TF,5),d.Gf(cH,5)),2&t){let r;d.iGM(r=d.CRH())&&(i._unscopedContent=r.first),d.iGM(r=d.CRH())&&(i._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(t,i){2&t&&(d.uIk("aria-current",i._getAriaCurrent()),d.ekj("mdc-list-item--activated",i.activated)("mdc-list-item--with-leading-avatar",0!==i._avatars.length)("mdc-list-item--with-leading-icon",0!==i._icons.length)("mdc-list-item--with-trailing-meta",0!==i._meta.length)("_mat-animation-noopable",i._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[d.qOj],ngContentSelectors:uH,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(t,i){1&t&&(d.F$t(lH),d.Hsn(0),d.TgZ(1,"span",0),d.Hsn(2,1),d.Hsn(3,2),d.TgZ(4,"span",1,2),d.NdJ("cdkObserveContent",function(){return i._updateItemLines(!0)}),d.Hsn(6,3),d.qZA()(),d.Hsn(7,4),d.Hsn(8,5),d._UZ(9,"div",3))},dependencies:[wP],encapsulation:2,changeDetection:0}),n})(),NH=(()=>{class n extends Ev{constructor(){super(...arguments),this._isNonInteractive=!1}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[d._Bn([{provide:Ev,useExisting:n}]),d.qOj],ngContentSelectors:DF,decls:1,vars:0,template:function(t,i){1&t&&(d.F$t(),d.Hsn(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0}),n})(),VH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[c4,Gi,Po,CN,XU,l4]}),n})();function BH(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",6),d.NdJ("click",function(){d.CHM(t),d.oxw();const r=d.MAs(2);return d.KtG(r.toggle())}),d.TgZ(1,"mat-icon",7),d._uU(2,"menu"),d.qZA()()}}const UH=["*"];let jH=(()=>{class n{constructor(){this.breakpointObserver=(0,d.f3M)(iN),this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe((0,gt.U)(t=>t.matches),$M())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-menu"]],ngContentSelectors:UH,decls:22,vars:15,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","",3,"routerLink"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(t,i){1&t&&(d.F$t(),d.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2),d.ALo(3,"async"),d.ALo(4,"async"),d.ALo(5,"async"),d.TgZ(6,"mat-toolbar"),d._uU(7,"Menu"),d.qZA(),d.TgZ(8,"mat-nav-list")(9,"a",3),d._uU(10,"Home"),d.qZA(),d.TgZ(11,"a",3),d._uU(12,"Page 2"),d.qZA(),d.TgZ(13,"a",3),d._uU(14,"Page 3"),d.qZA()()(),d.TgZ(15,"mat-sidenav-content")(16,"mat-toolbar",4),d.YNc(17,BH,3,0,"button",5),d.ALo(18,"async"),d.TgZ(19,"span"),d._uU(20,"Pichamon Wongpithak"),d.qZA()(),d.Hsn(21),d.qZA()()),2&t&&(d.xp6(1),d.Q6J("mode",d.lcZ(4,9,i.isHandset$)?"over":"side")("opened",!1===d.lcZ(5,11,i.isHandset$)),d.uIk("role",d.lcZ(3,7,i.isHandset$)?"dialog":"navigation"),d.xp6(8),d.Q6J("routerLink",""),d.xp6(2),d.Q6J("routerLink","/page2"),d.xp6(2),d.Q6J("routerLink","/page3"),d.xp6(4),d.Q6J("ngIf",d.lcZ(18,13,i.isHandset$)))},dependencies:[ss,x_,P3,h3,JN,eP,Ak,o4,NH,RH,yc],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}"]}),n})(),HH=(()=>{class n{constructor(){this.title="web_firebase"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,i){1&t&&(d.TgZ(0,"app-menu"),d._UZ(1,"router-outlet"),d.qZA())},dependencies:[Hv,jH]}),n})();const hm=new oi.y(bk.Z),$H={connector:()=>new mn.x};function NF(n,e=$H){const{connector:t}=e;return(0,Si.e)((i,r)=>{const a=t();(0,eo.Xf)(n(function zH(n){return new oi.y(e=>n.subscribe(e))}(a))).subscribe(r),r.add(i.subscribe(a))})}function PF(n,e){return e?t=>xo(e.pipe(hi(1),function qH(){return(0,Si.e)((n,e)=>{n.subscribe((0,Bi.x)(e,bk.Z))})}()),t.pipe(PF(n))):(0,yi.z)((t,i)=>(0,eo.Xf)(n(t,i)).pipe(hi(1),Ga(t)))}const kE="Service workers are disabled or not supported by this browser";class _S{constructor(e){if(this.serviceWorker=e,e){const i=Ig(e,"controllerchange").pipe((0,gt.U)(()=>e.controller)),a=xo(Wu(()=>(0,ft.of)(e.controller)),i);this.worker=a.pipe(In(C=>!!C)),this.registration=this.worker.pipe((0,zn.w)(()=>e.getRegistration()));const b=Ig(e,"message").pipe((0,gt.U)(C=>C.data)).pipe(In(C=>C&&C.type)).pipe(function WH(n){return n?e=>NF(n)(e):e=>function GH(n,e){const t=(0,Di.m)(n)?n:()=>n;return(0,Di.m)(e)?NF(e,{connector:t}):i=>new Er(i,t)}(new mn.x)(e)}());b.connect(),this.events=b}else this.worker=this.events=this.registration=function KH(n){return Wu(()=>Io(new Error(n)))}(kE)}postMessage(e,t){return this.worker.pipe(hi(1),(0,$n.b)(i=>{i.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const r=this.waitForOperationCompleted(i),a=this.postMessage(e,t);return Promise.all([a,r]).then(([,l])=>l)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe(In(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(hi(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(In(t=>t.nonce===e),hi(1),(0,gt.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let FF=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new mn.x,!t.isEnabled)return this.messages=hm,this.notificationClicks=hm,void(this.subscription=hm);this.messages=this.sw.eventsOfType("PUSH").pipe((0,gt.U)(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,gt.U)(r=>r.data)),this.pushManager=this.sw.registration.pipe((0,gt.U)(r=>r.pushManager));const i=this.pushManager.pipe((0,zn.w)(r=>r.getSubscription()));this.subscription=(0,hE.T)(i,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(kE));const i={userVisibleOnly:!0};let r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(r.length));for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);return i.applicationServerKey=a,this.pushManager.pipe((0,zn.w)(l=>l.subscribe(i)),hi(1)).toPromise().then(l=>(this.subscriptionChanges.next(l),l))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(hi(1),(0,zn.w)(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(kE))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_S))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),LF=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=hm,this.available=hm,this.activated=hm,void(this.unrecoverable=hm);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(In(i=>"VERSION_READY"===i.type),(0,gt.U)(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(kE));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(kE));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_S))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const VF=new d.OlP("NGSW_REGISTER_SCRIPT");function YH(n,e,t,i){return()=>{if(!us(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)r=t.registrationStrategy();else{const[l,...f]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(l){case"registerImmediately":r=(0,ft.of)(null);break;case"registerWithDelay":r=BF(+f[0]||0);break;case"registerWhenStable":r=f[0]?(0,hE.T)(UF(n),BF(+f[0])):UF(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(d.R0b).runOutsideAngular(()=>r.pipe(hi(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(l=>console.error("Service worker registration failed with:",l))))}}function BF(n){return(0,ft.of)(null).pipe(function ZH(n,e=M_.z){const t=jN(n,e);return PF(()=>t)}(n))}function UF(n){return n.get(d.z2F).isStable.pipe(In(t=>t))}function QH(n,e){return new _S(us(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class o1{}function XH(n,e={}){return(0,d.MR2)([FF,LF,{provide:VF,useValue:n},{provide:o1,useValue:e},{provide:_S,useFactory:QH,deps:[o1,d.Lbi]},{provide:d.ip1,useFactory:YH,deps:[d.zs3,VF,o1,d.Lbi],multi:!0}])}let JH=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[XH(t,i)]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[FF,LF]}),n})();function jF(n){return new d.vHH(3e3,!1)}function fm(n){switch(n.length){case 0:return new EE;case 1:return n[0];default:return new KN(n)}}function HF(n,e,t=new Map,i=new Map){const r=[],a=[];let l=-1,f=null;if(e.forEach(_=>{const b=_.get("offset"),C=b==l,M=C&&f||new Map;_.forEach((B,G)=>{let Y=G,ie=B;if("offset"!==G)switch(Y=n.normalizePropertyName(Y,r),ie){case"!":ie=t.get(G);break;case uh:ie=i.get(G);break;default:ie=n.normalizeStyleValue(G,Y,ie,r)}M.set(Y,ie)}),C||a.push(M),f=M,l=b}),r.length)throw function Ez(n){return new d.vHH(3502,!1)}();return a}function s1(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&a1(t,"start",n)));break;case"done":n.onDone(()=>i(t&&a1(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&a1(t,"destroy",n)))}}function a1(n,e,t){const a=c1(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function c1(n,e,t,i,r="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!l}}function ha(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function zF(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Nz=(()=>typeof document>"u"?null:document.documentElement)();function l1(n){const e=n.parentNode||n.host||null;return e===Nz?null:e}let Ag=null,$F=!1;function GF(n,e){for(;e;){if(e===n)return!0;e=l1(e)}return!1}function WF(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let qF=(()=>{class n{validateStyleProperty(t){return function Fz(n){Ag||(Ag=function Lz(){return typeof document<"u"?document.body:null}()||{},$F=!!Ag.style&&"WebkitAppearance"in Ag.style);let e=!0;return Ag.style&&!function Pz(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ag.style,!e&&$F&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ag.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return GF(t,i)}getParentElement(t){return l1(t)}query(t,i,r){return WF(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,l,f=[],_){return new EE(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),u1=(()=>{class n{}return n.NOOP=new qF,n})();const Vz=1e3,d1="ng-enter",yS="ng-leave",vS="ng-trigger",bS=".ng-trigger",KF="ng-animating",h1=".ng-animating";function hh(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:f1(parseFloat(e[1]),e[2])}function f1(n,e){return"s"===e?n*Vz:n}function wS(n,e,t){return n.hasOwnProperty("duration")?n:function Uz(n,e,t){let r,a=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(jF()),{duration:0,delay:0,easing:""};r=f1(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=f1(parseFloat(_),f[4]));const b=f[5];b&&(l=b)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function ez(){return new d.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function tz(){return new d.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,jF())}return{duration:r,delay:a,easing:l}}(n,e,t)}function RE(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function YF(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function mm(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function yu(n,e,t){e.forEach((i,r)=>{const a=p1(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i})}function Mg(n,e){e.forEach((t,i)=>{const r=p1(i);n.style[r]=""})}function OE(n){return Array.isArray(n)?1==n.length?n[0]:WN(n):n}const m1=new RegExp("{{\\s*(.+?)\\s*}}","g");function XF(n){let e=[];if("string"==typeof n){let t;for(;t=m1.exec(n);)e.push(t[1]);m1.lastIndex=0}return e}function NE(n,e,t){const i=n.toString(),r=i.replace(m1,(a,l)=>{let f=e[l];return null==f&&(t.push(function iz(n){return new d.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function ES(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const zz=/-+([a-z0-9])/g;function p1(n){return n.replace(zz,(...e)=>e[1].toUpperCase())}function fa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function rz(n){return new d.vHH(3004,!1)}()}}function JF(n,e){return window.getComputedStyle(n)[e]}const xS="*";function Wz(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function qz(n,e,t){if(":"==n[0]){const _=function Zz(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function yz(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function _z(n){return new d.vHH(3015,!1)}()),e;const r=i[1],a=i[2],l=i[3];e.push(eL(r,l));"<"==a[0]&&!(r==xS&&l==xS)&&e.push(eL(l,r))}(i,t,e)):t.push(n),t}const IS=new Set(["true","1"]),CS=new Set(["false","0"]);function eL(n,e){const t=IS.has(n)||CS.has(n),i=IS.has(e)||CS.has(e);return(r,a)=>{let l=n==xS||n==r,f=e==xS||e==a;return!l&&t&&"boolean"==typeof r&&(l=r?IS.has(n):CS.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?IS.has(e):CS.has(e)),l&&f}}const Kz=new RegExp("s*:selfs*,?","g");function g1(n,e,t,i){return new Yz(n).build(e,t,i)}class Yz{constructor(e){this._driver=e}build(e,t,i){const r=new Jz(t);return this._resetContextStyleTimingState(r),fa(this,OE(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function sz(){return new d.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(C=>{_.name=C,a.push(this.visitState(_,t))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,l.push(_)}else t.errors.push(function az(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,l=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{XF(_).forEach(b=>{l.hasOwnProperty(b)||a.add(b)})})}),a.size&&(ES(a.values()),t.errors.push(function cz(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=fa(this,OE(e.animation),t);return{type:1,matchers:Wz(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:kg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>fa(this,i,t)),options:kg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(l=>{t.currentTime=i;const f=fa(this,l,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:kg(e.options)}}visitAnimate(e,t){const i=function t$(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return _1(wS(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=_1(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=wS(t,e);return _1(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:JD({});if(5==a.type)r=this.visitKeyframes(a,t);else{let l=e.styles,f=!1;if(!l){f=!0;const b={};i.easing&&(b.easing=i.easing),l=JD(b)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(l,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===uh?i.push(f):t.errors.push(new d.vHH(3002,!1)):i.push(YF(f));let a=!1,l=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,_)=>{const b=t.collectedStyles.get(t.currentQuerySelector),C=b.get(_);let M=!0;C&&(a!=r&&a>=C.startTime&&r<=C.endTime&&(t.errors.push(function uz(n,e,t,i,r){return new d.vHH(3010,!1)}()),M=!1),a=C.startTime),M&&b.set(_,{startTime:a,endTime:r}),t.options&&function Hz(n,e,t){const i=e.params||{},r=XF(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function nz(n){return new d.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function dz(){return new d.vHH(3011,!1)}()),i;let a=0;const l=[];let f=!1,_=!1,b=0;const C=e.steps.map(Ge=>{const nt=this._makeStyleAst(Ge,t);let Ye=null!=nt.offset?nt.offset:function e$(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(nt.styles),Xe=0;return null!=Ye&&(a++,Xe=nt.offset=Ye),_=_||Xe<0||Xe>1,f=f||Xe<b,b=Xe,l.push(Xe),nt});_&&t.errors.push(function hz(){return new d.vHH(3012,!1)}()),f&&t.errors.push(function fz(){return new d.vHH(3200,!1)}());const M=e.steps.length;let B=0;a>0&&a<M?t.errors.push(function mz(){return new d.vHH(3202,!1)}()):0==a&&(B=1/(M-1));const G=M-1,Y=t.currentTime,ie=t.currentAnimateTimings,fe=ie.duration;return C.forEach((Ge,nt)=>{const Ye=B>0?nt==G?1:B*nt:l[nt],Xe=Ye*fe;t.currentTime=Y+ie.delay+Xe,ie.duration=Xe,this._validateStyleAst(Ge,t),Ge.offset=Ye,i.styles.push(Ge)}),i}visitReference(e,t){return{type:8,animation:fa(this,OE(e.animation),t),options:kg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:kg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:kg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function Qz(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Kz,"")),n=n.replace(/@\*/g,bS).replace(/@\w+/g,t=>bS+"-"+t.slice(1)).replace(/:animating/g,h1),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,ha(t.collectedStyles,t.currentQuerySelector,new Map);const f=fa(this,OE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:kg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function pz(){return new d.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:wS(e.timings,t.errors,!0);return{type:12,animation:fa(this,OE(e.animation),t),timings:i,options:null}}}class Jz{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function kg(n){return n?(n=RE(n)).params&&(n.params=function Xz(n){return n?RE(n):null}(n.params)):n={},n}function _1(n,e,t){return{duration:n,delay:e,easing:t}}function y1(n,e,t,i,r,a,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:l,subTimeline:f}}class DS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const r$=new RegExp(":enter","g"),s$=new RegExp(":leave","g");function v1(n,e,t,i,r,a=new Map,l=new Map,f,_,b=[]){return(new a$).buildKeyframes(n,e,t,i,r,a,l,f,_,b)}class a${buildKeyframes(e,t,i,r,a,l,f,_,b,C=[]){b=b||new DS;const M=new b1(e,t,b,r,a,C,[]);M.options=_;const B=_.delay?hh(_.delay):0;M.currentTimeline.delayNextStep(B),M.currentTimeline.setStyles([l],null,M.errors,_),fa(this,i,M);const G=M.timelines.filter(Y=>Y.containsAnimation());if(G.length&&f.size){let Y;for(let ie=G.length-1;ie>=0;ie--){const fe=G[ie];if(fe.element===t){Y=fe;break}}Y&&!Y.allowOnlyTimelineStyles()&&Y.setStyles([f],null,M.errors,_)}return G.length?G.map(Y=>Y.buildKeyframes()):[y1(t,[],[],[],0,B,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const l="number"==typeof a?a:hh(NE(a,r?.params??{},t.errors));i.delayNextStep(l)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const l=null!=i.duration?hh(i.duration):null,f=null!=i.delay?hh(i.delay):null;return 0!==l&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,l,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),fa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=SS);const l=hh(a.delay);r.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>fa(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?hh(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),fa(this,l,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return wS(t.params?NE(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?hh(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=SS);let l=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((b,C)=>{t.currentQueryIndex=C;const M=t.createSubContext(e.options,b);a&&M.delayNextStep(a),b===t.element&&(_=M.currentTimeline),fa(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),f=l*(t.currentQueryTotal-1);let _=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const C=t.currentTimeline;_&&C.delayNextStep(_);const M=C.currentTime;fa(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-M+(r.startTime-i.currentTimeline.startTime)}}const SS={};class b1{constructor(e,t,i,r,a,l,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=SS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new TS(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=hh(i.duration)),null!=i.delay&&(r.delay=hh(i.delay));const a=i.params;if(a){let l=r.params;l||(l=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=NE(a[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new b1(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=SS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new c$(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,l){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(r$,"."+this._enterClassName)).replace(s$,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),f.push(...b)}return!a&&0==f.length&&l.push(function gz(n){return new d.vHH(3014,!1)}()),f}}class TS{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new TS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||uh),this._currentKeyframe.set(t,uh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},l=function l$(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,uh)}else mm(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of l){const b=NE(_,a,i);this._pendingStyles.set(f,b),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??uh),this._updateStyle(f,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const b=mm(f,new Map,this._backFill);b.forEach((C,M)=>{"!"===C?e.add(M):C===uh&&t.add(M)}),i||b.set("offset",_/this.duration),r.push(b)});const a=e.size?ES(e.values()):[],l=t.size?ES(t.values()):[];if(i){const f=r[0],_=new Map(f);f.set("offset",0),_.set("offset",1),r=[f,_]}return y1(this.element,r,a,l,this.duration,this.startTime,this.easing,!1)}}class c$ extends TS{constructor(e,t,i,r,a,l,f=!1){super(e,t,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=i+t,f=t/l,_=mm(e[0]);_.set("offset",0),a.push(_);const b=mm(e[0]);b.set("offset",iL(f)),a.push(b);const C=e.length-1;for(let M=1;M<=C;M++){let B=mm(e[M]);const G=B.get("offset");B.set("offset",iL((t+G*i)/l)),a.push(B)}i=l,t=0,r="",e=a}return y1(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function iL(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class w1{}const u$=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class d$ extends w1{normalizePropertyName(e,t){return p1(e)}normalizeStyleValue(e,t,i,r){let a="";const l=i.toString().trim();if(u$.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function oz(n,e){return new d.vHH(3005,!1)}())}return l+a}}function rL(n,e,t,i,r,a,l,f,_,b,C,M,B){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:l,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:C,totalTime:M,errors:B}}const E1={};class oL{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function h$(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,l,f,_,b,C){const M=[],B=this.ast.options&&this.ast.options.params||E1,Y=this.buildStyles(i,f&&f.params||E1,M),ie=_&&_.params||E1,fe=this.buildStyles(r,ie,M),Ge=new Set,nt=new Map,Ye=new Map,Xe="void"===r,Ot={params:f$(ie,B),delay:this.ast.options?.delay},Lt=C?[]:v1(e,t,this.ast.animation,a,l,Y,fe,Ot,b,M);let gn=0;if(Lt.forEach(Vo=>{gn=Math.max(Vo.duration+Vo.delay,gn)}),M.length)return rL(t,this._triggerName,i,r,Xe,Y,fe,[],[],nt,Ye,gn,M);Lt.forEach(Vo=>{const ph=Vo.element,m2=ha(nt,ph,new Set);Vo.preStyleProps.forEach(Og=>m2.add(Og));const UE=ha(Ye,ph,new Set);Vo.postStyleProps.forEach(Og=>UE.add(Og)),ph!==t&&Ge.add(ph)});const Ni=ES(Ge.values());return rL(t,this._triggerName,i,r,Xe,Y,fe,Lt,Ni,nt,Ye,gn)}}function f$(n,e){const t=RE(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class m${constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=RE(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(r[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,f)=>{l&&(l=NE(l,r,t));const _=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,_,l,t),i.set(f,l)})}),i}}class g${constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new m$(r.style,r.options&&r.options.params||{},i))}),sL(this.states,"true","1"),sL(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new oL(e,r,this.states))}),this.fallbackTransition=function _$(n,e,t){return new oL(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(l=>l.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function sL(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const y$=new DS;class v${constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=g1(this._driver,t,i,[]);if(i.length)throw function xz(n){return new d.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=HF(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let l;const f=new Map;if(a?(l=v1(this._driver,t,a,d1,yS,new Map,new Map,i,y$,r),l.forEach(C=>{const M=ha(f,C.element,new Map);C.postStyleProps.forEach(B=>M.set(B,null))})):(r.push(function Iz(){return new d.vHH(3300,!1)}()),l=[]),r.length)throw function Cz(n){return new d.vHH(3504,!1)}();f.forEach((C,M)=>{C.forEach((B,G)=>{C.set(G,this._driver.computeStyle(M,G,uh))})});const b=fm(l.map(C=>{const M=f.get(C.element);return this._buildPlayer(C,new Map,M)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Dz(n){return new d.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=c1(t,"","","");return s1(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const aL="ng-animate-queued",x1="ng-animate-disabled",I$=[],cL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},C$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vl="__ng_removed";class I1{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function A$(n){return n??null}(i?e.value:e),i){const a=RE(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const PE="void",C1=new I1(PE);class D${constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,uc(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Sz(n,e){return new d.vHH(3302,!1)}();if(null==i||0==i.length)throw function Tz(n){return new d.vHH(3303,!1)}();if(!function M$(n){return"start"==n||"done"==n}(i))throw function Az(n,e){return new d.vHH(3400,!1)}();const a=ha(this._elementListeners,e,[]),l={name:t,phase:i,callback:r};a.push(l);const f=ha(this._engine.statesByElement,e,new Map);return f.has(t)||(uc(e,vS),uc(e,vS+"-"+t),f.set(t,C1)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(l);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Mz(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),l=new D1(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(uc(e,vS),uc(e,vS+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const b=new I1(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f.set(t,b),_||(_=C1),b.value!==PE&&_.value===b.value){if(!function O$(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,b.params)){const ie=[],fe=a.matchStyles(_.value,_.params,ie),Ge=a.matchStyles(b.value,b.params,ie);ie.length?this._engine.reportError(ie):this._engine.afterFlush(()=>{Mg(e,fe),yu(e,Ge)})}return}const B=ha(this._engine.playersByElement,e,[]);B.forEach(ie=>{ie.namespaceId==this.id&&ie.triggerName==t&&ie.queued&&ie.destroy()});let G=a.matchTransition(_.value,b.value,e,b.params),Y=!1;if(!G){if(!r)return;G=a.fallbackTransition,Y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:G,fromState:_,toState:b,player:l,isFallbackTransition:Y}),Y||(uc(e,aL),l.onStart(()=>{xv(e,aL)})),l.onDone(()=>{let ie=this.players.indexOf(l);ie>=0&&this.players.splice(ie,1);const fe=this._engine.playersByElement.get(e);if(fe){let Ge=fe.indexOf(l);Ge>=0&&fe.splice(Ge,1)}}),this.players.push(l),B.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,bS,!0);i.forEach(r=>{if(r[vl])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(l=>l.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const f=[];if(a.forEach((_,b)=>{if(l.set(b,_.value),this._triggers.has(b)){const C=this.trigger(e,b,PE,r);C&&f.push(C)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),i&&fm(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const l=a.name;if(r.has(l))return;r.add(l);const _=this._triggers.get(l).fallbackTransition,b=i.get(l)||C1,C=new I1(PE),M=new D1(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:_,fromState:b,toState:C,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let l=e;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[vl];(!a||a===cL)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){uc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,l=this._elementListeners.get(a);l&&l.forEach(f=>{if(f.name==i.triggerName){const _=c1(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,s1(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class S${_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new D$(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const b=i.indexOf(_);i.splice(b+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(AS(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!AS(t))return;const a=t[vl];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),uc(e,x1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),xv(e,x1))}removeNode(e,t,i){if(AS(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[vl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return AS(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,bS,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,h1,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return fm(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[vl];if(t&&t.setForRemoval){if(e[vl]=cL,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(x1)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)uc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?fm(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function kz(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new DS,r=[],a=new Map,l=[],f=new Map,_=new Map,b=new Map,C=new Set;this.disabledNodes.forEach(St=>{C.add(St);const jt=this.driver.query(St,".ng-animate-queued",!0);for(let Kt=0;Kt<jt.length;Kt++)C.add(jt[Kt])});const M=this.bodyNode,B=Array.from(this.statesByElement.keys()),G=dL(B,this.collectedEnterElements),Y=new Map;let ie=0;G.forEach((St,jt)=>{const Kt=d1+ie++;Y.set(jt,Kt),St.forEach(Fn=>uc(Fn,Kt))});const fe=[],Ge=new Set,nt=new Set;for(let St=0;St<this.collectedLeaveElements.length;St++){const jt=this.collectedLeaveElements[St],Kt=jt[vl];Kt&&Kt.setForRemoval&&(fe.push(jt),Ge.add(jt),Kt.hasAnimation?this.driver.query(jt,".ng-star-inserted",!0).forEach(Fn=>Ge.add(Fn)):nt.add(jt))}const Ye=new Map,Xe=dL(B,Array.from(Ge));Xe.forEach((St,jt)=>{const Kt=yS+ie++;Ye.set(jt,Kt),St.forEach(Fn=>uc(Fn,Kt))}),e.push(()=>{G.forEach((St,jt)=>{const Kt=Y.get(jt);St.forEach(Fn=>xv(Fn,Kt))}),Xe.forEach((St,jt)=>{const Kt=Ye.get(jt);St.forEach(Fn=>xv(Fn,Kt))}),fe.forEach(St=>{this.processLeaveNode(St)})});const Ot=[],Lt=[];for(let St=this._namespaceList.length-1;St>=0;St--)this._namespaceList[St].drainQueuedTransitions(t).forEach(Kt=>{const Fn=Kt.player,Wr=Kt.element;if(Ot.push(Fn),this.collectedEnterElements.length){const Bo=Wr[vl];if(Bo&&Bo.setForMove){if(Bo.previousTriggersValues&&Bo.previousTriggersValues.has(Kt.triggerName)){const Ng=Bo.previousTriggersValues.get(Kt.triggerName),dc=this.statesByElement.get(Kt.element);if(dc&&dc.has(Kt.triggerName)){const BS=dc.get(Kt.triggerName);BS.value=Ng,dc.set(Kt.triggerName,BS)}}return void Fn.destroy()}}const Eu=!M||!this.driver.containsElement(M,Wr),pa=Ye.get(Wr),pm=Y.get(Wr),$i=this._buildInstruction(Kt,i,pm,pa,Eu);if($i.errors&&$i.errors.length)return void Lt.push($i);if(Eu)return Fn.onStart(()=>Mg(Wr,$i.fromStyles)),Fn.onDestroy(()=>yu(Wr,$i.toStyles)),void r.push(Fn);if(Kt.isFallbackTransition)return Fn.onStart(()=>Mg(Wr,$i.fromStyles)),Fn.onDestroy(()=>yu(Wr,$i.toStyles)),void r.push(Fn);const _2=[];$i.timelines.forEach(Bo=>{Bo.stretchStartingKeyframe=!0,this.disabledNodes.has(Bo.element)||_2.push(Bo)}),$i.timelines=_2,i.append(Wr,$i.timelines),l.push({instruction:$i,player:Fn,element:Wr}),$i.queriedElements.forEach(Bo=>ha(f,Bo,[]).push(Fn)),$i.preStyleProps.forEach((Bo,Ng)=>{if(Bo.size){let dc=_.get(Ng);dc||_.set(Ng,dc=new Set),Bo.forEach((BS,Z1)=>dc.add(Z1))}}),$i.postStyleProps.forEach((Bo,Ng)=>{let dc=b.get(Ng);dc||b.set(Ng,dc=new Set),Bo.forEach((BS,Z1)=>dc.add(Z1))})});if(Lt.length){const St=[];Lt.forEach(jt=>{St.push(function Rz(n,e){return new d.vHH(3505,!1)}())}),Ot.forEach(jt=>jt.destroy()),this.reportError(St)}const gn=new Map,Ni=new Map;l.forEach(St=>{const jt=St.element;i.has(jt)&&(Ni.set(jt,jt),this._beforeAnimationBuild(St.player.namespaceId,St.instruction,gn))}),r.forEach(St=>{const jt=St.element;this._getPreviousPlayers(jt,!1,St.namespaceId,St.triggerName,null).forEach(Fn=>{ha(gn,jt,[]).push(Fn),Fn.destroy()})});const Vo=fe.filter(St=>fL(St,_,b)),ph=new Map;uL(ph,this.driver,nt,b,uh).forEach(St=>{fL(St,_,b)&&Vo.push(St)});const UE=new Map;G.forEach((St,jt)=>{uL(UE,this.driver,new Set(St),_,"!")}),Vo.forEach(St=>{const jt=ph.get(St),Kt=UE.get(St);ph.set(St,new Map([...jt?.entries()??[],...Kt?.entries()??[]]))});const Og=[],p2=[],g2={};l.forEach(St=>{const{element:jt,player:Kt,instruction:Fn}=St;if(i.has(jt)){if(C.has(jt))return Kt.onDestroy(()=>yu(jt,Fn.toStyles)),Kt.disabled=!0,Kt.overrideTotalTime(Fn.totalTime),void r.push(Kt);let Wr=g2;if(Ni.size>1){let pa=jt;const pm=[];for(;pa=pa.parentNode;){const $i=Ni.get(pa);if($i){Wr=$i;break}pm.push(pa)}pm.forEach($i=>Ni.set($i,Wr))}const Eu=this._buildAnimation(Kt.namespaceId,Fn,gn,a,UE,ph);if(Kt.setRealPlayer(Eu),Wr===g2)Og.push(Kt);else{const pa=this.playersByElement.get(Wr);pa&&pa.length&&(Kt.parentPlayer=fm(pa)),r.push(Kt)}}else Mg(jt,Fn.fromStyles),Kt.onDestroy(()=>yu(jt,Fn.toStyles)),p2.push(Kt),C.has(jt)&&r.push(Kt)}),p2.forEach(St=>{const jt=a.get(St.element);if(jt&&jt.length){const Kt=fm(jt);St.setRealPlayer(Kt)}}),r.forEach(St=>{St.parentPlayer?St.syncPlayerEvents(St.parentPlayer):St.destroy()});for(let St=0;St<fe.length;St++){const jt=fe[St],Kt=jt[vl];if(xv(jt,yS),Kt&&Kt.hasAnimation)continue;let Fn=[];if(f.size){let Eu=f.get(jt);Eu&&Eu.length&&Fn.push(...Eu);let pa=this.driver.query(jt,h1,!0);for(let pm=0;pm<pa.length;pm++){let $i=f.get(pa[pm]);$i&&$i.length&&Fn.push(...$i)}}const Wr=Fn.filter(Eu=>!Eu.destroyed);Wr.length?k$(this,jt,Wr):this.processLeaveNode(jt)}return fe.length=0,Og.forEach(St=>{this.players.push(St),St.onDone(()=>{St.destroy();const jt=this.players.indexOf(St);this.players.splice(jt,1)}),St.play()}),Og}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==PE;f.forEach(b=>{b.queued||!_&&b.triggerName!=r||l.push(b)})}}return(i||r)&&(l=l.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),l}_beforeAnimationBuild(e,t,i){const a=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,C=b!==a,M=ha(i,b,[]);this._getPreviousPlayers(b,C,l,f,t.toState).forEach(G=>{const Y=G.getRealPlayer();Y.beforeDestroy&&Y.beforeDestroy(),G.destroy(),M.push(G)})}Mg(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,l){const f=t.triggerName,_=t.element,b=[],C=new Set,M=new Set,B=t.timelines.map(Y=>{const ie=Y.element;C.add(ie);const fe=ie[vl];if(fe&&fe.removedBeforeQueried)return new EE(Y.duration,Y.delay);const Ge=ie!==_,nt=function R$(n){const e=[];return hL(n,e),e}((i.get(ie)||I$).map(gn=>gn.getRealPlayer())).filter(gn=>!!gn.element&&gn.element===ie),Ye=a.get(ie),Xe=l.get(ie),Ot=HF(this._normalizer,Y.keyframes,Ye,Xe),Lt=this._buildPlayer(Y,Ot,nt);if(Y.subTimeline&&r&&M.add(ie),Ge){const gn=new D1(e,f,ie);gn.setRealPlayer(Lt),b.push(gn)}return Lt});b.forEach(Y=>{ha(this.playersByQueriedElement,Y.element,[]).push(Y),Y.onDone(()=>function T$(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,Y.element,Y))}),C.forEach(Y=>uc(Y,KF));const G=fm(B);return G.onDestroy(()=>{C.forEach(Y=>xv(Y,KF)),yu(_,t.toStyles)}),M.forEach(Y=>{ha(r,Y,[]).push(G)}),G}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new EE(e.duration,e.delay)}}class D1{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new EE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>s1(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ha(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function AS(n){return n&&1===n.nodeType}function lL(n,e){const t=n.style.display;return n.style.display=e??"none",t}function uL(n,e,t,i,r){const a=[];t.forEach(_=>a.push(lL(_)));const l=[];i.forEach((_,b)=>{const C=new Map;_.forEach(M=>{const B=e.computeStyle(b,M,r);C.set(M,B),(!B||0==B.length)&&(b[vl]=C$,l.push(b))}),n.set(b,C)});let f=0;return t.forEach(_=>lL(_,a[f++])),l}function dL(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function l(f){if(!f)return 1;let _=a.get(f);if(_)return _;const b=f.parentNode;return _=t.has(b)?b:r.has(b)?1:l(b),a.set(f,_),_}return e.forEach(f=>{const _=l(f);1!==_&&t.get(_).push(f)}),t}function uc(n,e){n.classList?.add(e)}function xv(n,e){n.classList?.remove(e)}function k$(n,e,t){fm(t).onDone(()=>n.processLeaveNode(e))}function hL(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof KN?hL(i.players,e):e.push(i)}}function fL(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class MS{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new S$(e,t,i),this._timelineEngine=new v$(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const l=e+"-"+r;let f=this._triggerCache[l];if(!f){const _=[],C=g1(this._driver,a,_,[]);if(_.length)throw function wz(n,e){return new d.vHH(3404,!1)}();f=function p$(n,e,t){return new g$(n,e,t)}(r,C,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,l]=zF(i);this._timelineEngine.command(a,t,l,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[l,f]=zF(i);return this._timelineEngine.listen(l,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let P$=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&yu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yu(this._element,this._initialStyles),this._endStyles&&(yu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Mg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mg(this._element,this._endStyles),this._endStyles=null),yu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function S1(n){let e=null;return n.forEach((t,i)=>{(function F$(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class mL{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:JF(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class L${validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return GF(e,t)}getParentElement(e){return l1(e)}query(e,t,i){return WF(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,l=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const b=new Map,C=l.filter(G=>G instanceof mL);(function $z(n,e){return 0===n||0===e})(i,r)&&C.forEach(G=>{G.currentSnapshot.forEach((Y,ie)=>b.set(ie,Y))});let M=function jz(n){return n.length?n[0]instanceof Map?n:n.map(e=>YF(e)):[]}(t).map(G=>mm(G));M=function Gz(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,l)=>{i.has(l)||r.push(l),i.set(l,a)}),r.length)for(let a=1;a<e.length;a++){let l=e[a];r.forEach(f=>l.set(f,JF(n,f)))}}return e}(e,M,b);const B=function N$(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=S1(e[0]),e.length>1&&(i=S1(e[e.length-1]))):e instanceof Map&&(t=S1(e)),t||i?new P$(n,t,i):null}(e,M);return new mL(e,M,_,B)}}let V$=(()=>{class n extends $N{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?WN(t):t;return pL(this._renderer,null,i,"register",[r]),new B$(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class B$ extends sj{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new U$(this._id,e,t||{},this._renderer)}}class U${constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return pL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function pL(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const gL="@.disabled";let j$=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(a,l)=>{const f=l?.parentNode(a);f&&l.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(a);return C||(C=new _L("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,C)),C}const l=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=C=>{Array.isArray(C)?C.forEach(_):this.engine.registerTrigger(l,f,t,C.name,C)};return i.data.animation.forEach(_),new H$(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,f]=a;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(MS),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class _L{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==gL?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class H$ extends _L{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==gL?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function z$(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function $$(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let G$=(()=>{class n extends MS{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce),d.LFG(u1),d.LFG(w1),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const yL=[{provide:$N,useClass:V$},{provide:w1,useFactory:function W$(){return new d$}},{provide:MS,useClass:G$},{provide:d.FYo,useFactory:function q$(n,e,t){return new j$(n,e,t)},deps:[Qr,MS,d.R0b]}],T1=[{provide:u1,useFactory:()=>new L$},{provide:d.QbO,useValue:"BrowserAnimations"},...yL],vL=[{provide:u1,useClass:qF},{provide:d.QbO,useValue:"NoopAnimations"},...yL];let Z$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?vL:T1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:T1,imports:[Rc]}),n})();const bL_firebase={projectId:"project-052",appId:"1:531793402736:web:a3f27ad0b8edd2b42c0db5",storageBucket:"project-052.appspot.com",locationId:"asia-southeast1",apiKey:"AIzaSyBAk8VUs29GKctqv2RbPjQvNvw7BVihq60",authDomain:"project-052.firebaseapp.com",messagingSenderId:"531793402736",measurementId:"G-4ZBTV12FX5"};P(2659);class M1{constructor(){return(0,cn.vb)("auth")}}class R1{constructor(e){return e}}const EL="firestore",O1=new d.OlP("angularfire2.firestore-instances");function e6(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new R1(i)}}const t6={provide:class X${constructor(){return(0,cn.vb)(EL)}},deps:[[new d.FiY,O1]]},n6={provide:R1,useFactory:function J$(n,e){const t=(0,cn.JM)(EL,n,e);return t&&new R1(t)},deps:[[new d.FiY,O1],bg]};let i6=(()=>{class n{constructor(){(0,sm.KN)("angularfire",cn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[n6,t6]}),n})();function r6(n,...e){return{ngModule:i6,providers:[{provide:O1,useFactory:e6(n),multi:!0,deps:[d.R0b,d.zs3,cn.HU,WM,[new d.FiY,M1],[new d.FiY,gv],...e]}]}}const o6=(0,cn.u3)(I2,!0),xL="firebasestorage.googleapis.com",IL="storageBucket";class zi extends Rt.ZR{constructor(e,t,i=0){super(N1(e),`Firebase Storage: ${t} (${N1(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return N1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Oi=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Oi||{});function N1(n){return"storage/"+n}function P1(){return new zi(Oi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function CL(){return new zi(Oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DL(){return new zi(Oi.CANCELED,"User canceled the upload/download.")}function SL(){return new zi(Oi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Iv(n){return new zi(Oi.INVALID_ARGUMENT,n)}function TL(){return new zi(Oi.APP_DELETED,"The Firebase app was deleted.")}function AL(n){return new zi(Oi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function FE(n,e){return new zi(Oi.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function LE(n){throw new zi(Oi.INTERNAL_ERROR,"Internal error: "+n)}class Lo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Lo.makeFromUrl(e,t)}catch{return new Lo(e,"")}if(""===i.path)return i;throw function p6(n){return new zi(Oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+r+"(/(.*))?$","i");function b(Xe){Xe.path_=decodeURIComponent(Xe.path)}const M=t.replace(/[.]/g,"\\."),Ye=[{regex:f,indices:{bucket:1,path:3},postModify:function a(Xe){"/"===Xe.path.charAt(Xe.path.length-1)&&(Xe.path_=Xe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:b},{regex:new RegExp(`^https?://${t===xL?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:b}];for(let Xe=0;Xe<Ye.length;Xe++){const Ot=Ye[Xe],Lt=Ot.regex.exec(e);if(Lt){let Ni=Lt[Ot.indices.path];Ni||(Ni=""),i=new Lo(Lt[Ot.indices.bucket],Ni),Ot.postModify(i);break}}if(null==i)throw function m6(n){return new zi(Oi.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class b6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function RS(n){return"string"==typeof n||n instanceof String}function ML(n){return F1()&&n instanceof Blob}function F1(){return typeof Blob<"u"&&!(0,Rt.UG)()}function L1(n,e,t,i){if(i<e)throw Iv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Iv(`Invalid value for '${n}'. Expected ${t} or less.`)}function fh(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function kL(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Cv=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Cv||{});function RL(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||r||a}class D6{constructor(e,t,i,r,a,l,f,_,b,C,M,B=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=_,this.timeout_=b,this.progressCallback_=C,this.connectionFactory_=M,this.retry=B,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,Y)=>{this.resolve_=G,this.reject_=Y,this.start_()})}start_(){const t=(i,r)=>{const a=this.resolve_,l=this.reject_,f=r.connection;if(r.wasSuccessCode)try{const _=this.callback_(f,f.getResponse());!function x6(n){return void 0!==n}(_)?a():a(_)}catch(_){l(_)}else if(null!==f){const _=P1();_.serverResponse=f.getErrorText(),l(this.errorCallback_?this.errorCallback_(f,_):_)}else l(r.canceled?this.appDelete_?TL():DL():CL())};this.canceled_?t(0,new OS(!1,null,!0)):this.backoffId_=function w6(n,e,t){let i=1,r=null,a=null,l=!1,f=0;function _(){return 2===f}let b=!1;function C(...fe){b||(b=!0,e.apply(null,fe))}function M(fe){r=setTimeout(()=>{r=null,n(G,_())},fe)}function B(){a&&clearTimeout(a)}function G(fe,...Ge){if(b)return void B();if(fe)return B(),void C.call(null,fe,...Ge);if(_()||l)return B(),void C.call(null,fe,...Ge);let Ye;i<64&&(i*=2),1===f?(f=2,Ye=0):Ye=1e3*(i+Math.random()),M(Ye)}let Y=!1;function ie(fe){Y||(Y=!0,B(),!b&&(null!==r?(fe||(f=2),clearTimeout(r),M(0)):fe||(f=1)))}return M(0),a=setTimeout(()=>{l=!0,ie(!0)},t),ie}((i,r)=>{if(r)return void i(!1,new OS(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const l=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const f=a.getErrorCode()===Cv.NO_ERROR,_=a.getStatus();if(!f||RL(_,this.additionalRetryCodes_)&&this.retry){const C=a.getErrorCode()===Cv.ABORT;return void i(!1,new OS(!1,null,C))}const b=-1!==this.successCodes_.indexOf(_);i(!0,new OS(b,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function E6(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class OS{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function O6(...n){const e=function R6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(F1())return new Blob(n);throw new zi(Oi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ma={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class V1{constructor(e,t){this.data=e,this.contentType=t||null}}function B1(n,e){switch(n){case ma.RAW:return new V1(OL(e));case ma.BASE64:case ma.BASE64URL:return new V1(NL(n,e));case ma.DATA_URL:return new V1(function L6(n){const e=new PL(n);return e.base64?NL(ma.BASE64,e.rest):function F6(n){let e;try{e=decodeURIComponent(n)}catch{throw FE(ma.DATA_URL,"Malformed data URL.")}return OL(e)}(e.rest)}(e),function V6(n){return new PL(n).contentType}(e))}throw P1()}function OL(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function NL(n,e){switch(n){case ma.BASE64:{const r=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(r||a)throw FE(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ma.BASE64URL:{const r=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(r||a)throw FE(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function P6(n){if(typeof atob>"u")throw function v6(n){return new zi(Oi.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:FE(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class PL{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw FE(ma.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function B6(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class vu{constructor(e,t){let i=0,r="";ML(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(ML(this.data_)){const r=function N6(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new vu(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new vu(i,!0)}}static getBlob(...e){if(F1()){const t=e.map(i=>i instanceof vu?i.data_:i);return new vu(O6.apply(null,t))}{const t=e.map(l=>RS(l)?B1(ma.RAW,l).data:l.data_);let i=0;t.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let a=0;return t.forEach(l=>{for(let f=0;f<l.length;f++)r[a++]=l[f]}),new vu(r,!0)}}uploadData(){return this.data_}}function U1(n){let e;try{e=JSON.parse(n)}catch{return null}return function C6(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function FL(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function H6(n,e){return e}class rs{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||H6}}let NS=null;function VE(){if(NS)return NS;const n=[];n.push(new rs("bucket")),n.push(new rs("generation")),n.push(new rs("metageneration")),n.push(new rs("name","fullPath",!0));const t=new rs("name");t.xform=function e(a,l){return function z6(n){return!RS(n)||n.length<2?n:FL(n)}(l)},n.push(t);const r=new rs("size");return r.xform=function i(a,l){return void 0!==l?Number(l):l},n.push(r),n.push(new rs("timeCreated")),n.push(new rs("updated")),n.push(new rs("md5Hash",null,!0)),n.push(new rs("cacheControl",null,!0)),n.push(new rs("contentDisposition",null,!0)),n.push(new rs("contentEncoding",null,!0)),n.push(new rs("contentLanguage",null,!0)),n.push(new rs("contentType",null,!0)),n.push(new rs("metadata","customMetadata",!0)),NS=n,NS}function LL(n,e,t){const i=U1(e);return null===i?null:function G6(n,e,t){const i={type:"file"},r=t.length;for(let a=0;a<r;a++){const l=t[a];i[l.local]=l.xform(i,e[l.server])}return function $6(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new Lo(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(i,n),i}(n,i,t)}function j1(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const a=e[r];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const VL="prefixes",BL="items";class bu{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function wu(n){if(!n)throw P1()}function PS(n,e){return function t(i,r){const a=LL(n,r,e);return wu(null!==a),a}}function Dv(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function h6(){return new zi(Oi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function d6(){return new zi(Oi.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function u6(n){return new zi(Oi.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function f6(n){return new zi(Oi.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function BE(n){const e=Dv(n);return function t(i,r){let a=e(i,r);return 404===i.getStatus()&&(a=function l6(n){return new zi(Oi.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=r.serverResponse,a}}function UL(n,e,t){const r=fh(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new bu(r,"GET",PS(n,t),l);return f.errorHandler=BE(e),f}function Q6(n,e,t,i,r){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),i&&(a.pageToken=i),r&&(a.maxResults=r);const f=fh(e.bucketOnlyServerUrl(),n.host,n._protocol),b=n.maxOperationRetryTime,C=new bu(f,"GET",function K6(n,e){return function t(i,r){const a=function Z6(n,e,t){const i=U1(t);return null===i?null:function q6(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[VL])for(const r of t[VL]){const a=r.replace(/\/$/,""),l=n._makeStorageReference(new Lo(e,a));i.prefixes.push(l)}if(t[BL])for(const r of t[BL]){const a=n._makeStorageReference(new Lo(e,r.name));i.items.push(a)}return i}(n,e,i)}(n,e,r);return wu(null!==a),a}}(n,e.bucket),b);return C.urlParams=a,C.errorHandler=Dv(e),C}function HL(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function tG(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class FS{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function H1(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{wu(!1)}return wu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const oG={STATE_CHANGED:"state_changed"},os={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function z1(n){switch(n){case"running":case"pausing":case"canceling":return os.RUNNING;case"paused":return os.PAUSED;case"success":return os.SUCCESS;case"canceled":return os.CANCELED;default:return os.ERROR}}class sG{constructor(e,t,i){if(function I6(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function Sv(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let GL=null;class aG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Cv.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Cv.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Cv.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw LE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const a in r)r.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,r[a].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw LE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw LE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw LE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw LE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class cG extends aG{initXhr(){this.xhr_.responseType="text"}}function bl(){return GL?GL():new cG}class WL{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=VE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Oi.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(RL(r.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=CL()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Oi.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,a)=>{this._resolve=r,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function nG(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),l=HL(e,i,r),f={name:l.fullPath},_=fh(a,n.host,n._protocol),C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},M=j1(l,t),Y=new bu(_,"POST",function G(ie){let fe;H1(ie);try{fe=ie.getResponseHeader("X-Goog-Upload-URL")}catch{wu(!1)}return wu(RS(fe)),fe},n.maxUploadRetryTime);return Y.urlParams=f,Y.headers=C,Y.body=M,Y.errorHandler=Dv(e),Y}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,bl,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function iG(n,e,t,i){const _=new bu(t,"POST",function a(b){const C=H1(b,["active","final"]);let M=null;try{M=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch{wu(!1)}M||wu(!1);const B=Number(M);return wu(!isNaN(B)),new FS(B,i.size(),"final"===C)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=Dv(e),_}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(r,bl,t,i);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new FS(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,a)=>{let l;try{l=function rG(n,e,t,i,r,a,l,f){const _=new FS(0,0);if(l?(_.current=l.current,_.total=l.total):(_.current=0,_.total=i.size()),i.size()!==_.total)throw function _6(){return new zi(Oi.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const b=_.total-_.current;let C=b;r>0&&(C=Math.min(C,r));const M=_.current;let G="";G=0===C?"finalize":b===C?"upload, finalize":"upload";const Y={"X-Goog-Upload-Command":G,"X-Goog-Upload-Offset":`${_.current}`},ie=i.slice(M,M+C);if(null===ie)throw SL();const Ye=new bu(t,"POST",function fe(Xe,Ot){const Lt=H1(Xe,["active","final"]),gn=_.current+C,Ni=i.size();let Vo;return Vo="final"===Lt?PS(e,a)(Xe,Ot):null,new FS(gn,Ni,"final"===Lt,Vo)},e.maxUploadRetryTime);return Ye.headers=Y,Ye.body=ie.uploadData(),Ye.progressCallback=f||null,Ye.errorHandler=Dv(n),Ye}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const f=this._ref.storage._makeRequest(l,bl,r,a,!1);this._request=f,f.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=UL(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,bl,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function zL(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},_=function f(){let Ye="";for(let Xe=0;Xe<2;Xe++)Ye+=Math.random().toString().slice(2);return Ye}();l["Content-Type"]="multipart/related; boundary="+_;const b=HL(e,i,r),C=j1(b,t),G=vu.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+_+"\r\nContent-Type: "+b.contentType+"\r\n\r\n",i,"\r\n--"+_+"--");if(null===G)throw SL();const Y={name:b.fullPath},ie=fh(a,n.host,n._protocol),Ge=n.maxUploadRetryTime,nt=new bu(ie,"POST",PS(n,t),Ge);return nt.urlParams=Y,nt.headers=l,nt.body=G.uploadData(),nt.errorHandler=Dv(e),nt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,bl,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=DL(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=z1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const a=new sG(t||void 0,i||void 0,r||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(z1(this._state)){case os.SUCCESS:Sv(this._resolve.bind(null,this.snapshot))();break;case os.CANCELED:case os.ERROR:Sv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(z1(this._state)){case os.RUNNING:case os.PAUSED:e.next&&Sv(e.next.bind(e,this.snapshot))();break;case os.SUCCESS:e.complete&&Sv(e.complete.bind(e))();break;default:e.error&&Sv(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Rg{constructor(e,t){this._service=e,this._location=t instanceof Lo?t:Lo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Rg(e,t)}get root(){const e=new Lo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FL(this._location.path)}get storage(){return this._service}get parent(){const e=function U6(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Lo(this._location.bucket,e);return new Rg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw AL(e)}}function ZL(n,e,t){return $1.apply(this,arguments)}function $1(){return $1=(0,Ee.Z)(function*(n,e,t){const r=yield KL(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield ZL(n,e,r.nextPageToken))}),$1.apply(this,arguments)}function KL(n,e){null!=e&&"number"==typeof e.maxResults&&L1("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=Q6(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,bl)}function bG(n){n._throwIfRoot("getDownloadURL");const e=function X6(n,e,t){const r=fh(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new bu(r,"GET",function Y6(n,e){return function t(i,r){const a=LL(n,r,e);return wu(null!==a),function W6(n,e,t,i){const r=U1(e);if(null===r||!RS(r.downloadTokens))return null;const a=r.downloadTokens;if(0===a.length)return null;const l=encodeURIComponent;return a.split(",").map(b=>{const M=n.fullPath;return fh("/b/"+l(n.bucket)+"/o/"+l(M),t,i)+kL({alt:"media",token:b})})[0]}(a,r,n.host,n._protocol)}}(n,t),l);return f.errorHandler=BE(e),f}(n.storage,n._location,VE());return n.storage.makeRequestWithTokens(e,bl).then(t=>{if(null===t)throw function y6(){return new zi(Oi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function YL(n,e){const t=function j6(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Lo(n._location.bucket,t);return new Rg(n.storage,i)}function QL(n,e){if(n instanceof G1){const t=n;if(null==t._bucket)throw function g6(){return new zi(Oi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+IL+"' property when initializing the app?")}();const i=new Rg(t,t._bucket);return null!=e?QL(i,e):i}return void 0!==e?YL(n,e):n}function IG(n,e){if(e&&function EG(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof G1)return function xG(n,e){return new Rg(n,e)}(n,e);throw Iv("To use ref(service, url), the first argument must be a Storage instance.")}return QL(n,e)}function XL(n,e){const t=e?.[IL];return null==t?null:Lo.makeFromBucketSpec(t,n)}class G1{constructor(e,t,i,r,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=a,this._bucket=null,this._host=xL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Lo.makeFromBucketSpec(r,this._host):XL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Lo.makeFromBucketSpec(this._url,e):XL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){L1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){L1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ee.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ee.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rg(this,e)}_makeRequest(e,t,i,r,a=!0){if(this._deleted)return new b6(TL());{const l=function k6(n,e,t,i,r,a,l=!0){const f=kL(n.urlParams),_=n.url+f,b=Object.assign({},n.headers);return function A6(n,e){e&&(n["X-Firebase-GMPID"]=e)}(b,e),function S6(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(b,t),function T6(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(b,a),function M6(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(b,i),new D6(_,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,l)}(e,this._appId,i,r,t,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var i=this;return(0,Ee.Z)(function*(){const[r,a]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,a).getPromise()})()}}const JL="@firebase/storage",t2="storage";function n2(n,e){return IG(n=(0,Rt.m9)(n),e)}function NG(n=(0,Ri.getApp)(),e){n=(0,Rt.m9)(n);const i=(0,Ri._getProvider)(n,t2).getImmediate({identifier:e}),r=(0,Rt.P0)("storage");return r&&r2(i,...r),i}function r2(n,e,t,i={}){!function CG(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,Rt.Sg)(r,n.app.options.projectId))}(n,e,t,i)}function PG(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new G1(t,i,r,e,Ri.SDK_VERSION)}!function FG(){(0,Ri._registerComponent)(new Qc.wA(t2,PG,"PUBLIC").setMultipleInstances(!0)),(0,Ri.registerVersion)(JL,"0.11.2",""),(0,Ri.registerVersion)(JL,"0.11.2","esm2017")}();class W1{constructor(e){return e}}const o2="storage",q1=new d.OlP("angularfire2.storage-instances");function BG(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new W1(i)}}const UG={provide:class LG{constructor(){return(0,cn.vb)(o2)}},deps:[[new d.FiY,q1]]},jG={provide:W1,useFactory:function VG(n,e){const t=(0,cn.JM)(o2,n,e);return t&&new W1(t)},deps:[[new d.FiY,q1],bg]};let HG=(()=>{class n{constructor(){(0,sm.KN)("angularfire",cn.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[jG,UG]}),n})();function zG(n,...e){return{ngModule:HG,providers:[{provide:q1,useFactory:BG(n),multi:!0,deps:[d.R0b,d.zs3,cn.HU,WM,[new d.FiY,M1],[new d.FiY,gv],...e]}]}}const $G=(0,cn.u3)(NG,!0);class GG{constructor(e,t){this._delegate=e,this.firebase=t,(0,Ri._addComponent)(e,new Qc.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Ri.deleteApp)(this._delegate)))}_getService(e,t=Ri._DEFAULT_ENTRY_NAME){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&"EXPLICIT"===(null===(i=r.getComponent())||void 0===i?void 0:i.instantiationMode)&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=Ri._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,Ri._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,Ri._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const s2=new Rt.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ZG=function a2(){const n=function qG(n){const e={},t={__esModule:!0,initializeApp:function a(b,C={}){const M=Ri.initializeApp(b,C);if((0,Rt.r3)(e,M.name))return e[M.name];const B=new n(M,t);return e[M.name]=B,B},app:r,registerVersion:Ri.registerVersion,setLogLevel:Ri.setLogLevel,onLog:Ri.onLog,apps:null,SDK_VERSION:Ri.SDK_VERSION,INTERNAL:{registerComponent:function f(b){const C=b.name,M=C.replace("-compat","");if(Ri._registerComponent(b)&&"PUBLIC"===b.type){const B=(G=r())=>{if("function"!=typeof G[M])throw s2.create("invalid-app-argument",{appName:C});return G[M]()};void 0!==b.serviceProps&&(0,Rt.ZB)(B,b.serviceProps),t[M]=B,n.prototype[M]=function(...G){return this._getService.bind(this,C).apply(this,b.multipleInstances?G:[])}}return"PUBLIC"===b.type?t[M]:null},removeApp:function i(b){delete e[b]},useAsService:function _(b,C){return"serverAuth"===C?null:C},modularAPIs:Ri}};function r(b){if(!(0,Rt.r3)(e,b=b||Ri._DEFAULT_ENTRY_NAME))throw s2.create("no-app",{appName:b});return e[b]}return t.default=t,Object.defineProperty(t,"apps",{get:function l(){return Object.keys(e).map(b=>e[b])}}),r.App=n,t}(GG);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:a2,extendNamespace:function e(t){(0,Rt.ZB)(n,t)},createSubscribe:Rt.ne,ErrorFactory:Rt.LL,deepExtend:Rt.ZB}),n}(),c2=new Mo.Yd("@firebase/app-compat");if((0,Rt.jU)()&&void 0!==self.firebase){c2.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&c2.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const XG=ZG;!function QG(n){(0,Ri.registerVersion)("@firebase/app-compat","0.2.15",n)}();class LS{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class l2{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new LS(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new LS(i,this,this._ref))},t)}on(e,t,i,r){let a;return t&&(a="function"==typeof t?l=>t(new LS(l,this,this._ref)):{next:t.next?l=>t.next(new LS(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,i||void 0,r||void 0)}}class u2{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new mh(e,this._service))}get items(){return this._delegate.items.map(e=>new mh(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class mh{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function OG(n,e){return YL(n,e)}(this._delegate,e);return new mh(t,this.storage)}get root(){return new mh(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new mh(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new l2(function DG(n,e,t){return function pG(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new WL(n,new vu(e),t)}(n=(0,Rt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=ma.RAW,i){this._throwIfRoot("putString");const r=B1(t,e),a=Object.assign({},i);return null==a.contentType&&null!=r.contentType&&(a.contentType=r.contentType),new l2(new WL(this._delegate,new vu(r.data,!0),a),this)}listAll(){return function MG(n){return function _G(n){const e={prefixes:[],items:[]};return ZL(n,e).then(()=>e)}(n=(0,Rt.m9)(n))}(this._delegate).then(e=>new u2(e,this.storage))}list(e){return function AG(n,e){return KL(n=(0,Rt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new u2(t,this.storage))}getMetadata(){return function SG(n){return function yG(n){n._throwIfRoot("getMetadata");const e=UL(n.storage,n._location,VE());return n.storage.makeRequestWithTokens(e,bl)}(n=(0,Rt.m9)(n))}(this._delegate)}updateMetadata(e){return function TG(n,e){return function vG(n,e){n._throwIfRoot("updateMetadata");const t=function J6(n,e,t,i){const a=fh(e.fullServerUrl(),n.host,n._protocol),f=j1(t,i),b=n.maxOperationRetryTime,C=new bu(a,"PATCH",PS(n,i),b);return C.headers={"Content-Type":"application/json; charset=utf-8"},C.body=f,C.errorHandler=BE(e),C}(n.storage,n._location,e,VE());return n.storage.makeRequestWithTokens(t,bl)}(n=(0,Rt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function kG(n){return bG(n=(0,Rt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function RG(n){return function wG(n){n._throwIfRoot("deleteObject");const e=function eG(n,e){const i=fh(e.fullServerUrl(),n.host,n._protocol),f=new bu(i,"DELETE",function l(_,b){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=BE(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,bl)}(n=(0,Rt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw AL(e)}}class d2{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(h2(e))throw Iv("ref() expected a child path but got a URL, use refFromURL instead.");return new mh(n2(this._delegate,e),this)}refFromURL(e){if(!h2(e))throw Iv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Lo.makeFromUrl(e,this._delegate.host)}catch{throw Iv("refFromUrl() expected a valid full URL but got an invalid one.")}return new mh(n2(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){r2(this._delegate,e,t,i)}}function h2(n){return/^[A-Za-z]+:\/\//.test(n)}function n5(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new d2(t,i)}function f2(n){const e=function r5(n){return new oi.y(e=>{const t=l=>e.next(l);t(n.snapshot);const a=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){a()}}).pipe(_E(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,gt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function VS(n){return{getDownloadURL:()=>(0,ft.of)(void 0).pipe(cn.fc,(0,zn.w)(()=>n.getDownloadURL()),cn.iC),getMetadata:()=>(0,ft.of)(void 0).pipe(cn.fc,(0,zn.w)(()=>n.getMetadata()),cn.iC),delete:()=>(0,hn.D)(n.delete()),child:e=>VS(n.child(e)),updateMetadata:e=>(0,hn.D)(n.updateMetadata(e)),put:(e,t)=>f2(n.put(e,t)),putString:(e,t,i)=>f2(n.putString(e,t,i)),list:e=>(0,hn.D)(n.list(e)),listAll:()=>(0,hn.D)(n.listAll())}}!function i5(n){const e={TaskState:os,TaskEvent:oG,StringFormat:ma,Storage:d2,Reference:mh};n.INTERNAL.registerComponent(new Qc.wA("storage-compat",n5,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(XG);const o5=new d.OlP("angularfire2.storageBucket"),s5=new d.OlP("angularfire2.storage.maxUploadRetryTime"),a5=new d.OlP("angularfire2.storage.maxOperationRetryTime"),c5=new d.OlP("angularfire2.storage.use-emulator");let l5=(()=>{class n{constructor(t,i,r,a,l,f,_,b,C,M){const B=(0,Ao.on)(t,l,i);this.storage=(0,Ao.cc)(`${B.name}.storage.${r}`,"AngularFireStorage",B.name,()=>{const G=l.runOutsideAngular(()=>B.storage(r||void 0)),Y=C;return Y&&G.useEmulator(...Y),_&&G.setMaxUploadRetryTime(_),b&&G.setMaxOperationRetryTime(b),G},[_,b])}ref(t){return VS(this.storage.ref(t))}refFromURL(t){return VS(this.storage.refFromURL(t))}upload(t,i,r){return VS(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ao.Dh),d.LFG(Ao.xv,8),d.LFG(o5,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(cn.HU),d.LFG(s5,8),d.LFG(a5,8),d.LFG(c5,8),d.LFG(gv,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),u5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),d5=(()=>{class n{constructor(){NO.Z.registerVersion("angularfire",cn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[l5],imports:[u5]}),n})(),h5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[HH]}),n.\u0275inj=d.cJS({imports:[Rc,M3,JH.register("ngsw-worker.js",{enabled:!(0,d.X6Q)(),registrationStrategy:"registerWhenStable:30000"}),Z$,F3,f3,bj,s4,VH,S3,UV(()=>jV(bL_firebase)),r6(()=>o6()),zG(()=>$G()),Ao.hO.initializeApp(bL_firebase),VB,d5]}),n})();Bu().bootstrapModule(h5).catch(n=>console.error(n))},5619:(pt,xe,P)=>{P.d(xe,{X:()=>H});var d=P(8645);class H extends d.x{constructor(X){super(),this._value=X}get value(){return this.getValue()}_subscribe(X){const oe=super._subscribe(X);return!oe.closed&&X.next(this._value),oe}getValue(){const{hasError:X,thrownError:oe,_value:ce}=this;if(X)throw oe;return this._throwIfClosed(),ce}next(X){super.next(this._value=X)}}},5592:(pt,xe,P)=>{P.d(xe,{y:()=>De});var d=P(305),H=P(7394),N=P(4850),X=P(8407),oe=P(2653),ce=P(4674),we=P(1441);let De=(()=>{class ne{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const Ke=new ne;return Ke.source=this,Ke.operator=Ae,Ke}subscribe(Ae,Ke,Re){const Qe=function W(ne){return ne&&ne instanceof d.Lv||function j(ne){return ne&&(0,ce.m)(ne.next)&&(0,ce.m)(ne.error)&&(0,ce.m)(ne.complete)}(ne)&&(0,H.Nn)(ne)}(Ae)?Ae:new d.Hp(Ae,Ke,Re);return(0,we.x)(()=>{const{operator:Ne,source:bt}=this;Qe.add(Ne?Ne.call(Qe,bt):bt?this._subscribe(Qe):this._trySubscribe(Qe))}),Qe}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Ke){Ae.error(Ke)}}forEach(Ae,Ke){return new(Ke=pe(Ke))((Re,Qe)=>{const Ne=new d.Hp({next:bt=>{try{Ae(bt)}catch(ht){Qe(ht),Ne.unsubscribe()}},error:Qe,complete:Re});this.subscribe(Ne)})}_subscribe(Ae){var Ke;return null===(Ke=this.source)||void 0===Ke?void 0:Ke.subscribe(Ae)}[N.L](){return this}pipe(...Ae){return(0,X.U)(Ae)(this)}toPromise(Ae){return new(Ae=pe(Ae))((Ke,Re)=>{let Qe;this.subscribe(Ne=>Qe=Ne,Ne=>Re(Ne),()=>Ke(Qe))})}}return ne.create=Ve=>new ne(Ve),ne})();function pe(ne){var Ve;return null!==(Ve=ne??oe.config.Promise)&&void 0!==Ve?Ve:Promise}},8645:(pt,xe,P)=>{P.d(xe,{x:()=>we});var d=P(5592),H=P(7394);const X=(0,P(2306).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=P(9039),ce=P(1441);let we=(()=>{class pe extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const ne=new De(this,this);return ne.operator=W,ne}_throwIfClosed(){if(this.closed)throw new X}next(W){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(W)}})}error(W){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:ne}=this;for(;ne.length;)ne.shift().error(W)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:ne,isStopped:Ve,observers:Ae}=this;return ne||Ve?H.Lc:(this.currentObservers=null,Ae.push(W),new H.w0(()=>{this.currentObservers=null,(0,oe.P)(Ae,W)}))}_checkFinalizedStatuses(W){const{hasError:ne,thrownError:Ve,isStopped:Ae}=this;ne?W.error(Ve):Ae&&W.complete()}asObservable(){const W=new d.y;return W.source=this,W}}return pe.create=(j,W)=>new De(j,W),pe})();class De extends we{constructor(j,W){super(),this.destination=j,this.source=W}next(j){var W,ne;null===(ne=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===ne||ne.call(W,j)}error(j){var W,ne;null===(ne=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===ne||ne.call(W,j)}complete(){var j,W;null===(W=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===W||W.call(j)}_subscribe(j){var W,ne;return null!==(ne=null===(W=this.source)||void 0===W?void 0:W.subscribe(j))&&void 0!==ne?ne:H.Lc}}},305:(pt,xe,P)=>{P.d(xe,{Hp:()=>Re,Lv:()=>ne});var d=P(4674),H=P(7394),N=P(2653),X=P(3894),oe=P(2420);const ce=pe("C",void 0,void 0);function pe(le,Pe,ue){return{kind:le,value:Pe,error:ue}}var j=P(7599),W=P(1441);class ne extends H.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,H.Nn)(Pe)&&Pe.add(this)):this.destination=ht}static create(Pe,ue,Ce){return new Re(Pe,ue,Ce)}next(Pe){this.isStopped?bt(function De(le){return pe("N",le,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?bt(function we(le){return pe("E",void 0,le)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?bt(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Ae(le,Pe){return Ve.call(le,Pe)}class Ke{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:ue}=this;if(ue.next)try{ue.next(Pe)}catch(Ce){Qe(Ce)}}error(Pe){const{partialObserver:ue}=this;if(ue.error)try{ue.error(Pe)}catch(Ce){Qe(Ce)}else Qe(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(ue){Qe(ue)}}}class Re extends ne{constructor(Pe,ue,Ce){let Be;if(super(),(0,d.m)(Pe)||!Pe)Be={next:Pe??void 0,error:ue??void 0,complete:Ce??void 0};else{let de;this&&N.config.useDeprecatedNextContext?(de=Object.create(Pe),de.unsubscribe=()=>this.unsubscribe(),Be={next:Pe.next&&Ae(Pe.next,de),error:Pe.error&&Ae(Pe.error,de),complete:Pe.complete&&Ae(Pe.complete,de)}):Be=Pe}this.destination=new Ke(Be)}}function Qe(le){N.config.useDeprecatedSynchronousErrorHandling?(0,W.O)(le):(0,X.h)(le)}function bt(le,Pe){const{onStoppedNotification:ue}=N.config;ue&&j.z.setTimeout(()=>ue(le,Pe))}const ht={closed:!0,next:oe.Z,error:function Ne(le){throw le},complete:oe.Z}},7394:(pt,xe,P)=>{P.d(xe,{Lc:()=>ce,w0:()=>oe,Nn:()=>we});var d=P(4674);const N=(0,P(2306).d)(pe=>function(W){pe(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((ne,Ve)=>`${Ve+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var X=P(9039);class oe{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Ae of W)Ae.remove(this);else W.remove(this);const{initialTeardown:ne}=this;if((0,d.m)(ne))try{ne()}catch(Ae){j=Ae instanceof N?Ae.errors:[Ae]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Ae of Ve)try{De(Ae)}catch(Ke){j=j??[],Ke instanceof N?j=[...j,...Ke.errors]:j.push(Ke)}}if(j)throw new N(j)}}add(j){var W;if(j&&j!==this)if(this.closed)De(j);else{if(j instanceof oe){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(j)}}_hasParent(j){const{_parentage:W}=this;return W===j||Array.isArray(W)&&W.includes(j)}_addParent(j){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(j),W):W?[W,j]:j}_removeParent(j){const{_parentage:W}=this;W===j?this._parentage=null:Array.isArray(W)&&(0,X.P)(W,j)}remove(j){const{_finalizers:W}=this;W&&(0,X.P)(W,j),j instanceof oe&&j._removeParent(this)}}oe.EMPTY=(()=>{const pe=new oe;return pe.closed=!0,pe})();const ce=oe.EMPTY;function we(pe){return pe instanceof oe||pe&&"closed"in pe&&(0,d.m)(pe.remove)&&(0,d.m)(pe.add)&&(0,d.m)(pe.unsubscribe)}function De(pe){(0,d.m)(pe)?pe():pe.unsubscribe()}},2653:(pt,xe,P)=>{P.d(xe,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(pt,xe,P)=>{P.d(xe,{E:()=>H});const H=new(P(5592).y)(oe=>oe.complete())},2459:(pt,xe,P)=>{P.d(xe,{D:()=>Pe});var d=P(4829),H=P(3093),N=P(5137),ce=P(5592),De=P(4971),pe=P(4674),j=P(7103);function ne(ue,Ce){if(!ue)throw new Error("Iterable cannot be null");return new ce.y(Be=>{(0,j.f)(Be,Ce,()=>{const de=ue[Symbol.asyncIterator]();(0,j.f)(Be,Ce,()=>{de.next().then(Le=>{Le.done?Be.complete():Be.next(Le.value)})},0,!0)})})}var Ve=P(8382),Ae=P(4026),Ke=P(4266),Re=P(3664),Qe=P(5726),Ne=P(9853),bt=P(541);function Pe(ue,Ce){return Ce?function le(ue,Ce){if(null!=ue){if((0,Ve.c)(ue))return function X(ue,Ce){return(0,d.Xf)(ue).pipe((0,N.R)(Ce),(0,H.Q)(Ce))}(ue,Ce);if((0,Ke.z)(ue))return function we(ue,Ce){return new ce.y(Be=>{let de=0;return Ce.schedule(function(){de===ue.length?Be.complete():(Be.next(ue[de++]),Be.closed||this.schedule())})})}(ue,Ce);if((0,Ae.t)(ue))return function oe(ue,Ce){return(0,d.Xf)(ue).pipe((0,N.R)(Ce),(0,H.Q)(Ce))}(ue,Ce);if((0,Qe.D)(ue))return ne(ue,Ce);if((0,Re.T)(ue))return function W(ue,Ce){return new ce.y(Be=>{let de;return(0,j.f)(Be,Ce,()=>{de=ue[De.h](),(0,j.f)(Be,Ce,()=>{let Le,Je;try{({value:Le,done:Je}=de.next())}catch(Nt){return void Be.error(Nt)}Je?Be.complete():Be.next(Le)},0,!0)}),()=>(0,pe.m)(de?.return)&&de.return()})}(ue,Ce);if((0,bt.L)(ue))return function ht(ue,Ce){return ne((0,bt.Q)(ue),Ce)}(ue,Ce)}throw(0,Ne.z)(ue)}(ue,Ce):(0,d.Xf)(ue)}},4829:(pt,xe,P)=>{P.d(xe,{Xf:()=>Ve});var d=P(7582),H=P(4266),N=P(4026),X=P(5592),oe=P(8382),ce=P(5726),we=P(9853),De=P(3664),pe=P(541),j=P(4674),W=P(3894),ne=P(4850);function Ve(le){if(le instanceof X.y)return le;if(null!=le){if((0,oe.c)(le))return function Ae(le){return new X.y(Pe=>{const ue=le[ne.L]();if((0,j.m)(ue.subscribe))return ue.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(le);if((0,H.z)(le))return function Ke(le){return new X.y(Pe=>{for(let ue=0;ue<le.length&&!Pe.closed;ue++)Pe.next(le[ue]);Pe.complete()})}(le);if((0,N.t)(le))return function Re(le){return new X.y(Pe=>{le.then(ue=>{Pe.closed||(Pe.next(ue),Pe.complete())},ue=>Pe.error(ue)).then(null,W.h)})}(le);if((0,ce.D)(le))return Ne(le);if((0,De.T)(le))return function Qe(le){return new X.y(Pe=>{for(const ue of le)if(Pe.next(ue),Pe.closed)return;Pe.complete()})}(le);if((0,pe.L)(le))return function bt(le){return Ne((0,pe.Q)(le))}(le)}throw(0,we.z)(le)}function Ne(le){return new X.y(Pe=>{(function ht(le,Pe){var ue,Ce,Be,de;return(0,d.mG)(this,void 0,void 0,function*(){try{for(ue=(0,d.KL)(le);!(Ce=yield ue.next()).done;)if(Pe.next(Ce.value),Pe.closed)return}catch(Le){Be={error:Le}}finally{try{Ce&&!Ce.done&&(de=ue.return)&&(yield de.call(ue))}finally{if(Be)throw Be.error}}Pe.complete()})})(le,Pe).catch(ue=>Pe.error(ue))})}},3019:(pt,xe,P)=>{P.d(xe,{T:()=>ce});var d=P(7537),H=P(4829),N=P(6232),X=P(9940),oe=P(2459);function ce(...we){const De=(0,X.yG)(we),pe=(0,X._6)(we,1/0),j=we;return j.length?1===j.length?(0,H.Xf)(j[0]):(0,d.J)(pe)((0,oe.D)(j,De)):N.E}},2096:(pt,xe,P)=>{P.d(xe,{of:()=>N});var d=P(9940),H=P(2459);function N(...X){const oe=(0,d.yG)(X);return(0,H.D)(X,oe)}},8251:(pt,xe,P)=>{P.d(xe,{x:()=>H});var d=P(305);function H(X,oe,ce,we,De){return new N(X,oe,ce,we,De)}class N extends d.Lv{constructor(oe,ce,we,De,pe,j){super(oe),this.onFinalize=pe,this.shouldUnsubscribe=j,this._next=ce?function(W){try{ce(W)}catch(ne){oe.error(ne)}}:super._next,this._error=De?function(W){try{De(W)}catch(ne){oe.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(W){oe.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},3997:(pt,xe,P)=>{P.d(xe,{x:()=>X});var d=P(2737),H=P(9360),N=P(8251);function X(ce,we=d.y){return ce=ce??oe,(0,H.e)((De,pe)=>{let j,W=!0;De.subscribe((0,N.x)(pe,ne=>{const Ve=we(ne);(W||!ce(j,Ve))&&(W=!1,j=Ve,pe.next(ne))}))})}function oe(ce,we){return ce===we}},7398:(pt,xe,P)=>{P.d(xe,{U:()=>N});var d=P(9360),H=P(8251);function N(X,oe){return(0,d.e)((ce,we)=>{let De=0;ce.subscribe((0,H.x)(we,pe=>{we.next(X.call(oe,pe,De++))}))})}},7537:(pt,xe,P)=>{P.d(xe,{J:()=>N});var d=P(1631),H=P(2737);function N(X=1/0){return(0,d.z)(H.y,X)}},1631:(pt,xe,P)=>{P.d(xe,{z:()=>De});var d=P(7398),H=P(4829),N=P(9360),X=P(7103),oe=P(8251),we=P(4674);function De(pe,j,W=1/0){return(0,we.m)(j)?De((ne,Ve)=>(0,d.U)((Ae,Ke)=>j(ne,Ae,Ve,Ke))((0,H.Xf)(pe(ne,Ve))),W):("number"==typeof j&&(W=j),(0,N.e)((ne,Ve)=>function ce(pe,j,W,ne,Ve,Ae,Ke,Re){const Qe=[];let Ne=0,bt=0,ht=!1;const le=()=>{ht&&!Qe.length&&!Ne&&j.complete()},Pe=Ce=>Ne<ne?ue(Ce):Qe.push(Ce),ue=Ce=>{Ae&&j.next(Ce),Ne++;let Be=!1;(0,H.Xf)(W(Ce,bt++)).subscribe((0,oe.x)(j,de=>{Ve?.(de),Ae?Pe(de):j.next(de)},()=>{Be=!0},void 0,()=>{if(Be)try{for(Ne--;Qe.length&&Ne<ne;){const de=Qe.shift();Ke?(0,X.f)(j,Ke,()=>ue(de)):ue(de)}le()}catch(de){j.error(de)}}))};return pe.subscribe((0,oe.x)(j,Pe,()=>{ht=!0,le()})),()=>{Re?.()}}(ne,Ve,pe,W)))}},3093:(pt,xe,P)=>{P.d(xe,{Q:()=>X});var d=P(7103),H=P(9360),N=P(8251);function X(oe,ce=0){return(0,H.e)((we,De)=>{we.subscribe((0,N.x)(De,pe=>(0,d.f)(De,oe,()=>De.next(pe),ce),()=>(0,d.f)(De,oe,()=>De.complete(),ce),pe=>(0,d.f)(De,oe,()=>De.error(pe),ce)))})}},3020:(pt,xe,P)=>{P.d(xe,{B:()=>oe});var d=P(4829),H=P(8645),N=P(305),X=P(9360);function oe(we={}){const{connector:De=(()=>new H.x),resetOnError:pe=!0,resetOnComplete:j=!0,resetOnRefCountZero:W=!0}=we;return ne=>{let Ve,Ae,Ke,Re=0,Qe=!1,Ne=!1;const bt=()=>{Ae?.unsubscribe(),Ae=void 0},ht=()=>{bt(),Ve=Ke=void 0,Qe=Ne=!1},le=()=>{const Pe=Ve;ht(),Pe?.unsubscribe()};return(0,X.e)((Pe,ue)=>{Re++,!Ne&&!Qe&&bt();const Ce=Ke=Ke??De();ue.add(()=>{Re--,0===Re&&!Ne&&!Qe&&(Ae=ce(le,W))}),Ce.subscribe(ue),!Ve&&Re>0&&(Ve=new N.Hp({next:Be=>Ce.next(Be),error:Be=>{Ne=!0,bt(),Ae=ce(ht,pe,Be),Ce.error(Be)},complete:()=>{Qe=!0,bt(),Ae=ce(ht,j),Ce.complete()}}),(0,d.Xf)(Pe).subscribe(Ve))})(ne)}}function ce(we,De,...pe){if(!0===De)return void we();if(!1===De)return;const j=new N.Hp({next:()=>{j.unsubscribe(),we()}});return(0,d.Xf)(De(...pe)).subscribe(j)}},5137:(pt,xe,P)=>{P.d(xe,{R:()=>H});var d=P(9360);function H(N,X=0){return(0,d.e)((oe,ce)=>{ce.add(N.schedule(()=>oe.subscribe(ce),X))})}},4664:(pt,xe,P)=>{P.d(xe,{w:()=>X});var d=P(4829),H=P(9360),N=P(8251);function X(oe,ce){return(0,H.e)((we,De)=>{let pe=null,j=0,W=!1;const ne=()=>W&&!pe&&De.complete();we.subscribe((0,N.x)(De,Ve=>{pe?.unsubscribe();let Ae=0;const Ke=j++;(0,d.Xf)(oe(Ve,Ke)).subscribe(pe=(0,N.x)(De,Re=>De.next(ce?ce(Ve,Re,Ke,Ae++):Re),()=>{pe=null,ne()}))},()=>{W=!0,ne()}))})}},9397:(pt,xe,P)=>{P.d(xe,{b:()=>oe});var d=P(4674),H=P(9360),N=P(8251),X=P(2737);function oe(ce,we,De){const pe=(0,d.m)(ce)||we||De?{next:ce,error:we,complete:De}:ce;return pe?(0,H.e)((j,W)=>{var ne;null===(ne=pe.subscribe)||void 0===ne||ne.call(pe);let Ve=!0;j.subscribe((0,N.x)(W,Ae=>{var Ke;null===(Ke=pe.next)||void 0===Ke||Ke.call(pe,Ae),W.next(Ae)},()=>{var Ae;Ve=!1,null===(Ae=pe.complete)||void 0===Ae||Ae.call(pe),W.complete()},Ae=>{var Ke;Ve=!1,null===(Ke=pe.error)||void 0===Ke||Ke.call(pe,Ae),W.error(Ae)},()=>{var Ae,Ke;Ve&&(null===(Ae=pe.unsubscribe)||void 0===Ae||Ae.call(pe)),null===(Ke=pe.finalize)||void 0===Ke||Ke.call(pe)}))}):X.y}},1954:(pt,xe,P)=>{P.d(xe,{o:()=>oe});var d=P(7394);class H extends d.w0{constructor(we,De){super()}schedule(we,De=0){return this}}const N={setInterval(ce,we,...De){const{delegate:pe}=N;return pe?.setInterval?pe.setInterval(ce,we,...De):setInterval(ce,we,...De)},clearInterval(ce){const{delegate:we}=N;return(we?.clearInterval||clearInterval)(ce)},delegate:void 0};var X=P(9039);class oe extends H{constructor(we,De){super(we,De),this.scheduler=we,this.work=De,this.pending=!1}schedule(we,De=0){var pe;if(this.closed)return this;this.state=we;const j=this.id,W=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(W,j,De)),this.pending=!0,this.delay=De,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(W,this.id,De),this}requestAsyncId(we,De,pe=0){return N.setInterval(we.flush.bind(we,this),pe)}recycleAsyncId(we,De,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return De;null!=De&&N.clearInterval(De)}execute(we,De){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(we,De);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,De){let j,pe=!1;try{this.work(we)}catch(W){pe=!0,j=W||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:we,scheduler:De}=this,{actions:pe}=De;this.work=this.state=this.scheduler=null,this.pending=!1,(0,X.P)(pe,this),null!=we&&(this.id=this.recycleAsyncId(De,we,null)),this.delay=null,super.unsubscribe()}}}},2631:(pt,xe,P)=>{P.d(xe,{v:()=>N});var d=P(4552);class H{constructor(oe,ce=H.now){this.schedulerActionCtor=oe,this.now=ce}schedule(oe,ce=0,we){return new this.schedulerActionCtor(this,oe).schedule(we,ce)}}H.now=d.l.now;class N extends H{constructor(oe,ce=H.now){super(oe,ce),this.actions=[],this._active=!1}flush(oe){const{actions:ce}=this;if(this._active)return void ce.push(oe);let we;this._active=!0;do{if(we=oe.execute(oe.state,oe.delay))break}while(oe=ce.shift());if(this._active=!1,we){for(;oe=ce.shift();)oe.unsubscribe();throw we}}}},6321:(pt,xe,P)=>{P.d(xe,{P:()=>X,z:()=>N});var d=P(1954);const N=new(P(2631).v)(d.o),X=N},4552:(pt,xe,P)=>{P.d(xe,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(pt,xe,P)=>{P.d(xe,{z:()=>d});const d={setTimeout(H,N,...X){const{delegate:oe}=d;return oe?.setTimeout?oe.setTimeout(H,N,...X):setTimeout(H,N,...X)},clearTimeout(H){const{delegate:N}=d;return(N?.clearTimeout||clearTimeout)(H)},delegate:void 0}},4971:(pt,xe,P)=>{P.d(xe,{h:()=>H});const H=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(pt,xe,P)=>{P.d(xe,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(pt,xe,P)=>{P.d(xe,{_6:()=>ce,jO:()=>X,yG:()=>oe});var d=P(4674),H=P(671);function N(we){return we[we.length-1]}function X(we){return(0,d.m)(N(we))?we.pop():void 0}function oe(we){return(0,H.K)(N(we))?we.pop():void 0}function ce(we,De){return"number"==typeof N(we)?we.pop():De}},9039:(pt,xe,P)=>{function d(H,N){if(H){const X=H.indexOf(N);0<=X&&H.splice(X,1)}}P.d(xe,{P:()=>d})},2306:(pt,xe,P)=>{function d(H){const X=H(oe=>{Error.call(oe),oe.stack=(new Error).stack});return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}P.d(xe,{d:()=>d})},1441:(pt,xe,P)=>{P.d(xe,{O:()=>X,x:()=>N});var d=P(2653);let H=null;function N(oe){if(d.config.useDeprecatedSynchronousErrorHandling){const ce=!H;if(ce&&(H={errorThrown:!1,error:null}),oe(),ce){const{errorThrown:we,error:De}=H;if(H=null,we)throw De}}else oe()}function X(oe){d.config.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=oe)}},7103:(pt,xe,P)=>{function d(H,N,X,oe=0,ce=!1){const we=N.schedule(function(){X(),ce?H.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(H.add(we),!ce)return we}P.d(xe,{f:()=>d})},2737:(pt,xe,P)=>{function d(H){return H}P.d(xe,{y:()=>d})},4266:(pt,xe,P)=>{P.d(xe,{z:()=>d});const d=H=>H&&"number"==typeof H.length&&"function"!=typeof H},5726:(pt,xe,P)=>{P.d(xe,{D:()=>H});var d=P(4674);function H(N){return Symbol.asyncIterator&&(0,d.m)(N?.[Symbol.asyncIterator])}},4674:(pt,xe,P)=>{function d(H){return"function"==typeof H}P.d(xe,{m:()=>d})},8382:(pt,xe,P)=>{P.d(xe,{c:()=>N});var d=P(4850),H=P(4674);function N(X){return(0,H.m)(X[d.L])}},3664:(pt,xe,P)=>{P.d(xe,{T:()=>N});var d=P(4971),H=P(4674);function N(X){return(0,H.m)(X?.[d.h])}},4026:(pt,xe,P)=>{P.d(xe,{t:()=>H});var d=P(4674);function H(N){return(0,d.m)(N?.then)}},541:(pt,xe,P)=>{P.d(xe,{L:()=>X,Q:()=>N});var d=P(7582),H=P(4674);function N(oe){return(0,d.FC)(this,arguments,function*(){const we=oe.getReader();try{for(;;){const{value:De,done:pe}=yield(0,d.qq)(we.read());if(pe)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(De)}}finally{we.releaseLock()}})}function X(oe){return(0,H.m)(oe?.getReader)}},671:(pt,xe,P)=>{P.d(xe,{K:()=>H});var d=P(4674);function H(N){return N&&(0,d.m)(N.schedule)}},9360:(pt,xe,P)=>{P.d(xe,{A:()=>H,e:()=>N});var d=P(4674);function H(X){return(0,d.m)(X?.lift)}function N(X){return oe=>{if(H(oe))return oe.lift(function(ce){try{return X(ce,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(pt,xe,P)=>{function d(){}P.d(xe,{Z:()=>d})},8407:(pt,xe,P)=>{P.d(xe,{U:()=>N,z:()=>H});var d=P(2737);function H(...X){return N(X)}function N(X){return 0===X.length?d.y:1===X.length?X[0]:function(ce){return X.reduce((we,De)=>De(we),ce)}}},3894:(pt,xe,P)=>{P.d(xe,{h:()=>N});var d=P(2653),H=P(7599);function N(X){H.z.setTimeout(()=>{const{onUnhandledError:oe}=d.config;if(!oe)throw X;oe(X)})}},9853:(pt,xe,P)=>{function d(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(xe,{z:()=>d})},5879:(pt,xe,P)=>{P.d(xe,{$8M:()=>Do,$WT:()=>wa,$Z:()=>Sb,AFp:()=>xT,ALo:()=>zf,AaK:()=>ne,CHM:()=>Lh,CRH:()=>ow,EJc:()=>Gr,EiD:()=>lf,EpF:()=>vI,F$t:()=>s0,F4k:()=>it,FYo:()=>O_,FiY:()=>ws,Gf:()=>rw,GfV:()=>Cx,Gpc:()=>Ke,HDt:()=>Jf,Hsn:()=>ko,JOm:()=>S,JVY:()=>eT,JZr:()=>ht,KtG:()=>Mc,L6k:()=>tT,LAX:()=>iT,LFG:()=>qe,Lbi:()=>wx,Lck:()=>MA,MAs:()=>_I,MMx:()=>Ty,MR2:()=>fx,NdJ:()=>If,O4$:()=>$u,Ojb:()=>rb,OlP:()=>An,Oqu:()=>Od,P3R:()=>_T,PXZ:()=>Mw,Q6J:()=>n0,QGY:()=>fi,QbO:()=>cn,Qsj:()=>hb,R0b:()=>Pr,RDi:()=>rf,Rgc:()=>qp,SBq:()=>dd,Sil:()=>zC,Suo:()=>AC,TTD:()=>zo,TgZ:()=>cy,Udp:()=>u0,VuI:()=>TM,W1O:()=>kC,WFA:()=>Ep,X6Q:()=>pM,XFs:()=>Et,Xpm:()=>Bs,Xq5:()=>pp,Xts:()=>I_,Y36:()=>fd,YKP:()=>sC,YNc:()=>pI,Yjl:()=>_m,Yz7:()=>rt,Z0I:()=>Te,ZZ4:()=>da,_Bn:()=>oC,_UZ:()=>o0,_c5:()=>$w,_uU:()=>wi,aQg:()=>ag,c2e:()=>$y,cJS:()=>wn,cg1:()=>E0,d8E:()=>Mp,dDg:()=>lM,dqk:()=>yt,eBb:()=>nT,eFA:()=>QC,eJc:()=>lw,ekj:()=>d0,eoX:()=>Xy,f3M:()=>Mt,g9A:()=>IT,h0i:()=>Vf,hGG:()=>CM,iGM:()=>pl,ifc:()=>kt,ip1:()=>Iw,jDz:()=>Bf,kL8:()=>zI,kcU:()=>Gs,lG2:()=>_c,lcZ:()=>q0,lqb:()=>ad,lri:()=>ZC,mCW:()=>__,n5z:()=>yi,n_E:()=>My,oAB:()=>ba,oxw:()=>Cf,pB0:()=>ix,q3G:()=>od,q4F:()=>pf,qFp:()=>xD,qLn:()=>Xl,qOj:()=>Yb,qZA:()=>bp,qzn:()=>af,rWj:()=>Qy,rg0:()=>Th,sBO:()=>rD,s_b:()=>Kd,soG:()=>Gy,tb:()=>Tw,tp0:()=>Es,uIk:()=>ny,vHH:()=>le,vpe:()=>sc,wAp:()=>Vd,xp6:()=>Mx,z2F:()=>ua,z3N:()=>Cs,zSh:()=>_x,zs3:()=>Ds});var d=P(8645),H=P(7394),N=P(5619),X=P(5592),oe=P(3019),ce=P(2096),we=P(3020),De=P(4664),pe=P(3997);function j(o){for(let s in o)if(o[s]===j)return s;throw Error("Could not find renamed property on target object.")}function W(o,s){for(const c in s)s.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=s[c])}function ne(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ne).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const c=s.indexOf("\n");return-1===c?s:s.substring(0,c)}function Ve(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const Ae=j({__forward_ref__:j});function Ke(o){return o.__forward_ref__=Ke,o.toString=function(){return ne(this())},o}function Re(o){return Qe(o)?o():o}function Qe(o){return"function"==typeof o&&o.hasOwnProperty(Ae)&&o.__forward_ref__===Ke}function Ne(o){return o&&!!o.\u0275providers}const ht="https://g.co/ng/security#xss";class le extends Error{constructor(s,c){super(function Pe(o,s){return`NG0${Math.abs(o)}${s?": "+s:""}`}(s,c)),this.code=s}}function ue(o){return"string"==typeof o?o:null==o?"":String(o)}function Je(o,s){throw new le(-201,!1)}function et(o,s){null==o&&function ct(o,s,c,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${c} ${u} ${s} <=Actual]`))}(s,o,null,"!=")}function rt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function wn(o){return{providers:o.providers||[],imports:o.imports||[]}}function Rn(o){return En(o,Yn)||En(o,Pi)}function Te(o){return null!==Rn(o)}function En(o,s){return o.hasOwnProperty(s)?o[s]:null}function pi(o){return o&&(o.hasOwnProperty(Vn)||o.hasOwnProperty(lo))?o[Vn]:null}const Yn=j({\u0275prov:j}),Vn=j({\u0275inj:j}),Pi=j({ngInjectableDef:j}),lo=j({ngInjectorDef:j});var Et=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(Et||{});let At;function xn(o){const s=At;return At=o,s}function gi(o,s,c){const u=Rn(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&Et.Optional?null:void 0!==s?s:void Je(ne(o))}const yt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Bn={},nn="__NG_DI_FLAG__",Dn="ngTempTokenPath",pr=/\n/gm,ei="__source";let _e;function ve(o){const s=_e;return _e=o,s}function We(o,s=Et.Default){if(void 0===_e)throw new le(-203,!1);return null===_e?gi(o,void 0,s):_e.get(o,s&Et.Optional?null:void 0,s)}function qe(o,s=Et.Default){return(function Ht(){return At}()||We)(Re(o),s)}function Mt(o,s=Et.Default){return qe(o,$(s))}function $(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function z(o){const s=[];for(let c=0;c<o.length;c++){const u=Re(o[c]);if(Array.isArray(u)){if(0===u.length)throw new le(900,!1);let h,p=Et.Default;for(let y=0;y<u.length;y++){const E=u[y],I=L(E);"number"==typeof I?-1===I?h=E.token:p|=I:h=E}s.push(qe(h,p))}else s.push(qe(u))}return s}function F(o,s){return o[nn]=s,o.prototype[nn]=s,o}function L(o){return o[nn]}function Ie(o){return{toString:o}.toString()}var ut=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(ut||{}),kt=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(kt||{});const It={},vt=[],zt=j({\u0275cmp:j}),Sn=j({\u0275dir:j}),Jt=j({\u0275pipe:j}),rr=j({\u0275mod:j}),gr=j({\u0275fac:j}),Ls=j({__NG_ELEMENT_ID__:j}),uo=j({__NG_ENV_ID__:j});function ho(o,s,c){let u=o.length;for(;;){const h=o.indexOf(s,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const p=s.length;if(h+p===u||o.charCodeAt(h+p)<=32)return h}c=h+1}}function Uo(o,s,c){let u=0;for(;u<c.length;){const h=c[u];if("number"==typeof h){if(0!==h)break;u++;const p=c[u++],y=c[u++],E=c[u++];o.setAttribute(s,y,E,p)}else{const p=h,y=c[++u];_r(p)?o.setProperty(s,p,y):o.setAttribute(s,p,y),u++}}return u}function hc(o){return 3===o||4===o||6===o}function _r(o){return 64===o.charCodeAt(0)}function ga(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let c=-1;for(let u=0;u<s.length;u++){const h=s[u];"number"==typeof h?c=h:0===c||fc(o,c,h,null,-1===c||2===c?s[++u]:null)}}return o}function fc(o,s,c,u,h){let p=0,y=o.length;if(-1===s)y=-1;else for(;p<o.length;){const E=o[p++];if("number"==typeof E){if(E===s){y=-1;break}if(E>s){y=p-1;break}}}for(;p<o.length;){const E=o[p];if("number"==typeof E)break;if(E===c){if(null===u)return void(null!==h&&(o[p+1]=h));if(u===o[p+1])return void(o[p+2]=h)}p++,null!==u&&p++,null!==h&&p++}-1!==y&&(o.splice(y,0,s),p=y+1),o.splice(p++,0,c),null!==u&&o.splice(p++,0,u),null!==h&&o.splice(p++,0,h)}const _a="ng-template";function mc(o,s,c){let u=0,h=!0;for(;u<o.length;){let p=o[u++];if("string"==typeof p&&h){const y=o[u++];if(c&&"class"===p&&-1!==ho(y.toLowerCase(),s,0))return!0}else{if(1===p){for(;u<o.length&&"string"==typeof(p=o[u++]);)if(p.toLowerCase()===s)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function xu(o){return 4===o.type&&o.value!==_a}function ya(o,s,c){return s===(4!==o.type||c?o.value:_a)}function wl(o,s,c){let u=4;const h=o.attrs||[],p=function pc(o){for(let s=0;s<o.length;s++)if(hc(o[s]))return s;return o.length}(h);let y=!1;for(let E=0;E<s.length;E++){const I=s[E];if("number"!=typeof I){if(!y)if(4&u){if(u=2|1&u,""!==I&&!ya(o,I,c)||""===I&&1===s.length){if(yr(u))return!1;y=!0}}else{const T=8&u?I:s[++E];if(8&u&&null!==o.attrs){if(!mc(o.attrs,T,c)){if(yr(u))return!1;y=!0}continue}const U=gh(8&u?"class":I,h,xu(o),c);if(-1===U){if(yr(u))return!1;y=!0;continue}if(""!==T){let Q;Q=U>p?"":h[U+1].toLowerCase();const te=8&u?Q:null;if(te&&-1!==ho(te,T,0)||2&u&&T!==Q){if(yr(u))return!1;y=!0}}}}else{if(!y&&!yr(u)&&!yr(I))return!1;if(y&&yr(I))continue;y=!1,u=I|1&u}}return yr(u)||y}function yr(o){return 0==(1&o)}function gh(o,s,c,u){if(null===s)return-1;let h=0;if(u||!c){let p=!1;for(;h<s.length;){const y=s[h];if(y===o)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=s[++h];for(;"string"==typeof E;)E=s[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function va(o,s){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const u=o[c];if("number"==typeof u)return-1;if(u===s)return c;c++}return-1}(s,o)}function Vs(o,s,c=!1){for(let u=0;u<s.length;u++)if(wl(o,s[u],c))return!0;return!1}function Tv(o,s){e:for(let c=0;c<s.length;c++){const u=s[c];if(o.length===u.length){for(let h=0;h<o.length;h++)if(o[h]!==u[h])continue e;return!0}}return!1}function ss(o,s){return o?":not("+s.trim()+")":s}function Pg(o){let s=o[0],c=1,u=2,h="",p=!1;for(;c<o.length;){let y=o[c];if("string"==typeof y)if(2&u){const E=o[++c];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?h+="."+y:4&u&&(h+=" "+y);else""!==h&&!yr(y)&&(s+=ss(p,h),h=""),u=y,p=p||!yr(u);c++}return""!==h&&(s+=ss(p,h)),s}function Bs(o){return Ie(()=>{const s=yc(o),c={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===ut.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||kt.Emulated,styles:o.styles||vt,_:null,schemas:o.schemas||null,tView:null,id:""};fo(c);const u=o.dependencies;return c.directiveDefs=Ea(u,!1),c.pipeDefs=Ea(u,!0),c.id=function Fg(o){let s=0;const c=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const h of c)s=Math.imul(31,s)+h.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(c),c})}function Cu(o){return Wt(o)||Fi(o)}function gm(o){return null!==o}function ba(o){return Ie(()=>({type:o.type,bootstrap:o.bootstrap||vt,declarations:o.declarations||vt,imports:o.imports||vt,exports:o.exports||vt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function gc(o,s){if(null==o)return It;const c={};for(const u in o)if(o.hasOwnProperty(u)){let h=o[u],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),c[h]=u,s&&(s[h]=p)}return c}function _c(o){return Ie(()=>{const s=yc(o);return fo(s),s})}function _m(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Wt(o){return o[zt]||null}function Fi(o){return o[Sn]||null}function Nn(o){return o[Jt]||null}function wa(o){const s=Wt(o)||Fi(o)||Nn(o);return null!==s&&s.standalone}function Ar(o,s){const c=o[rr]||null;if(!c&&!0===s)throw new Error(`Type ${ne(o)} does not have '\u0275mod' property.`);return c}function yc(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:o.inputs||It,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||vt,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gc(o.inputs,s),outputs:gc(o.outputs)}}function fo(o){o.features?.forEach(s=>s(o))}function Ea(o,s){if(!o)return null;const c=s?Nn:Cu;return()=>("function"==typeof o?o():o).map(u=>c(u)).filter(gm)}const rn=0,lt=1,qt=2,Qn=3,vr=4,vc=5,or=6,xa=7,ui=8,br=9,as=10,$t=11,Ia=12,El=13,cs=14,Hn=15,Ca=16,Us=17,Gi=18,ls=19,wh=20,Mr=21,Li=22,us=23,jo=24,on=25,xl=1,Eh=2,Zr=7,ds=9,Zn=11;function Wi(o){return Array.isArray(o)&&"object"==typeof o[xl]}function ti(o){return Array.isArray(o)&&!0===o[xl]}function Su(o){return 0!=(4&o.flags)}function po(o){return o.componentOffset>-1}function Da(o){return 1==(1&o.flags)}function Vi(o){return!!o.template}function bc(o){return 0!=(512&o[qt])}function fs(o,s){return o.hasOwnProperty(gr)?o[gr]:null}let wm=yt.WeakRef??class Ta{constructor(s){this.ref=s}deref(){return this.ref}},Aa=0,Vr=null,Ma=!1;function Xn(o){const s=Vr;return Vr=o,s}class wr{constructor(){this.id=Aa++,this.ref=function Dh(o){return new wm(o)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,c]of this.producers){const u=c.producerNode.deref();if(null!=u&&c.atTrackingVersion===this.trackingVersion){if(u.producerPollStatus(c.seenValueVersion))return!0}else this.producers.delete(s),u?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=Ma;Ma=!0;try{for(const[c,u]of this.consumers){const h=u.consumerNode.deref();null!=h&&h.trackingVersion===u.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(c),h?.producers.delete(this.id))}}finally{Ma=s}}producerAccessed(){if(Ma)throw new Error("");if(null===Vr)return;let s=Vr.producers.get(this.id);void 0===s?(s={consumerNode:Vr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Vr.trackingVersion},Vr.producers.set(this.id,s),this.consumers.set(Vr.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=Vr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Vr?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let Ru=null;function Th(o){const s=Xn(null);try{return o()}finally{Xn(s)}}const Hs=()=>{};class Nu extends wr{constructor(s,c,u){super(),this.watch=s,this.schedule=c,this.dirty=!1,this.cleanupFn=Hs,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=u}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=Xn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Hs,this.watch(this.registerOnCleanup)}finally{Xn(s)}}cleanup(){this.cleanupFn()}}class Ic{constructor(s,c,u){this.previousValue=s,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function zo(){return Sl}function Sl(o){return o.type.prototype.ngOnChanges&&(o.setInput=Im),Cc}function Cc(){const o=Cm(this),s=o?.current;if(s){const c=o.previous;if(c===It)o.previous=s;else for(let u in s)c[u]=s[u];o.current=null,this.ngOnChanges(s)}}function Im(o,s,c,u){const h=this.declaredInputs[c],p=Cm(o)||function Tl(o,s){return o[Pu]=s}(o,{previous:It,current:null}),y=p.current||(p.current={}),E=p.previous,I=E[h];y[h]=new Ic(I&&I.currentValue,s,E===It),o[u]=s}zo.ngInherit=!0;const Pu="__ngSimpleChanges__";function Cm(o){return o[Pu]||null}const $o=function(o,s,c){},Dc="svg";function Tn(o){for(;Array.isArray(o);)o=o[rn];return o}function Oa(o,s){return Tn(s[o])}function Ii(o,s){return Tn(s[o.index])}function Mh(o,s){return o.data[s]}function Kr(o,s){return o[s]}function kr(o,s){const c=s[o];return Wi(c)?c:c[rn]}function Yr(o,s){return null==s?null:o[s]}function Tc(o){o[Us]=0}function Rl(o){1024&o[qt]||(o[qt]|=1024,Ol(o,1))}function zs(o){1024&o[qt]&&(o[qt]&=-1025,Ol(o,-1))}function Ol(o,s){let c=o[Qn];if(null===c)return;c[vc]+=s;let u=c;for(c=c[Qn];null!==c&&(1===s&&1===u[vc]||-1===s&&0===u[vc]);)c[vc]+=s,u=c,c=c[Qn]}const Pt={lFrame:zu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function gs(){return Pt.bindingsEnabled}function Qr(){return null!==Pt.skipHydrationRootTNode}function Oe(){return Pt.lFrame.lView}function an(){return Pt.lFrame.tView}function Lh(o){return Pt.lFrame.contextLView=o,o[ui]}function Mc(o){return Pt.lFrame.contextLView=null,o}function Zi(){let o=Gg();for(;null!==o&&64===o.type;)o=o.parent;return o}function Gg(){return Pt.lFrame.currentTNode}function yo(o,s){const c=Pt.lFrame;c.currentTNode=o,c.isParent=s}function Wg(){return Pt.lFrame.isParent}function kc(){Pt.lFrame.isParent=!1}function Jn(){return Pt.lFrame.bindingIndex++}function Tm(o,s){const c=Pt.lFrame;c.bindingIndex=c.bindingRootIndex=o,Uu(s)}function Uu(o){Pt.lFrame.currentDirectiveIndex=o}function ju(o){const s=Pt.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}function Hu(){return Pt.lFrame.currentQueryIndex}function Pa(o){Pt.lFrame.currentQueryIndex=o}function $s(o){const s=o[lt];return 2===s.type?s.declTNode:1===s.type?o[or]:null}function Oc(o,s,c){if(c&Et.SkipSelf){let h=s,p=o;for(;!(h=h.parent,null!==h||c&Et.Host||(h=$s(p),null===h||(p=p[cs],10&h.type))););if(null===h)return!1;s=h,o=p}const u=Pt.lFrame=Fa();return u.currentTNode=s,u.lView=o,!0}function Uh(o){const s=Fa(),c=o[lt];Pt.lFrame=s,s.currentTNode=c.firstChild,s.lView=o,s.tView=c,s.contextLView=o,s.bindingIndex=c.bindingStartIndex,s.inI18n=!1}function Fa(){const o=Pt.lFrame,s=null===o?null:o.child;return null===s?zu(o):s}function zu(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Am(){const o=Pt.lFrame;return Pt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Nc=Am;function jh(){const o=Am();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Ki(){return Pt.lFrame.selectedIndex}function _s(o){Pt.lFrame.selectedIndex=o}function Kn(){const o=Pt.lFrame;return Mh(o.tView,o.selectedIndex)}function $u(){Pt.lFrame.currentNamespace=Dc}function Gs(){!function km(){Pt.lFrame.currentNamespace=null}()}let Fl=!0;function Wo(){return Fl}function wo(o){Fl=o}function Pc(o,s){for(let c=s.directiveStart,u=s.directiveEnd;c<u;c++){const p=o.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:T,ngOnDestroy:R}=p;y&&(o.contentHooks??=[]).push(-c,y),E&&((o.contentHooks??=[]).push(c,E),(o.contentCheckHooks??=[]).push(c,E)),I&&(o.viewHooks??=[]).push(-c,I),T&&((o.viewHooks??=[]).push(c,T),(o.viewCheckHooks??=[]).push(c,T)),null!=R&&(o.destroyHooks??=[]).push(c,R)}}function Va(o,s,c){oi(o,s,3,c)}function Fc(o,s,c,u){(3&o[qt])===c&&oi(o,s,c,u)}function Ll(o,s){let c=o[qt];(3&c)===s&&(c&=8191,c+=1,o[qt]=c)}function oi(o,s,c,u){const p=u??-1,y=s.length-1;let E=0;for(let I=void 0!==u?65535&o[Us]:0;I<y;I++)if("number"==typeof s[I+1]){if(E=s[I],null!=u&&E>=u)break}else s[I]<0&&(o[Us]+=65536),(E<p||-1==p)&&(Rm(o,c,s,I),o[Us]=(4294901760&o[Us])+I+2),I++}function Di(o,s){$o(4,o,s);const c=Xn(null);try{s.call(o)}finally{Xn(c),$o(5,o,s)}}function Rm(o,s,c,u){const h=c[u]<0,p=c[u+1],E=o[h?-c[u]:c[u]];h?o[qt]>>13<o[Us]>>16&&(3&o[qt])===s&&(o[qt]+=8192,Di(E,p)):Di(E,p)}const hn=-1;class ft{constructor(s,c,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function gt(o){return o!==hn}function Rr(o){return 32767&o}function Ws(o,s){let c=function Ul(o){return o>>16}(o),u=s;for(;c>0;)u=u[cs],c--;return u}let Eo=!0;function Ba(o){const s=Eo;return Eo=o,s}const Xr=255,ys=5;let Zg=0;const Jr={};function vs(o,s){const c=jl(o,s);if(-1!==c)return c;const u=s[lt];u.firstCreatePass&&(o.injectorIndex=s.length,qs(u.data,o),qs(s,null),qs(u.blueprint,null));const h=xo(o,s),p=o.injectorIndex;if(gt(h)){const y=Rr(h),E=Ws(h,s),I=E[lt].data;for(let T=0;T<8;T++)s[p+T]=E[y+T]|I[y+T]}return s[p+8]=h,p}function qs(o,s){o.push(0,0,0,0,0,0,0,0,s)}function jl(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function xo(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,u=null,h=s;for(;null!==h;){if(u=qu(h),null===u)return hn;if(c++,h=h[cs],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return hn}function eo(o,s,c){!function Pm(o,s,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(Ls)&&(u=c[Ls]),null==u&&(u=c[Ls]=Zg++);const h=u&Xr;s.data[o+(h>>ys)]|=1<<h}(o,s,c)}function Ua(o,s,c){if(c&Et.Optional||void 0!==o)return o;Je()}function Io(o,s,c,u){if(c&Et.Optional&&void 0===u&&(u=null),!(c&(Et.Self|Et.Host))){const h=o[br],p=xn(void 0);try{return h?h.get(s,u,c&Et.Optional):gi(s,u,c&Et.Optional)}finally{xn(p)}}return Ua(u,0,c)}function Co(o,s,c,u=Et.Default,h){if(null!==o){if(2048&s[qt]&&!(u&Et.Self)){const y=function $h(o,s,c,u,h){let p=o,y=s;for(;null!==p&&null!==y&&2048&y[qt]&&!(512&y[qt]);){const E=ja(p,y,c,u|Et.Self,Jr);if(E!==Jr)return E;let I=p.parent;if(!I){const T=y[wh];if(T){const R=T.get(c,Jr,u);if(R!==Jr)return R}I=qu(y),y=y[cs]}p=I}return h}(o,s,c,u,Jr);if(y!==Jr)return y}const p=ja(o,s,c,u,Jr);if(p!==Jr)return p}return Io(s,c,u,h)}function ja(o,s,c,u,h){const p=function mn(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Ls)?o[Ls]:void 0;return"number"==typeof s?s>=0?s&Xr:In:s}(c);if("function"==typeof p){if(!Oc(s,o,u))return u&Et.Host?Ua(h,0,u):Io(s,c,u,h);try{const y=p(u);if(null!=y||u&Et.Optional)return y;Je()}finally{Nc()}}else if("number"==typeof p){let y=null,E=jl(o,s),I=hn,T=u&Et.Host?s[Hn][or]:null;for((-1===E||u&Et.SkipSelf)&&(I=-1===E?xo(o,s):s[E+8],I!==hn&&hi(u,!1)?(y=s[lt],E=Rr(I),s=Ws(I,s)):E=-1);-1!==E;){const R=s[lt];if(zn(p,E,R.data)){const U=Si(E,s,c,y,u,T);if(U!==Jr)return U}I=s[E+8],I!==hn&&hi(u,s[lt].data[E+8]===T)&&zn(p,E,s)?(y=R,E=Rr(I),s=Ws(I,s)):E=-1}}return h}function Si(o,s,c,u,h,p){const y=s[lt],E=y.data[o+8],R=Ha(E,y,c,null==u?po(E)&&Eo:u!=y&&0!=(3&E.type),h&Et.Host&&p===E);return null!==R?Er(s,y,R,E):Jr}function Ha(o,s,c,u,h){const p=o.providerIndexes,y=s.data,E=1048575&p,I=o.directiveStart,R=p>>20,Q=h?E+R:o.directiveEnd;for(let te=u?E:E+R;te<Q;te++){const Se=y[te];if(te<I&&c===Se||te>=I&&Se.type===c)return te}if(h){const te=y[I];if(te&&Vi(te)&&te.type===c)return I}return null}function Er(o,s,c,u){let h=o[c];const p=s.data;if(function ar(o){return o instanceof ft}(h)){const y=h;y.resolving&&function Be(o,s){const c=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new le(-200,`Circular dependency in DI detected for ${o}${c}`)}(function Ce(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ue(o)}(p[c]));const E=Ba(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?xn(y.injectImpl):null;Oc(o,u,Et.Default);try{h=o[c]=y.factory(void 0,p,o,u),s.firstCreatePass&&c>=u.directiveStart&&function Hh(o,s,c){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:p}=s.type.prototype;if(u){const y=Sl(s);(c.preOrderHooks??=[]).push(o,y),(c.preOrderCheckHooks??=[]).push(o,y)}h&&(c.preOrderHooks??=[]).push(0-o,h),p&&((c.preOrderHooks??=[]).push(o,p),(c.preOrderCheckHooks??=[]).push(o,p))}(c,p[c],s)}finally{null!==I&&xn(I),Ba(E),y.resolving=!1,Nc()}}return h}function zn(o,s,c){return!!(c[s+(o>>ys)]&1<<o)}function hi(o,s){return!(o&Et.Self||o&Et.Host&&s)}class Br{constructor(s,c){this._tNode=s,this._lView=c}get(s,c,u){return Co(this._tNode,this._lView,s,$(u),c)}}function In(){return new Br(Zi(),Oe())}function yi(o){return Ie(()=>{const s=o.prototype.constructor,c=s[gr]||za(s),u=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==u;){const p=h[gr]||za(h);if(p&&p!==c)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function za(o){return Qe(o)?()=>{const s=za(Re(o));return s&&s()}:fs(o)}function qu(o){const s=o[lt],c=s.type;return 2===c?s.declTNode:1===c?o[or]:null}function Do(o){return function Wu(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const c=o.attrs;if(c){const u=c.length;let h=0;for(;h<u;){const p=c[h];if(hc(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<u&&"string"==typeof c[h];)h++;else{if(p===s)return c[h+1];h+=2}}}return null}(Zi(),o)}const $n="__parameters__";function Ir(o,s,c){return Ie(()=>{const u=function $a(o){return function(...c){if(o){const u=o(...c);for(const h in u)this[h]=u[h]}}}(s);function h(...p){if(this instanceof h)return u.apply(this,p),this;const y=new h(...p);return E.annotation=y,E;function E(I,T,R){const U=I.hasOwnProperty($n)?I[$n]:Object.defineProperty(I,$n,{value:[]})[$n];for(;U.length<=R;)U.push(null);return(U[R]=U[R]||[]).push(y),I}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}function jc(o,s){o.forEach(c=>Array.isArray(c)?jc(c,s):s(c))}function to(o,s,c){s>=o.length?o.push(c):o.splice(s,0,c)}function zl(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Ks(o,s){const c=[];for(let u=0;u<o;u++)c.push(s);return c}function x(o,s,c){let u=A(o,s);return u>=0?o[1|u]=c:(u=~u,function Ys(o,s,c,u){let h=o.length;if(h==s)o.push(c,u);else if(1===h)o.push(u,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=c,o[s+1]=u}}(o,u,s,c)),u}function D(o,s){const c=A(o,s);if(c>=0)return o[1|c]}function A(o,s){return function K(o,s,c){let u=0,h=o.length>>c;for(;h!==u;){const p=u+(h-u>>1),y=o[p<<c];if(s===y)return p<<c;y>s?h=p:u=p+1}return~(h<<c)}(o,s,1)}const ws=F(Ir("Optional"),8),Es=F(Ir("SkipSelf"),4);function g(o){return 128==(128&o.flags)}var S=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(S||{});const ke=new Map;let dt=0;const ql="__ngContext__";function Qi(o,s){Wi(s)?(o[ql]=s[ls],function Cn(o){ke.set(o[ls],o)}(s)):o[ql]=s}let zv;function Jh(o,s){return zv(o,s)}function jm(o){const s=o[Qn];return ti(s)?s[Qn]:s}function zE(o){return $v(o[Ia])}function o_(o){return $v(o[vr])}function $v(o){for(;null!==o&&!ti(o);)o=o[vr];return o}function td(o,s,c,u,h){if(null!=u){let p,y=!1;ti(u)?p=u:Wi(u)&&(y=!0,u=u[rn]);const E=Tn(u);0===o&&null!==c?null==h?qv(s,c,E):nd(s,c,E,h||null,!0):1===o&&null!==c?nd(s,c,E,h||null,!0):2===o?function u_(o,s,c){const u=Zc(o,s);u&&function zS(o,s,c,u){o.removeChild(s,c,u)}(o,u,s,c)}(s,E,y):3===o&&s.destroyNode(E),null!=p&&function GS(o,s,c,u,h){const p=c[Zr];p!==Tn(c)&&td(s,o,u,p,h);for(let E=Zn;E<c.length;E++){const I=c[E];tf(I[lt],I,o,s,u,p)}}(s,o,p,c,h)}}function a_(o,s,c){return o.createElement(s,c)}function $E(o,s){const c=o[ds],u=c.indexOf(s);zs(s),c.splice(u,1)}function Wv(o,s){if(o.length<=Zn)return;const c=Zn+s,u=o[c];if(u){const h=u[Ca];null!==h&&h!==o&&$E(h,u),s>0&&(o[c-1][vr]=u[vr]);const p=zl(o,Zn+s);!function K1(o,s){tf(o,s,s[$t],2,null,null),s[rn]=null,s[or]=null}(u[lt],u);const y=p[Gi];null!==y&&y.detachView(p[lt]),u[Qn]=null,u[vr]=null,u[qt]&=-129}return u}function c_(o,s){if(!(256&s[qt])){const c=s[$t];s[us]?.destroy(),s[jo]?.destroy(),c.destroyNode&&tf(o,s,c,3,null,null),function X1(o){let s=o[Ia];if(!s)return Ko(o[lt],o);for(;s;){let c=null;if(Wi(s))c=s[Ia];else{const u=s[Zn];u&&(c=u)}if(!c){for(;s&&!s[vr]&&s!==o;)Wi(s)&&Ko(s[lt],s),s=s[Qn];null===s&&(s=o),Wi(s)&&Ko(s[lt],s),c=s&&s[vr]}s=c}}(s)}}function Ko(o,s){if(!(256&s[qt])){s[qt]&=-129,s[qt]|=256,function $m(o,s){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let u=0;u<c.length;u+=2){const h=s[c[u]];if(!(h instanceof ft)){const p=c[u+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=h[p[y]],I=p[y+1];$o(4,E,I);try{I.call(E)}finally{$o(5,E,I)}}else{$o(4,h,p);try{p.call(h)}finally{$o(5,h,p)}}}}}(o,s),function HS(o,s){const c=o.cleanup,u=s[xa];if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+3];y>=0?u[y]():u[-y].unsubscribe(),p+=2}else c[p].call(u[c[p+1]]);null!==u&&(s[xa]=null);const h=s[Mr];if(null!==h){s[Mr]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(o,s),1===s[lt].type&&s[$t].destroy();const c=s[Ca];if(null!==c&&ti(s[Qn])){c!==s[Qn]&&$E(c,s);const u=s[Gi];null!==u&&u.detachView(o)}!function Xs(o){ke.delete(o[ls])}(s)}}function GE(o,s,c){return function WE(o,s,c){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return c[rn];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:p}=o.data[u.directiveStart+h];if(p===kt.None||p===kt.Emulated)return null}return Ii(u,c)}}(o,s.parent,c)}function nd(o,s,c,u,h){o.insertBefore(s,c,u,h)}function qv(o,s,c){o.appendChild(s,c)}function Gm(o,s,c,u,h){null!==u?nd(o,s,c,u,h):qv(o,s,c)}function Zc(o,s){return o.parentNode(s)}function qE(o,s,c){return ef(o,s,c)}let id,h_,m_,p_,ef=function ZE(o,s,c){return 40&o.type?Ii(o,c):null};function l_(o,s,c,u){const h=GE(o,u,s),p=s[$t],E=qE(u.parent||s[or],u,s);if(null!=h)if(Array.isArray(c))for(let I=0;I<c.length;I++)Gm(p,h,c[I],E,!1);else Gm(p,h,c,E,!1);void 0!==id&&id(p,u,s,c,h)}function qm(o,s){if(null!==s){const c=s.type;if(3&c)return Ii(s,o);if(4&c)return Zv(-1,o[s.index]);if(8&c){const u=s.child;if(null!==u)return qm(o,u);{const h=o[s.index];return ti(h)?Zv(-1,h):Tn(h)}}if(32&c)return Jh(s,o)()||Tn(o[s.index]);{const u=YE(o,s);return null!==u?Array.isArray(u)?u[0]:qm(jm(o[Hn]),u):qm(o,s.next)}}return null}function YE(o,s){return null!==s?o[Hn][or].projection[s.projection]:null}function Zv(o,s){const c=Zn+o+1;if(c<s.length){const u=s[c],h=u[lt].firstChild;if(null!==h)return qm(u,h)}return s[Zr]}function Kv(o,s,c,u,h,p,y){for(;null!=c;){const E=u[c.index],I=c.type;if(y&&0===s&&(E&&Qi(Tn(E),u),c.flags|=2),32!=(32&c.flags))if(8&I)Kv(o,s,c.child,u,h,p,!1),td(s,o,h,E,p);else if(32&I){const T=Jh(c,u);let R;for(;R=T();)td(s,o,h,R,p);td(s,o,h,E,p)}else 16&I?rd(o,s,u,c,h,p):td(s,o,h,E,p);c=y?c.projectionNext:c.next}}function tf(o,s,c,u,h,p){Kv(c,u,o.firstChild,s,h,p,!1)}function rd(o,s,c,u,h,p){const y=c[Hn],I=y[or].projection[u.projection];if(Array.isArray(I))for(let T=0;T<I.length;T++)td(s,o,h,I[T],p);else{let T=I;const R=y[Qn];g(u)&&(T.flags|=128),Kv(o,s,T,R,h,p,!0)}}function QE(o,s,c){""===c?o.removeAttribute(s,"class"):o.setAttribute(s,"class",c)}function XE(o,s,c){const{mergedAttrs:u,classes:h,styles:p}=c;null!==u&&Uo(o,s,u),null!==h&&QE(o,s,h),null!==p&&function qS(o,s,c){o.setAttribute(s,"style",c)}(o,s,p)}function nf(o){return function Yv(){if(void 0===h_&&(h_=null,yt.trustedTypes))try{h_=yt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return h_}()?.createHTML(o)||o}function rf(o){m_=o}function tx(o){return function Qv(){if(void 0===p_&&(p_=null,yt.trustedTypes))try{p_=yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return p_}()?.createScriptURL(o)||o}class Kc{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ht})`}}class nx extends Kc{getTypeName(){return"HTML"}}class KS extends Kc{getTypeName(){return"Style"}}class YS extends Kc{getTypeName(){return"Script"}}class QS extends Kc{getTypeName(){return"URL"}}class XS extends Kc{getTypeName(){return"ResourceURL"}}function Cs(o){return o instanceof Kc?o.changingThisBreaksApplicationSecurity:o}function af(o,s){const c=function JS(o){return o instanceof Kc&&o.getTypeName()||null}(o);if(null!=c&&c!==s){if("ResourceURL"===c&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${c} (see ${ht})`)}return c===s}function eT(o){return new nx(o)}function tT(o){return new KS(o)}function nT(o){return new YS(o)}function iT(o){return new QS(o)}function ix(o){return new XS(o)}class rx{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const c=(new window.DOMParser).parseFromString(nf(s),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(s):(c.removeChild(c.firstChild),c)}catch{return null}}}class ox{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const c=this.inertDocument.createElement("template");return c.innerHTML=nf(s),c}}const sT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function __(o){return(o=String(o)).match(sT)?o:"unsafe:"+o}function Yc(o){const s={};for(const c of o.split(","))s[c]=!0;return s}function Zm(...o){const s={};for(const c of o)for(const u in c)c.hasOwnProperty(u)&&(s[u]=!0);return s}const sx=Yc("area,br,col,hr,img,wbr"),Xv=Yc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),y_=Yc("rp,rt"),v_=Zm(sx,Zm(Xv,Yc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zm(y_,Yc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zm(y_,Xv)),cf=Yc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cx=Zm(cf,Yc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lT=Yc("script,style,template");class uT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let c=s.firstChild,u=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?u=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,u&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(s){const c=s.nodeName.toLowerCase();if(!v_.hasOwnProperty(c))return this.sanitizedSomething=!0,!lT.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const u=s.attributes;for(let h=0;h<u.length;h++){const p=u.item(h),y=p.name,E=y.toLowerCase();if(!cx.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let I=p.value;cf[E]&&(I=__(I)),this.buf.push(" ",y,'="',lx(I),'"')}return this.buf.push(">"),!0}endElement(s){const c=s.nodeName.toLowerCase();v_.hasOwnProperty(c)&&!sx.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(s){this.buf.push(lx(s))}checkClobberedElement(s,c){if(c&&(s.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return c}}const dT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b_=/([^\#-~ |!])/g;function lx(o){return o.replace(/&/g,"&amp;").replace(dT,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(b_,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let w_;function lf(o,s){let c=null;try{w_=w_||function rT(o){const s=new ox(o);return function oT(){try{return!!(new window.DOMParser).parseFromString(nf(""),"text/html")}catch{return!1}}()?new rx(s):s}(o);let u=s?String(s):"";c=w_.getInertBodyElement(u);let h=5,p=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=p,p=c.innerHTML,c=w_.getInertBodyElement(u)}while(u!==p);return nf((new uT).sanitizeChildren(E_(c)||c))}finally{if(c){const u=E_(c)||c;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function E_(o){return"content"in o&&function hT(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var od=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(od||{});function Yo(o){const s=sd();return s?s.sanitize(od.URL,o)||"":af(o,"URL")?Cs(o):__(ue(o))}function ux(o){const s=sd();if(s)return tx(s.sanitize(od.RESOURCE_URL,o)||"");if(af(o,"ResourceURL"))return tx(Cs(o));throw new le(904,!1)}function _T(o,s,c){return function dx(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?ux:Yo}(s,c)(o)}function sd(){const o=Oe();return o&&o[as].sanitizer}class An{constructor(s,c){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=rt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const I_=new An("ENVIRONMENT_INITIALIZER"),Jv=new An("INJECTOR",-1),Ya=new An("INJECTOR_DEF_TYPES");class hx{get(s,c=Bn){if(c===Bn){const u=new Error(`NullInjectorError: No provider for ${ne(s)}!`);throw u.name="NullInjectorError",u}return c}}function fx(o){return{\u0275providers:o}}function rR(...o){return{\u0275providers:yT(0,o),\u0275fromNgModule:!0}}function yT(o,...s){const c=[],u=new Set;let h;return jc(s,p=>{const y=p;C_(y,c,[],u)&&(h||=[],h.push(y))}),void 0!==h&&eb(h,c),c}function eb(o,s){for(let c=0;c<o.length;c++){const{providers:h}=o[c];tb(h,p=>{s.push(p)})}}function C_(o,s,c,u){if(!(o=Re(o)))return!1;let h=null,p=pi(o);const y=!p&&Wt(o);if(p||y){if(y&&!y.standalone)return!1;h=o}else{const I=o.ngModule;if(p=pi(I),!p)return!1;h=I}const E=u.has(h);if(y){if(E)return!1;if(u.add(h),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of I)C_(T,s,c,u)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let T;u.add(h);try{jc(p.imports,R=>{C_(R,s,c,u)&&(T||=[],T.push(R))})}finally{}void 0!==T&&eb(T,s)}if(!E){const T=fs(h)||(()=>new h);s.push({provide:h,useFactory:T,deps:vt},{provide:Ya,useValue:h,multi:!0},{provide:I_,useValue:()=>qe(h),multi:!0})}const I=p.providers;null==I||E||tb(I,R=>{s.push(R)})}}return h!==o&&void 0!==o.providers}function tb(o,s){for(let c of o)Ne(c)&&(c=c.\u0275providers),Array.isArray(c)?tb(c,s):s(c)}const vT=j({provide:String,useValue:j});function px(o){return null!==o&&"object"==typeof o&&vT in o}function uf(o){return"function"==typeof o}const _x=new An("Set Injector scope."),D_={},sR={};let S_;function T_(){return void 0===S_&&(S_=new hx),S_}class ad{}class A_ extends ad{get destroyed(){return this._destroyed}constructor(s,c,u,h){super(),this.parent=c,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bx(s,y=>this.processProvider(y)),this.records.set(Jv,df(void 0,this)),h.has("environment")&&this.records.set(ad,df(void 0,this));const p=this.records.get(_x);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Ya.multi,vt,Et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of s)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const c=ve(this),u=xn(void 0);try{return s()}finally{ve(c),xn(u)}}get(s,c=Bn,u=Et.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(uo))return s[uo](this);u=$(u);const h=ve(this),p=xn(void 0);try{if(!(u&Et.SkipSelf)){let E=this.records.get(s);if(void 0===E){const I=function aR(o){return"function"==typeof o||"object"==typeof o&&o instanceof An}(s)&&Rn(s);E=I&&this.injectableDefInScope(I)?df(ib(s),D_):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(u&Et.Self?T_():this.parent).get(s,c=u&Et.Optional&&c===Bn?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[Dn]=y[Dn]||[]).unshift(ne(s)),h)throw y;return function O(o,s,c,u){const h=o[Dn];throw s[ei]&&h.unshift(s[ei]),o.message=function ee(o,s,c,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=ne(s);if(Array.isArray(s))h=s.map(ne).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let E=s[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):ne(E)))}h=`{${p.join(", ")}}`}return`${c}${u?"("+u+")":""}[${h}]: ${o.replace(pr,"\n  ")}`}("\n"+o.message,h,c,u),o.ngTokenPath=h,o[Dn]=null,o}(y,s,"R3InjectorError",this.source)}throw y}finally{xn(p),ve(h)}}resolveInjectorInitializers(){const s=ve(this),c=xn(void 0);try{const u=this.get(I_.multi,vt,Et.Self);for(const h of u)h()}finally{ve(s),xn(c)}}toString(){const s=[],c=this.records;for(const u of c.keys())s.push(ne(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(s){let c=uf(s=Re(s))?s:Re(s&&s.provide);const u=function wT(o){return px(o)?df(void 0,o.useValue):df(yx(o),D_)}(s);if(uf(s)||!0!==s.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=df(void 0,D_,!0),h.factory=()=>z(h.multi),this.records.set(c,h)),c=s,h.multi.push(s)}this.records.set(c,u)}hydrate(s,c){return c.value===D_&&(c.value=sR,c.value=c.factory()),"object"==typeof c.value&&c.value&&function ET(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(s){if(!s.providedIn)return!1;const c=Re(s.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(s){const c=this._onDestroyHooks.indexOf(s);-1!==c&&this._onDestroyHooks.splice(c,1)}}function ib(o){const s=Rn(o),c=null!==s?s.factory:fs(o);if(null!==c)return c;if(o instanceof An)throw new le(204,!1);if(o instanceof Function)return function bT(o){const s=o.length;if(s>0)throw Ks(s,"?"),new le(204,!1);const c=function qn(o){return o&&(o[Yn]||o[Pi])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new le(204,!1)}function yx(o,s,c){let u;if(uf(o)){const h=Re(o);return fs(h)||ib(h)}if(px(o))u=()=>Re(o.useValue);else if(function gx(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...z(o.deps||[]));else if(function nb(o){return!(!o||!o.useExisting)}(o))u=()=>qe(Re(o.useExisting));else{const h=Re(o&&(o.useClass||o.provide));if(!function vx(o){return!!o.deps}(o))return fs(h)||ib(h);u=()=>new h(...z(o.deps))}return u}function df(o,s,c=!1){return{factory:o,value:s,multi:c?[]:void 0}}function bx(o,s){for(const c of o)Array.isArray(c)?bx(c,s):c&&Ne(c)?bx(c.\u0275providers,s):s(c)}const xT=new An("AppId",{providedIn:"root",factory:()=>cR}),cR="ng",IT=new An("Platform Initializer"),wx=new An("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),cn=new An("AnimationModuleType"),rb=new An("CSP nonce",{providedIn:"root",factory:()=>function sf(){if(void 0!==m_)return m_;if(typeof document<"u")return document;throw new le(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ex=(o,s)=>null;function Qm(o,s){return Ex(o,s)}class lb{}class xx{}class ub{resolveComponentFactory(s){throw function AT(o){const s=Error(`No component factory found for ${ne(o)}.`);return s.ngComponent=o,s}(s)}}let Xm=(()=>{class o{}return o.NULL=new ub,o})();function kT(){return ud(Zi(),Oe())}function ud(o,s){return new dd(Ii(o,s))}let dd=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=kT,o})();function db(o){return o instanceof dd?o.nativeElement:o}class O_{}let hb=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function fb(){const o=Oe(),c=kr(Zi().index,o);return(Wi(c)?c:o)[$t]}(),o})(),Ix=(()=>{class o{}return o.\u0275prov=rt({token:o,providedIn:"root",factory:()=>null}),o})();class Cx{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const pf=new Cx("16.1.8"),mb={};function Xc(o){for(;o;){o[qt]|=64;const s=jm(o);if(bc(o)&&!s)return o;o=s}return null}function gf(o){return o.ngOriginalError}class Xl{constructor(){this._console=console}handleError(s){const c=this._findOriginalError(s);this._console.error("ERROR",s),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(s){let c=s&&gf(s);for(;c&&gf(c);)c=gf(c);return c||null}}const gb=new An("",{providedIn:"root",factory:()=>!1});function Jc(o){return o instanceof Function?o():o}class lr extends wr{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){Xc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,c,u){const h=Xn(this);this.trackingVersion++;try{s(c,u)}finally{Xn(h)}}destroy(){this.trackingVersion++}}let Xi=null;function Jm(){return Xi??=new lr,Xi}function V_(o,s){return o[s]??Jm()}function Ax(o,s){const c=Jm();c.hasReadASignal&&(o[s]=Xi,c.lView=o,Xi=new lr)}const tn={};function Mx(o){Ib(an(),Oe(),Ki()+o,!1)}function Ib(o,s,c,u){if(!u)if(3==(3&s[qt])){const p=o.preOrderCheckHooks;null!==p&&Va(s,p,c)}else{const p=o.preOrderHooks;null!==p&&Fc(s,p,0,c)}_s(c)}function Db(o,s=null,c=null,u){const h=Px(o,s,c,u);return h.resolveInjectorInitializers(),h}function Px(o,s=null,c=null,u,h=new Set){const p=[c||vt,rR(o)];return u=u||("object"==typeof o?void 0:ne(o)),new A_(p,s||T_(),u||null,h)}let Ds=(()=>{class o{static create(c,u){if(Array.isArray(c))return Db({name:""},u,c,"");{const h=c.name??"";return Db({name:h},c.parent,c.providers,h)}}}return o.THROW_IF_NOT_FOUND=Bn,o.NULL=new hx,o.\u0275prov=rt({token:o,providedIn:"any",factory:()=>qe(Jv)}),o.__NG_ELEMENT_ID__=-1,o})();function fd(o,s=Et.Default){const c=Oe();return null===c?qe(o,s):Co(Zi(),c,Re(o),s)}function Sb(){throw new Error("invalid")}function md(o,s,c,u,h,p,y,E,I,T,R){const U=s.blueprint.slice();return U[rn]=h,U[qt]=140|u,(null!==T||o&&2048&o[qt])&&(U[qt]|=2048),Tc(U),U[Qn]=U[cs]=o,U[ui]=c,U[as]=y||o&&o[as],U[$t]=E||o&&o[$t],U[br]=I||o&&o[br]||null,U[or]=p,U[ls]=function en(){return dt++}(),U[Li]=R,U[wh]=T,U[Hn]=2==s.type?o[Hn]:U,U}function _f(o,s,c,u,h){let p=o.data[s];if(null===p)p=function Tb(o,s,c,u,h){const p=Gg(),y=Wg(),I=o.data[s]=function kb(o,s,c,u,h,p){let y=s?s.injectorIndex:-1,E=0;return Qr()&&(E|=128),{type:c,index:u,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,s,u,h);return null===o.firstChild&&(o.firstChild=I),null!==p&&(y?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I,I.prev=p)),I}(o,s,c,u,h),function Ci(){return Pt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=c,p.value=u,p.attrs=h;const y=function Vu(){const o=Pt.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return yo(p,!0),p}function Qa(o,s,c,u){if(0===c)return-1;const h=s.length;for(let p=0;p<c;p++)s.push(u),o.blueprint.push(u),o.data.push(null);return h}function Lx(o,s,c,u,h){const p=V_(s,us),y=Ki(),E=2&u;try{if(_s(-1),E&&s.length>on&&Ib(o,s,on,!1),$o(E?2:0,h),E)p.runInContext(c,u,h);else{const T=Xn(null);try{c(u,h)}finally{Xn(T)}}}finally{E&&null===s[us]&&Ax(s,us),_s(y),$o(E?3:1,h)}}function Ab(o,s,c){if(Su(s)){const u=Xn(null);try{const p=s.directiveEnd;for(let y=s.directiveStart;y<p;y++){const E=o.data[y];E.contentQueries&&E.contentQueries(1,c[y],y)}}finally{Xn(u)}}}function el(o,s,c){gs()&&(function Lb(o,s,c,u){const h=c.directiveStart,p=c.directiveEnd;po(c)&&function pd(o,s,c){const u=Ii(s,o),h=np(c);let y=16;c.signals?y=4096:c.onPush&&(y=64);const E=Ts(o,md(o,h,null,y,u,s,null,o[as].rendererFactory.createRenderer(u,c),null,null,null));o[s.index]=E}(s,c,o.data[h+c.componentOffset]),o.firstCreatePass||vs(c,s),Qi(u,s);const y=c.initialInputs;for(let E=h;E<p;E++){const I=o.data[E],T=Er(s,o,E,c);Qi(T,s),null!==y&&PT(0,E-h,T,I,0,y),Vi(I)&&(kr(c.index,s)[ui]=Er(s,o,E,c))}}(o,s,c,Ii(c,s)),64==(64&c.flags)&&Vb(o,s,c))}function j_(o,s,c=Ii){const u=s.localNames;if(null!==u){let h=s.index+1;for(let p=0;p<u.length;p+=2){const y=u[p+1],E=-1===y?c(s,o):o[y];o[h++]=E}}}function np(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=H_(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):s}function H_(o,s,c,u,h,p,y,E,I,T,R){const U=on+u,Q=U+h,te=function ip(o,s){const c=[];for(let u=0;u<s;u++)c.push(u<o?null:tn);return c}(U,Q),Se="function"==typeof T?T():T;return te[lt]={type:o,blueprint:te,template:c,queries:null,viewQuery:E,declTNode:s,data:te.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:Q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:Se,incompleteFirstPass:!1,ssrId:R}}let Mb=o=>null;function Rb(o,s,c,u){for(let h in o)if(o.hasOwnProperty(h)){c=null===c?{}:c;const p=o[h];null===u?Ob(c,s,h,p):u.hasOwnProperty(h)&&Ob(c,s,u[h],p)}return c}function Ob(o,s,c,u){o.hasOwnProperty(c)?o[c].push(s,u):o[c]=[s,u]}function oo(o,s,c,u,h,p,y,E){const I=Ii(s,c);let R,T=s.inputs;!E&&null!=T&&(R=T[u])?(gd(o,c,R,u,h),po(s)&&function Pb(o,s){const c=kr(s,o);16&c[qt]||(c[qt]|=64)}(c,s.index)):3&s.type&&(u=function Nb(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),h=null!=y?y(h,s.value||"",u):h,p.setProperty(I,u,h))}function W_(o,s,c,u){if(gs()){const h=null===u?null:{"":-1},p=function Hx(o,s){const c=o.directiveRegistry;let u=null,h=null;if(c)for(let p=0;p<c.length;p++){const y=c[p];if(Vs(s,y.selectors,!1))if(u||(u=[]),Vi(y))if(null!==y.findHostDirectiveDefs){const E=[];h=h||new Map,y.findHostDirectiveDefs(y,E,h),u.unshift(...E,y),Bb(o,s,E.length)}else u.unshift(y),Bb(o,s,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,u,h),u.push(y)}return null===u?null:[u,h]}(o,c);let y,E;null===p?y=E=null:[y,E]=p,null!==y&&Ux(o,s,c,y,h,E),h&&function sp(o,s,c){if(s){const u=o.localNames=[];for(let h=0;h<s.length;h+=2){const p=c[s[h+1]];if(null==p)throw new le(-301,!1);u.push(s[h],p)}}}(c,u,h)}c.mergedAttrs=ga(c.mergedAttrs,c.attrs)}function Ux(o,s,c,u,h,p){for(let T=0;T<u.length;T++)eo(vs(c,s),o,u[T].type);!function Z_(o,s,c){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+c,o.providerIndexes=s}(c,o.data.length,u.length);for(let T=0;T<u.length;T++){const R=u[T];R.providersResolver&&R.providersResolver(R)}let y=!1,E=!1,I=Qa(o,s,u.length,null);for(let T=0;T<u.length;T++){const R=u[T];c.mergedAttrs=ga(c.mergedAttrs,R.hostAttrs),ap(o,c,s,I,R),zx(I,R,h),null!==R.contentQueries&&(c.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(c.flags|=64);const U=R.type.prototype;!y&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((o.preOrderHooks??=[]).push(c.index),y=!0),!E&&(U.ngOnChanges||U.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(c.index),E=!0),I++}!function op(o,s,c){const h=s.directiveEnd,p=o.data,y=s.attrs,E=[];let I=null,T=null;for(let R=s.directiveStart;R<h;R++){const U=p[R],Q=c?c.get(U):null,Se=Q?Q.outputs:null;I=Rb(U.inputs,R,I,Q?Q.inputs:null),T=Rb(U.outputs,R,T,Se);const He=null===I||null===y||xu(s)?null:$x(I,R,y);E.push(He)}null!==I&&(I.hasOwnProperty("class")&&(s.flags|=8),I.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=I,s.outputs=T}(o,c,p)}function Vb(o,s,c){const u=c.directiveStart,h=c.directiveEnd,p=c.index,y=function Pl(){return Pt.lFrame.currentDirectiveIndex}();try{_s(p);for(let E=u;E<h;E++){const I=o.data[E],T=s[E];Uu(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&jx(I,T)}}finally{_s(-1),Uu(y)}}function jx(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function Bb(o,s,c){s.componentOffset=c,(o.components??=[]).push(s.index)}function zx(o,s,c){if(c){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)c[s.exportAs[u]]=o;Vi(s)&&(c[""]=o)}}function ap(o,s,c,u,h){o.data[u]=h;const p=h.factory||(h.factory=fs(h.type)),y=new ft(p,Vi(h),fd);o.blueprint[u]=y,c[u]=y,function Fb(o,s,c,u,h){const p=h.hostBindings;if(p){let y=o.hostBindingOpCodes;null===y&&(y=o.hostBindingOpCodes=[]);const E=~s.index;(function q_(o){let s=o.length;for(;s>0;){const c=o[--s];if("number"==typeof c&&c<0)return c}return 0})(y)!=E&&y.push(E),y.push(c,u,p)}}(o,s,u,Qa(o,c,h.hostVars,tn),h)}function Ss(o,s,c,u,h,p){const y=Ii(o,s);!function Ub(o,s,c,u,h,p,y){if(null==p)o.removeAttribute(s,h,c);else{const E=null==y?ue(p):y(p,u||"",h);o.setAttribute(s,h,E,c)}}(s[$t],y,p,o.value,c,u,h)}function PT(o,s,c,u,h,p){const y=p[s];if(null!==y)for(let E=0;E<y.length;)jb(u,c,y[E++],y[E++],y[E++])}function jb(o,s,c,u,h){const p=Xn(null);try{const y=o.inputTransforms;null!==y&&y.hasOwnProperty(u)&&(h=y[u].call(s,h)),null!==o.setInput?o.setInput(s,h,c,u):s[u]=h}finally{Xn(p)}}function $x(o,s,c){let u=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(o.hasOwnProperty(p)){null===u&&(u=[]);const y=o[p];for(let E=0;E<y.length;E+=2)if(y[E]===s){u.push(p,y[E+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function Gx(o,s,c,u){return[o,!0,!1,s,null,0,u,c,null,null,null]}function Jl(o,s){const c=o.contentQueries;if(null!==c)for(let u=0;u<c.length;u+=2){const p=c[u+1];if(-1!==p){const y=o.data[p];Pa(c[u]),y.contentQueries(2,s[p],p)}}}function Ts(o,s){return o[Ia]?o[El][vr]=s:o[Ia]=s,o[El]=s,s}function yf(o,s,c){Pa(0);const u=Xn(null);try{s(o,c)}finally{Xn(u)}}function zb(o){return o[xa]||(o[xa]=[])}function ni(o){return o.cleanup||(o.cleanup=[])}function cp(o,s,c){return(null===o||Vi(o))&&(c=function kl(o){for(;Array.isArray(o);){if("object"==typeof o[xl])return o;o=o[rn]}return null}(c[s.index])),c[$t]}function vf(o,s){const c=o[br],u=c?c.get(Xl,null):null;u&&u.handleError(s)}function gd(o,s,c,u,h){for(let p=0;p<c.length;){const y=c[p++],E=c[p++];jb(o.data[y],s[y],u,E,h)}}function Wx(o,s){const c=kr(s,o),u=c[lt];!function FT(o,s){for(let c=s.length;c<o.blueprint.length;c++)s.push(o.blueprint[c])}(u,c);const h=c[rn];null!==h&&null===c[Li]&&(c[Li]=Qm(h,c[br])),$b(u,c,c[ui])}function $b(o,s,c){Uh(s);try{const u=o.viewQuery;null!==u&&yf(1,u,c);const h=o.template;null!==h&&Lx(o,s,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Jl(o,s),o.staticViewQueries&&yf(2,o.viewQuery,c);const p=o.components;null!==p&&function LT(o,s){for(let c=0;c<s.length;c++)Wx(o,s[c])}(s,p)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{s[qt]&=-5,jh()}}let Gb=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(c,u,h){const p=typeof Zone>"u"?null:Zone.current,y=new Nu(c,T=>{this.all.has(T)&&this.queue.set(T,p)},h);let E;this.all.add(y),y.notify();const I=()=>{y.cleanup(),E?.(),this.all.delete(y),this.queue.delete(y)};return E=u?.onDestroy(I),{destroy:I}}flush(){if(0!==this.queue.size)for(const[c,u]of this.queue)this.queue.delete(c),u?u.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}}return o.\u0275prov=rt({token:o,providedIn:"root",factory:()=>new o}),o})();function up(o,s,c){let u=c?o.styles:null,h=c?o.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const E=s[y];"number"==typeof E?p=E:1==p?h=Ve(h,E):2==p&&(u=Ve(u,E+": "+s[++y]+";"))}c?o.styles=u:o.stylesWithoutHost=u,c?o.classes=h:o.classesWithoutHost=h}function Xa(o,s,c,u,h=!1){for(;null!==c;){const p=s[c.index];if(null!==p&&u.push(Tn(p)),ti(p)){for(let E=Zn;E<p.length;E++){const I=p[E],T=I[lt].firstChild;null!==T&&Xa(I[lt],I,T,u)}p[Zr]!==p[rn]&&u.push(p[Zr])}const y=c.type;if(8&y)Xa(o,s,c.child,u);else if(32&y){const E=Jh(c,s);let I;for(;I=E();)u.push(I)}else if(16&y){const E=YE(s,c);if(Array.isArray(E))u.push(...E);else{const I=jm(s[Hn]);Xa(I[lt],I,E,u,!0)}}c=h?c.projectionNext:c.next}return u}function K_(o,s,c,u=!0){const h=s[as].rendererFactory;h.begin&&h.begin();try{Kx(o,s,o.template,c)}catch(y){throw u&&vf(s,y),y}finally{h.end&&h.end(),s[as].effectManager?.flush()}}function Kx(o,s,c,u){const h=s[qt];if(256!=(256&h)){s[as].effectManager?.flush(),Uh(s);try{Tc(s),function Bu(o){return Pt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&Lx(o,s,c,2,u);const y=3==(3&h);if(y){const T=o.preOrderCheckHooks;null!==T&&Va(s,T,null)}else{const T=o.preOrderHooks;null!==T&&Fc(s,T,0,null),Ll(s,0)}if(function Yx(o){for(let s=zE(o);null!==s;s=o_(s)){if(!s[Eh])continue;const c=s[ds];for(let u=0;u<c.length;u++){Rl(c[u])}}}(s),Wb(s,2),null!==o.contentQueries&&Jl(o,s),y){const T=o.contentCheckHooks;null!==T&&Va(s,T)}else{const T=o.contentHooks;null!==T&&Fc(s,T,1),Ll(s,1)}!function Fx(o,s){const c=o.hostBindingOpCodes;if(null===c)return;const u=V_(s,jo);try{for(let h=0;h<c.length;h++){const p=c[h];if(p<0)_s(~p);else{const y=p,E=c[++h],I=c[++h];Tm(E,y),u.runInContext(I,2,s[y])}}}finally{null===s[jo]&&Ax(s,jo),_s(-1)}}(o,s);const E=o.components;null!==E&&Zb(s,E,0);const I=o.viewQuery;if(null!==I&&yf(2,I,u),y){const T=o.viewCheckHooks;null!==T&&Va(s,T)}else{const T=o.viewHooks;null!==T&&Fc(s,T,2),Ll(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[qt]&=-73,zs(s)}finally{jh()}}}function Wb(o,s){for(let c=zE(o);null!==c;c=o_(c))for(let u=Zn;u<c.length;u++)Y_(c[u],s)}function qb(o,s,c){Y_(kr(s,o),c)}function Y_(o,s){if(!function kh(o){return 128==(128&o[qt])}(o))return;const c=o[lt];if(80&o[qt]&&0===s||1024&o[qt]||2===s)Kx(c,o,c.template,o[ui]);else if(o[vc]>0){Wb(o,1);const h=o[lt].components;null!==h&&Zb(o,h,1)}}function Zb(o,s,c){for(let u=0;u<s.length;u++)qb(o,s[u],c)}class bf{get rootNodes(){const s=this._lView,c=s[lt];return Xa(c,s,c.firstChild,[])}constructor(s,c){this._lView=s,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ui]}set context(s){this._lView[ui]=s}get destroyed(){return 256==(256&this._lView[qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Qn];if(ti(s)){const c=s[8],u=c?c.indexOf(this):-1;u>-1&&(Wv(s,u),zl(c,u))}this._attachedToViewContainer=!1}c_(this._lView[lt],this._lView)}onDestroy(s){!function ps(o,s){if(256==(256&o[qt]))throw new le(911,!1);null===o[Mr]&&(o[Mr]=[]),o[Mr].push(s)}(this._lView,s)}markForCheck(){Xc(this._cdRefInjectingView||this._lView)}detach(){this._lView[qt]&=-129}reattach(){this._lView[qt]|=128}detectChanges(){K_(this._lView[lt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Q1(o,s){tf(o,s,s[$t],2,null,null)}(this._lView[lt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=s}}class BT extends bf{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;K_(s[lt],s,s[ui],!1)}checkNoChanges(){}get context(){return null}}class Qx extends Xm{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const c=Wt(s);return new nl(c,this.ngModule)}}function Xx(o){const s=[];for(let c in o)o.hasOwnProperty(c)&&s.push({propName:o[c],templateName:c});return s}class Q_{constructor(s,c){this.injector=s,this.parentInjector=c}get(s,c,u){u=$(u);const h=this.injector.get(s,mb,u);return h!==mb||c===mb?h:this.parentInjector.get(s,c,u)}}class nl extends xx{get inputs(){const s=this.componentDef,c=s.inputTransforms,u=Xx(s.inputs);if(null!==c)for(const h of u)c.hasOwnProperty(h.propName)&&(h.transform=c[h.propName]);return u}get outputs(){return Xx(this.componentDef.outputs)}constructor(s,c){super(),this.componentDef=s,this.ngModule=c,this.componentType=s.type,this.selector=function yh(o){return o.map(Pg).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!c}create(s,c,u,h){let p=(h=h||this.ngModule)instanceof ad?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new Q_(s,p):s,E=y.get(O_,null);if(null===E)throw new le(407,!1);const R={rendererFactory:E,sanitizer:y.get(Ix,null),effectManager:y.get(Gb,null)},U=E.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",te=u?function Vx(o,s,c,u){const p=u.get(gb,!1)||c===kt.ShadowDom,y=o.selectRootElement(s,p);return function ro(o){Mb(o)}(y),y}(U,u,this.componentDef.encapsulation,y):a_(U,Q,function UT(o){const s=o.toLowerCase();return"svg"===s?Dc:"math"===s?"math":null}(Q)),at=this.componentDef.signals?4608:this.componentDef.onPush?576:528,wt=H_(0,null,null,1,0,null,null,null,null,null,null),Me=md(null,wt,null,at,null,null,R,U,y,null,null);let Zt,un;Uh(Me);try{const dn=this.componentDef;let Ut,dg=null;dn.findHostDirectiveDefs?(Ut=[],dg=new Map,dn.findHostDirectiveDefs(dn,Ut,dg),Ut.push(dn)):Ut=[dn];const ID=function Kb(o,s){const c=o[lt],u=on;return o[u]=s,_f(c,u,2,"#host",null)}(Me,te),hg=function Jx(o,s,c,u,h,p,y){const E=h[lt];!function dp(o,s,c,u){for(const h of o)s.mergedAttrs=ga(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(up(s,s.mergedAttrs,!0),null!==c&&XE(u,c,s))}(u,o,s,y);let I=null;null!==s&&(I=Qm(s,h[br]));const T=p.rendererFactory.createRenderer(s,c);let R=16;c.signals?R=4096:c.onPush&&(R=64);const U=md(h,np(c),null,R,h[o.index],o,p,T,null,null,I);return E.firstCreatePass&&Bb(E,o,u.length-1),Ts(h,U),h[o.index]=U}(ID,te,dn,Ut,Me,R,U);un=Mh(wt,on),te&&function jT(o,s,c,u){if(u)Uo(o,c,["ng-version",pf.full]);else{const{attrs:h,classes:p}=function Iu(o){const s=[],c=[];let u=1,h=2;for(;u<o.length;){let p=o[u];if("string"==typeof p)2===h?""!==p&&s.push(p,o[++u]):8===h&&c.push(p);else{if(!yr(h))break;h=p}u++}return{attrs:s,classes:c}}(s.selectors[0]);h&&Uo(o,c,h),p&&p.length>0&&QE(o,c,p.join(" "))}}(U,dn,te,u),void 0!==c&&function Ai(o,s,c){const u=o.projection=[];for(let h=0;h<s.length;h++){const p=c[h];u.push(null!=p?Array.from(p):null)}}(un,this.ngContentSelectors,c),Zt=function hp(o,s,c,u,h,p){const y=Zi(),E=h[lt],I=Ii(y,h);Ux(E,h,y,c,null,u);for(let R=0;R<c.length;R++)Qi(Er(h,E,y.directiveStart+R,y),h);Vb(E,h,y),I&&Qi(I,h);const T=Er(h,E,y.directiveStart+y.componentOffset,y);if(o[ui]=h[ui]=T,null!==p)for(const R of p)R(T,s);return Ab(E,y,o),T}(hg,dn,Ut,dg,Me,[eI]),$b(wt,Me,null)}finally{jh()}return new X_(this.componentType,Zt,ud(un,Me),Me,un)}}class X_ extends lb{constructor(s,c,u,h,p){super(),this.location=u,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new BT(h),this.componentType=s}setInput(s,c){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),c))return;const p=this._rootLView;gd(p[lt],p,h,s,c),this.previousInputValues.set(s,c),Xc(kr(this._tNode.index,p))}}get injector(){return new Br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function eI(){const o=Zi();Pc(Oe()[lt],o)}function Yb(o){let s=function tI(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const u=[o];for(;s;){let h;if(Vi(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new le(903,!1);h=s.\u0275dir}if(h){if(c){u.push(h);const y=o;y.inputs=fp(o.inputs),y.inputTransforms=fp(o.inputTransforms),y.declaredInputs=fp(o.declaredInputs),y.outputs=fp(o.outputs);const E=h.hostBindings;E&&J_(o,E);const I=h.viewQuery,T=h.contentQueries;if(I&&nI(o,I),T&&iI(o,T),W(o.inputs,h.inputs),W(o.declaredInputs,h.declaredInputs),W(o.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),W(y.inputTransforms,h.inputTransforms)),Vi(h)&&h.data.animation){const R=o.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const E=p[y];E&&E.ngInherit&&E(o),E===Yb&&(c=!1)}}s=Object.getPrototypeOf(s)}!function HT(o){let s=0,c=null;for(let u=o.length-1;u>=0;u--){const h=o[u];h.hostVars=s+=h.hostVars,h.hostAttrs=ga(h.hostAttrs,c=ga(c,h.hostAttrs))}}(u)}function fp(o){return o===It?{}:o===vt?[]:o}function nI(o,s){const c=o.viewQuery;o.viewQuery=c?(u,h)=>{s(u,h),c(u,h)}:s}function iI(o,s){const c=o.contentQueries;o.contentQueries=c?(u,h,p)=>{s(u,h,p),c(u,h,p)}:s}function J_(o,s){const c=o.hostBindings;o.hostBindings=c?(u,h)=>{s(u,h),c(u,h)}:s}function pp(o){const s=o.inputConfig,c={};for(const u in s)if(s.hasOwnProperty(u)){const h=s[u];Array.isArray(h)&&h[2]&&(c[u]=h[2])}o.inputTransforms=c}function yd(o){return!!vd(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function vd(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Dr(o,s,c){return!Object.is(o[s],c)&&(o[s]=c,!0)}function ny(o,s,c,u){const h=Oe();return Dr(h,Jn(),s)&&(an(),Ss(Kn(),h,o,s,c,u)),ny}function pI(o,s,c,u,h,p,y,E){const I=Oe(),T=an(),R=o+on,U=T.firstCreatePass?function Ct(o,s,c,u,h,p,y,E,I){const T=s.consts,R=_f(s,o,4,y||null,Yr(T,E));W_(s,c,R,Yr(T,I)),Pc(s,R);const U=R.tView=H_(2,R,u,h,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T,null);return null!==s.queries&&(s.queries.template(s,R),U.queries=s.queries.embeddedTView(R)),R}(R,T,I,s,c,u,h,p,y):T.data[R];yo(U,!1);const Q=st(T,I,U,o);Wo()&&l_(T,I,Q,U),Qi(Q,I),Ts(I,I[R]=Gx(Q,I,Q,U)),Da(U)&&el(T,I,U),null!=y&&j_(I,U,E)}let st=function he(o,s,c,u){return wo(!0),s[$t].createComment("")};function _I(o){return Kr(function Go(){return Pt.lFrame.contextLView}(),on+o)}function n0(o,s,c){const u=Oe();return Dr(u,Jn(),s)&&oo(an(),Kn(),u,o,s,u[$t],c,!1),n0}function r0(o,s,c,u,h){const y=h?"class":"style";gd(o,c,s.inputs[y],y,u)}function cy(o,s,c,u){const h=Oe(),p=an(),y=on+o,E=h[$t],I=p.firstCreatePass?function XT(o,s,c,u,h,p){const y=s.consts,I=_f(s,o,2,u,Yr(y,h));return W_(s,c,I,Yr(y,p)),null!==I.attrs&&up(I,I.attrs,!1),null!==I.mergedAttrs&&up(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(y,p,h,s,c,u):p.data[y],T=JT(p,h,I,E,s,o);h[y]=T;const R=Da(I);return yo(I,!0),XE(E,T,I),32!=(32&I.flags)&&Wo()&&l_(p,h,T,I),0===function Nh(){return Pt.lFrame.elementDepthCount}()&&Qi(T,h),function Ac(){Pt.lFrame.elementDepthCount++}(),R&&(el(p,h,I),Ab(p,I,h)),null!==u&&j_(h,I),cy}function bp(){let o=Zi();Wg()?kc():(o=o.parent,yo(o,!1));const s=o;(function Nl(o){return Pt.skipHydrationRootTNode===o})(s)&&function Sm(){Pt.skipHydrationRootTNode=null}(),function Dm(){Pt.lFrame.elementDepthCount--}();const c=an();return c.firstCreatePass&&(Pc(c,o),Su(o)&&c.queries.elementEnd(o)),null!=s.classesWithoutHost&&function Nm(o){return 0!=(8&o.flags)}(s)&&r0(c,s,Oe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Bl(o){return 0!=(16&o.flags)}(s)&&r0(c,s,Oe(),s.stylesWithoutHost,!1),bp}function o0(o,s,c,u){return cy(o,s,c,u),bp(),o0}let JT=(o,s,c,u,h,p)=>(wo(!0),a_(u,h,function La(){return Pt.lFrame.currentNamespace}()));function vI(){return Oe()}function fi(o){return!!o&&"function"==typeof o.then}function it(o){return!!o&&"function"==typeof o.subscribe}function If(o,s,c,u){const h=Oe(),p=an(),y=Zi();return bI(p,h,h[$t],y,o,s,u),If}function Ep(o,s){const c=Zi(),u=Oe(),h=an();return bI(h,u,cp(ju(h.data),c,u),c,o,s),Ep}function bI(o,s,c,u,h,p,y){const E=Da(u),T=o.firstCreatePass&&ni(o),R=s[ui],U=zb(s);let Q=!0;if(3&u.type||y){const He=Ii(u,s),at=y?y(He):He,wt=U.length,Me=y?un=>y(Tn(un[u.index])):u.index;let Zt=null;if(!y&&E&&(Zt=function Ad(o,s,c,u){const h=o.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===c&&h[p+1]===u){const E=s[xa],I=h[p+2];return E.length>I?E[I]:null}"string"==typeof y&&(p+=2)}return null}(o,s,h,u.index)),null!==Zt)(Zt.__ngLastListenerFn__||Zt).__ngNextListenerFn__=p,Zt.__ngLastListenerFn__=p,Q=!1;else{p=wI(u,s,R,p,!1);const un=c.listen(at,h,p);U.push(p,un),T&&T.push(h,Me,wt,wt+1)}}else p=wI(u,s,R,p,!1);const te=u.outputs;let Se;if(Q&&null!==te&&(Se=te[h])){const He=Se.length;if(He)for(let at=0;at<He;at+=2){const dn=s[Se[at]][Se[at+1]].subscribe(p),Ut=U.length;U.push(p,dn),T&&T.push(h,u.index,Ut,-(Ut+1))}}}function xp(o,s,c,u){try{return $o(6,s,c),!1!==c(u)}catch(h){return vf(o,h),!1}finally{$o(7,s,c)}}function wI(o,s,c,u,h){return function p(y){if(y===Function)return u;Xc(o.componentOffset>-1?kr(o.index,s):s);let I=xp(s,c,u,y),T=p.__ngNextListenerFn__;for(;T;)I=xp(s,c,T,y)&&I,T=T.__ngNextListenerFn__;return h&&!1===I&&y.preventDefault(),I}}function Cf(o=1){return function ri(o){return(Pt.lFrame.contextLView=function qg(o,s){for(;o>0;)s=s[cs],o--;return s}(o,Pt.lFrame.contextLView))[ui]}(o)}function EI(o,s){let c=null;const u=function _h(o){const s=o.attrs;if(null!=s){const c=s.indexOf(5);if(!(1&c))return s[c+1]}return null}(o);for(let h=0;h<s.length;h++){const p=s[h];if("*"!==p){if(null===u?Vs(o,p,!0):Tv(u,p))return h}else c=h}return c}function s0(o){const s=Oe()[Hn][or];if(!s.projection){const u=s.projection=Ks(o?o.length:1,null),h=u.slice();let p=s.child;for(;null!==p;){const y=o?EI(p,o):0;null!==y&&(h[y]?h[y].projectionNext=p:u[y]=p,h[y]=p),p=p.next}}}function ko(o,s=0,c){const u=Oe(),h=an(),p=_f(h,on+o,16,null,c||null);null===p.projection&&(p.projection=s),kc(),(!u[Li]||Qr())&&32!=(32&p.flags)&&function d_(o,s,c){rd(s[$t],0,s,c,GE(o,c,s),qE(c.parent||s[or],c,s))}(h,u,p)}function ia(o,s){return o<<17|s<<2}function ru(o){return o>>17&32767}function Cp(o){return 2|o}function kd(o){return(131068&o)>>2}function c0(o,s){return-131069&o|s<<2}function Rd(o){return 1|o}function l0(o,s,c,u,h){const p=o[c+1],y=null===s;let E=u?ru(p):kd(p),I=!1;for(;0!==E&&(!1===I||y);){const R=o[E+1];ec(o[E],s)&&(I=!0,o[E+1]=u?Rd(R):Cp(R)),E=u?ru(R):kd(R)}I&&(o[c+1]=u?Cp(p):Rd(p))}function ec(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&A(o,s)>=0}function u0(o,s,c){return Ns(o,s,c,!1),u0}function d0(o,s){return Ns(o,s,null,!0),d0}function Ns(o,s,c,u){const h=Oe(),p=an(),y=function bo(o){const s=Pt.lFrame,c=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,c}(2);p.firstUpdatePass&&function dr(o,s,c,u){const h=o.data;if(null===h[c+1]){const p=h[Ki()],y=function my(o,s){return s>=o.expandoStartIndex}(o,c);(function al(o,s){return 0!=(o.flags&(s?8:16))})(p,u)&&null===s&&!y&&(s=!1),s=function RI(o,s,c,u){const h=ju(o);let p=u?s.residualClasses:s.residualStyles;if(null===h)0===(u?s.classBindings:s.styleBindings)&&(c=Hi(c=Tf(null,o,s,c,u),s.attrs,u),p=null);else{const y=s.directiveStylingLast;if(-1===y||o[y]!==h)if(c=Tf(h,o,s,c,u),null===p){let I=function ou(o,s,c){const u=c?s.classBindings:s.styleBindings;if(0!==kd(u))return o[ru(u)]}(o,s,u);void 0!==I&&Array.isArray(I)&&(I=Tf(null,o,s,I[1],u),I=Hi(I,s.attrs,u),function OI(o,s,c,u){o[ru(c?s.classBindings:s.styleBindings)]=u}(o,s,u,I))}else p=function ii(o,s,c){let u;const h=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<h;p++)u=Hi(u,o[p].hostAttrs,c);return Hi(u,s.attrs,c)}(o,s,u)}return void 0!==p&&(u?s.residualClasses=p:s.residualStyles=p),c}(h,p,s,u),function Hr(o,s,c,u,h,p){let y=p?s.classBindings:s.styleBindings,E=ru(y),I=kd(y);o[u]=c;let R,T=!1;if(Array.isArray(c)?(R=c[1],(null===R||A(c,R)>0)&&(T=!0)):R=c,h)if(0!==I){const Q=ru(o[E+1]);o[u+1]=ia(Q,E),0!==Q&&(o[Q+1]=c0(o[Q+1],u)),o[E+1]=function II(o,s){return 131071&o|s<<17}(o[E+1],u)}else o[u+1]=ia(E,0),0!==E&&(o[E+1]=c0(o[E+1],u)),E=u;else o[u+1]=ia(I,0),0===E?E=u:o[I+1]=c0(o[I+1],u),I=u;T&&(o[u+1]=Cp(o[u+1])),l0(o,R,u,!0),l0(o,R,u,!1),function nA(o,s,c,u,h){const p=h?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof s&&A(p,s)>=0&&(c[u+1]=Rd(c[u+1]))}(s,R,o,u,p),y=ia(E,I),p?s.classBindings=y:s.styleBindings=y}(h,p,s,c,y,u)}}(p,o,y,u),s!==tn&&Dr(h,y,s)&&function f0(o,s,c,u,h,p,y,E){if(!(3&s.type))return;const I=o.data,T=I[E+1],R=function Jo(o){return 1==(1&o)}(T)?NI(I,s,c,h,kd(T),y):void 0;Mi(R)||(Mi(p)||function Md(o){return 2==(2&o)}(T)&&(p=NI(I,null,c,h,E,y)),function WS(o,s,c,u,h){if(s)h?o.addClass(c,u):o.removeClass(c,u);else{let p=-1===u.indexOf("-")?void 0:S.DashCase;null==h?o.removeStyle(c,u,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=S.Important),o.setStyle(c,u,h,p))}}(u,y,Oa(Ki(),c),h,p))}(p,p.data[Ki()],h,h[$t],o,h[y+1]=function lA(o,s){return null==o||""===o||("string"==typeof s?o+=s:"object"==typeof o&&(o=ne(Cs(o)))),o}(s,c),u,y)}function Tf(o,s,c,u,h){let p=null;const y=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<y&&(p=s[E],u=Hi(u,p.hostAttrs,h),p!==o);)E++;return null!==o&&(c.directiveStylingLast=E),u}function Hi(o,s,c){const u=c?1:2;let h=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?h=y:h===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),x(o,y,!!c||s[++p]))}return void 0===o?null:o}function NI(o,s,c,u,h,p){const y=null===s;let E;for(;h>0;){const I=o[h],T=Array.isArray(I),R=T?I[1]:I,U=null===R;let Q=c[h+1];Q===tn&&(Q=U?vt:void 0);let te=U?D(Q,u):R===u?Q:void 0;if(T&&!Mi(te)&&(te=D(I,u)),Mi(te)&&(E=te,y))return E;const Se=o[h+1];h=y?ru(Se):kd(Se)}if(null!==s){let I=p?s.residualClasses:s.residualStyles;null!=I&&(E=D(I,u))}return E}function Mi(o){return void 0!==o}function wi(o,s=""){const c=Oe(),u=an(),h=o+on,p=u.firstCreatePass?_f(u,h,1,s,null):u.data[h],y=nc(u,c,p,s,o);c[h]=y,Wo()&&l_(u,c,y,p),yo(p,!1)}let nc=(o,s,c,u,h)=>(wo(!0),function zm(o,s){return o.createText(s)}(s[$t],u));function Od(o){return m0("",o,""),Od}function m0(o,s,c){const u=Oe(),h=function Ed(o,s,c,u){return Dr(o,Jn(),c)?s+ue(c)+u:tn}(u,o,s,c);return h!==tn&&function tl(o,s,c){const u=Oa(s,o);!function Gv(o,s,c){o.setValue(s,c)}(o[$t],u,c)}(u,Ki(),h),m0}function Mp(o,s,c){const u=Oe();if(Dr(u,Jn(),s)){const p=an(),y=Kn();oo(p,y,u,o,s,cp(ju(p.data),y,u),c,!0)}return Mp}const su=void 0;var HI=["en",[["a","p"],["AM","PM"],su],[["AM","PM"],su,su],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],su,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],su,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",su,"{1} 'at' {0}",su],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function w0(o){const c=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let Ld={};function E0(o){const s=function fA(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=x0(s);if(c)return c;const u=s.split("-")[0];if(c=x0(u),c)return c;if("en"===u)return HI;throw new le(701,!1)}function zI(o){return E0(o)[Vd.PluralCase]}function x0(o){return o in Ld||(Ld[o]=yt.ng&&yt.ng.common&&yt.ng.common.locales&&yt.ng.common.locales[o]),Ld[o]}var Vd=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(Vd||{});const au="en-US";let I0=au;function qd(o,s,c,u,h){if(o=Re(o),Array.isArray(o))for(let p=0;p<o.length;p++)qd(o[p],s,c,u,h);else{const p=an(),y=Oe();let E=uf(o)?o:Re(o.provide),I=yx(o);const T=Zi(),R=1048575&T.providerIndexes,U=T.directiveStart,Q=T.providerIndexes>>20;if(uf(o)||!o.multi){const te=new ft(I,h,fd),Se=Cy(E,s,h?R:R+Q,U);-1===Se?(eo(vs(T,y),p,E),Lf(p,o,s.length),s.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),c.push(te),y.push(te)):(c[Se]=te,y[Se]=te)}else{const te=Cy(E,s,R+Q,U),Se=Cy(E,s,R,R+Q),at=Se>=0&&c[Se];if(h&&!at||!h&&!(te>=0&&c[te])){eo(vs(T,y),p,E);const wt=function rC(o,s,c,u,h){const p=new ft(o,c,fd);return p.multi=[],p.index=s,p.componentProviders=0,H0(p,h,u&&!c),p}(h?AA:iC,c.length,h,u,I);!h&&at&&(c[Se].providerFactory=wt),Lf(p,o,s.length,0),s.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),c.push(wt),y.push(wt)}else Lf(p,o,te>-1?te:Se,H0(c[h?Se:te],I,!h&&u));!h&&u&&at&&c[Se].componentProviders++}}}function Lf(o,s,c,u){const h=uf(s),p=function oR(o){return!!o.useClass}(s);if(h||p){const I=(p?Re(s.useClass):s).prototype.ngOnDestroy;if(I){const T=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const R=T.indexOf(c);-1===R?T.push(c,[u,I]):T[R+1].push(u,I)}else T.push(c,I)}}}function H0(o,s,c){return c&&o.componentProviders++,o.multi.push(s)-1}function Cy(o,s,c,u){for(let h=c;h<u;h++)if(s[h]===o)return h;return-1}function iC(o,s,c,u){return Dy(this.multi,[])}function AA(o,s,c,u){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Er(c,c[lt],this.providerFactory.index,u);p=E.slice(0,y),Dy(h,p);for(let I=y;I<E.length;I++)p.push(E[I])}else p=[],Dy(h,p);return p}function Dy(o,s){for(let c=0;c<o.length;c++)s.push((0,o[c])());return s}function oC(o,s=[]){return c=>{c.providersResolver=(u,h)=>function zp(o,s,c){const u=an();if(u.firstCreatePass){const h=Vi(o);qd(c,u.data,u.blueprint,h,!0),qd(s,u.data,u.blueprint,h,!1)}}(u,h?h(o):o,s)}}class Vf{}class sC{}function MA(o,s){return new lu(o,s??null,[])}class lu extends Vf{constructor(s,c,u){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qx(this);const h=Ar(s);this._bootstrapComponents=Jc(h.bootstrap),this._r3Injector=Px(s,c,[{provide:Vf,useValue:this},{provide:Xm,useValue:this.componentFactoryResolver},...u],ne(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Sy extends sC{constructor(s){super(),this.moduleType=s}create(s){return new lu(this.moduleType,s,[])}}class ki extends Vf{constructor(s){super(),this.componentFactoryResolver=new Qx(this),this.instance=null;const c=new A_([...s.providers,{provide:Vf,useValue:this},{provide:Xm,useValue:this.componentFactoryResolver}],s.parent||T_(),s.debugName,new Set(["environment"]));this.injector=c,s.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Ty(o,s,c=null){return new ki({providers:o,parent:s,debugName:c,runEnvironmentInitializers:!0}).injector}let cC=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const u=yT(0,c.type),h=u.length>0?Ty([u],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,h)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=rt({token:o,providedIn:"environment",factory:()=>new o(qe(ad))}),o})();function Bf(o){o.getStandaloneInjector=s=>s.get(cC).getOrCreateStandaloneInjector(o)}function W0(o,s,c,u,h,p){const y=s+c;return Dr(o,y,h)?function ea(o,s,c){return o[s]=c}(o,y+1,p?u.call(p,h):u(h)):function $p(o,s){const c=o[s];return c===tn?void 0:c}(o,y+1)}function zf(o,s){const c=an();let u;const h=o+on;c.firstCreatePass?(u=function yC(o,s){if(s)for(let c=s.length-1;c>=0;c--){const u=s[c];if(o===u.name)return u}}(s,c.pipeRegistry),c.data[h]=u,u.onDestroy&&(c.destroyHooks??=[]).push(h,u.onDestroy)):u=c.data[h];const p=u.factory||(u.factory=fs(u.type)),y=xn(fd);try{const E=Ba(!1),I=p();return Ba(E),function gI(o,s,c,u){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),s[c]=u}(c,Oe(),h,I),I}finally{xn(y)}}function q0(o,s,c){const u=o+on,h=Oe(),p=Kr(h,u);return function mu(o,s){return o[lt].data[s].pure}(h,u)?W0(h,function sr(){const o=Pt.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}(),s,p.transform,c,p):p.transform(c)}function ml(o){return s=>{setTimeout(o,void 0,s)}}const sc=class Wp extends d.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,c,u){let h=s,p=c||(()=>null),y=u;if(s&&"object"==typeof s){const I=s;h=I.next?.bind(I),p=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(p=ml(p),h&&(h=ml(h)),y&&(y=ml(y)));const E=super.subscribe({next:h,error:p,complete:y});return s instanceof H.w0&&s.add(E),E}};function IC(){return this._results[Symbol.iterator]()}class My{get changes(){return this._changes||(this._changes=new sc)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=My.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=IC)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,c){return this._results.reduce(s,c)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,c){const u=this;u.dirty=!1;const h=function vi(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Hl(o,s,c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++){let h=o[u],p=s[u];if(c&&(h=c(h),p=c(p)),p!==h)return!1}return!0}(u._results,h,c))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let qp=(()=>{class o{}return o.__NG_ELEMENT_ID__=Zd,o})();const jA=qp,Zp=class extends jA{constructor(s,c,u){super(),this._declarationLView=s,this._declarationTContainer=c,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,c){return this.createEmbeddedViewImpl(s,c,null)}createEmbeddedViewImpl(s,c,u){const y=this._declarationTContainer.tView,E=md(this._declarationLView,y,s,4096&this._declarationLView[qt]?4096:16,null,y.declTNode,null,null,null,c||null,u||null);E[Ca]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[Gi];return null!==T&&(E[Gi]=T.createEmbeddedView(y)),$b(y,E,s),new bf(E)}};function Zd(){return ca(Zi(),Oe())}function ca(o,s){return 4&o.type?new Zp(s,o,ud(o,s)):null}let Kd=(()=>{class o{}return o.__NG_ELEMENT_ID__=zA,o})();function zA(){return $f(Zi(),Oe())}const nw=Kd,Kp=class extends nw{constructor(s,c,u){super(),this._lContainer=s,this._hostTNode=c,this._hostLView=u}get element(){return ud(this._hostTNode,this._hostLView)}get injector(){return new Br(this._hostTNode,this._hostLView)}get parentInjector(){const s=xo(this._hostTNode,this._hostLView);if(gt(s)){const c=Ws(s,this._hostLView),u=Rr(s);return new Br(c[lt].data[u+8],c)}return new Br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const c=DC(this._lContainer);return null!==c&&c[s]||null}get length(){return this._lContainer.length-Zn}createEmbeddedView(s,c,u){let h,p;"number"==typeof u?h=u:null!=u&&(h=u.index,p=u.injector);const E=s.createEmbeddedViewImpl(c||{},p,null);return this.insertImpl(E,h,false),E}createComponent(s,c,u,h,p){const y=s&&!function Uc(o){return"function"==typeof o}(s);let E;if(y)E=c;else{const He=c||{};E=He.index,u=He.injector,h=He.projectableNodes,p=He.environmentInjector||He.ngModuleRef}const I=y?s:new nl(Wt(s)),T=u||this.parentInjector;if(!p&&null==I.ngModule){const at=(y?T:this.parentInjector).get(ad,null);at&&(p=at)}Wt(I.componentType??{});const te=I.create(T,h,null,p);return this.insertImpl(te.hostView,E,false),te}insert(s,c){return this.insertImpl(s,c,!1)}insertImpl(s,c,u){const h=s._lView,p=h[lt];if(function Sc(o){return ti(o[Qn])}(h)){const I=this.indexOf(s);if(-1!==I)this.detach(I);else{const T=h[Qn],R=new Kp(T,T[or],T[Qn]);R.detach(R.indexOf(s))}}const y=this._adjustIndex(c),E=this._lContainer;if(function jS(o,s,c,u){const h=Zn+u,p=c.length;u>0&&(c[h-1][vr]=s),u<p-Zn?(s[vr]=c[h],to(c,Zn+u,s)):(c.push(s),s[vr]=null),s[Qn]=c;const y=s[Ca];null!==y&&c!==y&&function J1(o,s){const c=o[ds];s[Hn]!==s[Qn][Qn][Hn]&&(o[Eh]=!0),null===c?o[ds]=[s]:c.push(s)}(y,s);const E=s[Gi];null!==E&&E.insertView(o),s[qt]|=128}(p,h,E,y),!u){const I=Zv(y,E),T=h[$t],R=Zc(T,E[Zr]);null!==R&&function Y1(o,s,c,u,h,p){u[rn]=h,u[or]=s,tf(o,u,c,1,h,p)}(p,E[or],T,h,R,I)}return s.attachToViewContainerRef(),to(ky(E),y,s),s}move(s,c){return this.insert(s,c)}indexOf(s){const c=DC(this._lContainer);return null!==c?c.indexOf(s):-1}remove(s){const c=this._adjustIndex(s,-1),u=Wv(this._lContainer,c);u&&(zl(ky(this._lContainer),c),c_(u[lt],u))}detach(s){const c=this._adjustIndex(s,-1),u=Wv(this._lContainer,c);return u&&null!=zl(ky(this._lContainer),c)?new bf(u):null}_adjustIndex(s,c=0){return s??this.length+c}};function DC(o){return o[8]}function ky(o){return o[8]||(o[8]=[])}function $f(o,s){let c;const u=s[o.index];return ti(u)?c=u:(c=Gx(u,s,null,o),s[o.index]=c,Ts(s,c)),Gf(c,s,o,u),new Kp(c,o,s)}let Gf=function iw(o,s,c,u){if(o[Zr])return;let h;h=8&c.type?Tn(u):function Ry(o,s){const c=o[$t],u=c.createComment(""),h=Ii(s,o);return nd(c,Zc(c,h),u,function Wm(o,s){return o.nextSibling(s)}(c,h),!1),u}(s,c),o[Zr]=h};class Oy{constructor(s){this.queryList=s,this.matches=null}clone(){return new Oy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wf{constructor(s=[]){this.queries=s}createEmbeddedView(s){const c=s.queries;if(null!==c){const u=null!==s.contentQueries?s.contentQueries[0]:c.length,h=[];for(let p=0;p<u;p++){const y=c.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Wf(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let c=0;c<this.queries.length;c++)null!==aw(s,c).matches&&this.queries[c].setDirty()}}class Yp{constructor(s,c,u=null){this.predicate=s,this.flags=c,this.read=u}}class Ny{constructor(s=[]){this.queries=s}elementStart(s,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,c)}elementEnd(s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(s)}embeddedTView(s){let c=null;for(let u=0;u<this.length;u++){const h=null!==c?c.length:0,p=this.getByIndex(u).embeddedTView(s,h);p&&(p.indexInDeclarationView=u,null!==c?c.push(p):c=[p])}return null!==c?new Ny(c):null}template(s,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,c)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class ac{constructor(s,c=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(s,c){this.isApplyingToNode(c)&&this.matchTNode(s,c)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,c){this.elementStart(s,c)}embeddedTView(s,c){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,c),new ac(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const p=u[h];this.matchTNodeWithReadOption(s,c,qf(c,p)),this.matchTNodeWithReadOption(s,c,Ha(c,s,p,!1,!1))}else u===qp?4&c.type&&this.matchTNodeWithReadOption(s,c,-1):this.matchTNodeWithReadOption(s,c,Ha(c,s,u,!1,!1))}matchTNodeWithReadOption(s,c,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===dd||h===Kd||h===qp&&4&c.type)this.addMatch(c.index,-2);else{const p=Ha(c,s,h,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,u)}}addMatch(s,c){null===this.matches?this.matches=[s,c]:this.matches.push(s,c)}}function qf(o,s){const c=o.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===s)return c[u+1];return null}function Yd(o,s,c,u){return-1===c?function TC(o,s){return 11&o.type?ud(o,s):4&o.type?ca(o,s):null}(s,o):-2===c?function $A(o,s,c){return c===dd?ud(s,o):c===qp?ca(s,o):c===Kd?$f(s,o):void 0}(o,s,u):Er(o,o[lt],c,s)}function Qd(o,s,c,u){const h=s[Gi].queries[u];if(null===h.matches){const p=o.data,y=c.matches,E=[];for(let I=0;I<y.length;I+=2){const T=y[I];E.push(T<0?null:Yd(s,p[T],y[I+1],c.metadata.read))}h.matches=E}return h.matches}function Py(o,s,c,u){const h=o.queries.getByIndex(c),p=h.matches;if(null!==p){const y=Qd(o,s,h,c);for(let E=0;E<p.length;E+=2){const I=p[E];if(I>0)u.push(y[E/2]);else{const T=p[E+1],R=s[-I];for(let U=Zn;U<R.length;U++){const Q=R[U];Q[Ca]===Q[Qn]&&Py(Q[lt],Q,T,u)}if(null!==R[ds]){const U=R[ds];for(let Q=0;Q<U.length;Q++){const te=U[Q];Py(te[lt],te,T,u)}}}}}return u}function pl(o){const s=Oe(),c=an(),u=Hu();Pa(u+1);const h=aw(c,u);if(o.dirty&&function Fu(o){return 4==(4&o[qt])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const p=h.crossesNgTemplate?Py(c,s,u,[]):Qd(c,s,h,u);o.reset(p,db),o.notifyOnChanges()}return!0}return!1}function rw(o,s,c){const u=an();u.firstCreatePass&&(MC(u,new Yp(o,s,c),-1),2==(2&s)&&(u.staticViewQueries=!0)),sw(u,Oe(),s)}function AC(o,s,c,u){const h=an();if(h.firstCreatePass){const p=Zi();MC(h,new Yp(s,c,u),p.index),function Fy(o,s){const c=o.contentQueries||(o.contentQueries=[]);s!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,s)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}sw(h,Oe(),c)}function ow(){return function GA(o,s){return o[Gi].queries[s].queryList}(Oe(),Hu())}function sw(o,s,c){const u=new My(4==(4&c));(function Bx(o,s,c,u){const h=zb(s);h.push(c),o.firstCreatePass&&ni(o).push(u,h.length-1)})(o,s,u,u.destroy),null===s[Gi]&&(s[Gi]=new Wf),s[Gi].queries.push(new Oy(u))}function MC(o,s,c){null===o.queries&&(o.queries=new Ny),o.queries.track(new ac(s,c))}function aw(o,s){return o.queries.getByIndex(s)}function kC(o,s){return ca(o,s)}function lw(o){return!!Ar(o)}const Iw=new An("Application Initializer");let Xf=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,u)=>{this.resolve=c,this.reject=u}),this.appInits=Mt(Iw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const p=h();if(fi(p))c.push(p);else if(it(p)){const y=new Promise((E,I)=>{p.subscribe({complete:E,error:I})});c.push(y)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{u()}).catch(h=>{this.reject(h)}),0===c.length&&u(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=rt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),$y=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=rt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Gy=new An("LocaleId",{providedIn:"root",factory:()=>Mt(Gy,Et.Optional|Et.SkipSelf)||function oM(){return typeof $localize<"u"&&$localize.locale||au}()}),Gr=new An("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Jf=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new N.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=rt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();class Cw{constructor(s,c){this.ngModuleFactory=s,this.componentFactories=c}}let zC=(()=>{class o{compileModuleSync(c){return new Sy(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const u=this.compileModuleSync(c),p=Jc(Ar(c).declarations).reduce((y,E)=>{const I=Wt(E);return I&&y.push(new nl(I)),y},[]);return new Cw(u,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=rt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function em(...o){}class Pr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sc(!1),this.onMicrotaskEmpty=new sc(!1),this.onStable=new sc(!1),this.onError=new sc(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&c,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Dw(){const o="function"==typeof yt.requestAnimationFrame;let s=yt[o?"requestAnimationFrame":"setTimeout"],c=yt[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&c){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function GC(o){const s=()=>{!function Sw(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(yt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,eg(o),o.isCheckStableRunning=!0,th(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),eg(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,h,p,y,E)=>{try{return Ky(o),c.invokeTask(h,p,y,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&s(),gl(o)}},onInvoke:(c,u,h,p,y,E,I)=>{try{return Ky(o),c.invoke(h,p,y,E,I)}finally{o.shouldCoalesceRunChangeDetection&&s(),gl(o)}},onHasTask:(c,u,h,p)=>{c.hasTask(h,p),u===h&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,eg(o),th(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,u,h,p)=>(c.handleError(h,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pr.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(Pr.isInAngularZone())throw new le(909,!1)}run(s,c,u){return this._inner.run(s,c,u)}runTask(s,c,u,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,s,Zy,em,em);try{return p.runTask(y,c,u)}finally{p.cancelTask(y)}}runGuarded(s,c,u){return this._inner.runGuarded(s,c,u)}runOutsideAngular(s){return this._outer.run(s)}}const Zy={};function th(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function eg(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Ky(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function gl(o){o._nesting--,th(o)}class WC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sc,this.onMicrotaskEmpty=new sc,this.onStable=new sc,this.onError=new sc}run(s,c,u){return s.apply(c,u)}runGuarded(s,c,u){return s.apply(c,u)}runOutsideAngular(s){return s()}runTask(s,c,u,h){return s.apply(c,u)}}const qC=new An("",{providedIn:"root",factory:Yy});function Yy(){const o=Mt(Pr);let s=!0;const c=new X.y(h=>{s=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{h.next(s),h.complete()})}),u=new X.y(h=>{let p;o.runOutsideAngular(()=>{p=o.onStable.subscribe(()=>{Pr.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(s=!0,h.next(!0))})})});const y=o.onUnstable.subscribe(()=>{Pr.assertInAngularZone(),s&&(s=!1,o.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),y.unsubscribe()}});return(0,oe.T)(c,u.pipe((0,we.B)()))}const ZC=new An(""),Qy=new An("");let tg,lM=(()=>{class o{constructor(c,u,h){this._ngZone=c,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,tg||(function Jy(o){tg=o}(h),h.addToWindow(u)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,h){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:h})}whenStable(c,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,u,h){return[]}}return o.\u0275fac=function(c){return new(c||o)(qe(Pr),qe(Xy),qe(Qy))},o.\u0275prov=rt({token:o,factory:o.\u0275fac}),o})(),Xy=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return tg?.findTestabilityInTree(this,c,u)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=rt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),_l=null;const nh=new An("AllowMultipleToken"),ng=new An("PlatformDestroyListeners"),Tw=new An("appBootstrapListener");class Mw{constructor(s,c){this.name=s,this.token=c}}function QC(o,s,c=[]){const u=`Platform: ${s}`,h=new An(u);return(p=[])=>{let y=ig();if(!y||y.injector.get(nh,!1)){const E=[...c,...p,{provide:h,useValue:!0}];o?o(E):function fM(o){if(_l&&!_l.get(nh,!1))throw new le(400,!1);(function Aw(){!function Ou(o){Ru=o}(()=>{throw new le(600,!1)})})(),_l=o;const s=o.get(ev);(function KC(o){o.get(IT,null)?.forEach(c=>c())})(o)}(function Ow(o=[],s){return Ds.create({name:s,providers:[{provide:_x,useValue:"platform"},{provide:ng,useValue:new Set([()=>_l=null])},...o]})}(E,u))}return function Rw(o){const s=ig();if(!s)throw new le(401,!1);return s}()}}function ig(){return _l?.get(ev)??null}let ev=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const h=function pu(o="zone.js",s){return"noop"===o?new WC:"zone.js"===o?new Pr(s):o}(u?.ngZone,function ih(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return h.run(()=>{const p=function kA(o,s,c){return new lu(o,s,c)}(c.moduleType,this.injector,function nv(o){return[{provide:Pr,useFactory:o},{provide:I_,multi:!0,useFactory:()=>{const s=Mt(Nw,{optional:!0});return()=>s.initialize()}},{provide:JC,useFactory:mM},{provide:qC,useFactory:Yy}]}(()=>h)),y=p.injector.get(Xl,null);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:I=>{y.handleError(I)}});p.onDestroy(()=>{rg(this._modules,p),E.unsubscribe()})}),function tv(o,s,c){try{const u=c();return fi(u)?u.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):u}catch(u){throw s.runOutsideAngular(()=>o.handleError(u)),u}}(y,h,()=>{const E=p.injector.get(Xf);return E.runInitializers(),E.donePromise.then(()=>(function ic(o){et(o,"Expected localeId to be defined"),"string"==typeof o&&(I0=o.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Gy,au)||au),this._moduleDoBootstrap(p),p))})})}bootstrapModule(c,u=[]){const h=rh({},u);return function uM(o,s,c){const u=new Sy(c);return Promise.resolve(u)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(c){const u=c.injector.get(ua);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new le(-403,!1);c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const c=this._injector.get(ng,null);c&&(c.forEach(u=>u()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(qe(Ds))},o.\u0275prov=rt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function rh(o,s){return Array.isArray(s)?s.reduce(rh,o):{...o,...s}}let ua=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Mt(JC),this.zoneIsStable=Mt(qC),this.componentTypes=[],this.components=[],this.isStable=Mt(Jf).hasPendingTasks.pipe((0,De.w)(c=>c?(0,ce.of)(!1):this.zoneIsStable),(0,pe.x)(),(0,we.B)()),this._injector=Mt(ad)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,u){const h=c instanceof xx;if(!this._injector.get(Xf).done)throw!h&&wa(c),new le(405,!1);let y;y=h?c:this._injector.get(Xm).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const E=function hM(o){return o.isBoundToModule}(y)?void 0:this._injector.get(Vf),T=y.create(Ds.NULL,[],u||y.selector,E),R=T.location.nativeElement,U=T.injector.get(ZC,null);return U?.registerApplication(R),T.onDestroy(()=>{this.detachView(T.hostView),rg(this.components,T),U?.unregisterApplication(R)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;rg(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const u=this._injector.get(Tw,[]);u.push(...this._bootstrapListeners),u.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>rg(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new le(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=rt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function rg(o,s){const c=o.indexOf(s);c>-1&&o.splice(c,1)}const JC=new An("",{providedIn:"root",factory:()=>Mt(Xl).handleError.bind(void 0)});function mM(){const o=Mt(Pr),s=Mt(Xl);return c=>o.runOutsideAngular(()=>s.handleError(c))}let Nw=(()=>{class o{constructor(){this.zone=Mt(Pr),this.applicationRef=Mt(ua)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=rt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function pM(){return!1}let rD=(()=>{class o{}return o.__NG_ELEMENT_ID__=gM,o})();function gM(o){return function oD(o,s,c){if(po(o)&&!c){const u=kr(o.index,s);return new bf(u,u)}return 47&o.type?new bf(s[Hn],s):null}(Zi(),Oe(),16==(16&o))}class lD{constructor(){}supports(s){return yd(s)}create(s){return new wM(s)}}const Bw=(o,s)=>s;class wM{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Bw}forEachItem(s){let c;for(c=this._itHead;null!==c;c=c._next)s(c)}forEachOperation(s){let c=this._itHead,u=this._removalsHead,h=0,p=null;for(;c||u;){const y=!u||c&&c.currentIndex<ah(u,h,p)?c:u,E=ah(y,h,p),I=y.currentIndex;if(y===u)h--,u=u._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{p||(p=[]);const T=E-h,R=I-h;if(T!=R){for(let Q=0;Q<T;Q++){const te=Q<p.length?p[Q]:p[Q]=0,Se=te+Q;R<=Se&&Se<T&&(p[Q]=te+1)}p[y.previousIndex]=R-T}}E!==I&&s(y,E,I)}}forEachPreviousItem(s){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachMovedItem(s){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}forEachIdentityChange(s){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)s(c)}diff(s){if(null==s&&(s=[]),!yd(s))throw new le(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,p,y,c=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)p=s[E],y=this._trackByFn(E,p),null!==c&&Object.is(c.trackById,y)?(u&&(c=this._verifyReinsertion(c,p,y,E)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,E),u=!0),c=c._next}else h=0,function sI(o,s){if(Array.isArray(o))for(let c=0;c<o.length;c++)s(o[c]);else{const c=o[Symbol.iterator]();let u;for(;!(u=c.next()).done;)s(u.value)}}(s,E=>{y=this._trackByFn(h,E),null!==c&&Object.is(c.trackById,y)?(u&&(c=this._verifyReinsertion(c,E,y,h)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,y,h),u=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,c,u,h){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._reinsertAfter(s,p,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._moveAfter(s,p,h)):s=this._addAfter(new Uw(c,u),p,h),s}_verifyReinsertion(s,c,u,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?s=this._reinsertAfter(p,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const c=s._next;this._addToRemovals(this._unlink(s)),s=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,p=s._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(s,c,u),this._addToMoves(s,u),s}_moveAfter(s,c,u){return this._unlink(s),this._insertAfter(s,c,u),this._addToMoves(s,u),s}_addAfter(s,c,u){return this._insertAfter(s,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,c,u){const h=null===c?this._itHead:c._next;return s._next=h,s._prev=c,null===h?this._itTail=s:h._prev=s,null===c?this._itHead=s:c._next=s,null===this._linkedRecords&&(this._linkedRecords=new cv),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const c=s._prev,u=s._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,s}_addToMoves(s,c){return s.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cv),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,c){return s.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Uw{constructor(s,c){this.item=s,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jw{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const c=s._prevDup,u=s._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class cv{constructor(){this.map=new Map}put(s){const c=s.trackById;let u=this.map.get(c);u||(u=new jw,this.map.set(c,u)),u.add(s)}get(s,c){const h=this.map.get(s);return h?h.get(s,c):null}remove(s){const c=s.trackById;return this.map.get(c).remove(s)&&this.map.delete(c),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ah(o,s,c){const u=o.previousIndex;if(null===u)return u;let h=0;return c&&u<c.length&&(h=c[u]),u+s+h}class Hw{constructor(){}supports(s){return s instanceof Map||vd(s)}create(){return new zw}}class zw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let c;for(c=this._mapHead;null!==c;c=c._next)s(c)}forEachPreviousItem(s){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)s(c)}forEachChangedItem(s){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}diff(s){if(s){if(!(s instanceof Map||vd(s)))throw new le(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(h,u);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,c){if(s){const u=s._prev;return c._next=s,c._prev=u,s._prev=c,u&&(u._next=c),s===this._mapHead&&(this._mapHead=c),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(s,c){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,c);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const u=new EM(s);return this._records.set(s,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,c){Object.is(c,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=c,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,c){s instanceof Map?s.forEach(c):Object.keys(s).forEach(u=>c(s[u],u))}}class EM{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function lv(){return new da([new lD])}let da=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(null!=u){const h=u.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||lv()),deps:[[o,new Es,new ws]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(null!=u)return u;throw new le(901,!1)}}return o.\u0275prov=rt({token:o,providedIn:"root",factory:lv}),o})();function dD(){return new ag([new Hw])}let ag=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(u){const h=u.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||dD()),deps:[[o,new Es,new ws]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(u)return u;throw new le(901,!1)}}return o.\u0275prov=rt({token:o,providedIn:"root",factory:dD}),o})();const $w=QC(null,"core",[]);let CM=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(qe(ua))},o.\u0275mod=ba({type:o}),o.\u0275inj=wn({}),o})();function TM(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function xD(o){const s=Wt(o);if(!s)return null;const c=new nl(s);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3399:(pt,xe,P)=>{P.d(xe,{Z:()=>Ke});var d=P(9058),H=P(4537),N=P(7592),X=P(7879);class oe{constructor(Qe,Ne){this._delegate=Qe,this.firebase=Ne,(0,N._addComponent)(Qe,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=Qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qe){this._delegate.automaticDataCollectionEnabled=Qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Qe=>{this._delegate.checkDestroyed(),Qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(Qe,Ne=N._DEFAULT_ENTRY_NAME){var bt;this._delegate.checkDestroyed();const ht=this._delegate.container.getProvider(Qe);return!ht.isInitialized()&&"EXPLICIT"===(null===(bt=ht.getComponent())||void 0===bt?void 0:bt.instantiationMode)&&ht.initialize(),ht.getImmediate({identifier:Ne})}_removeServiceInstance(Qe,Ne=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Qe).clearInstance(Ne)}_addComponent(Qe){(0,N._addComponent)(this._delegate,Qe)}_addOrOverwriteComponent(Qe){(0,N._addOrOverwriteComponent)(this._delegate,Qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function pe(){const Re=function De(Re){const Qe={},Ne={__esModule:!0,initializeApp:function le(Be,de={}){const Le=N.initializeApp(Be,de);if((0,d.r3)(Qe,Le.name))return Qe[Le.name];const Je=new Re(Le,Ne);return Qe[Le.name]=Je,Je},app:ht,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function ue(Be){const de=Be.name,Le=de.replace("-compat","");if(N._registerComponent(Be)&&"PUBLIC"===Be.type){const Je=(Nt=ht())=>{if("function"!=typeof Nt[Le])throw we.create("invalid-app-argument",{appName:de});return Nt[Le]()};void 0!==Be.serviceProps&&(0,d.ZB)(Je,Be.serviceProps),Ne[Le]=Je,Re.prototype[Le]=function(...Nt){return this._getService.bind(this,de).apply(this,Be.multipleInstances?Nt:[])}}return"PUBLIC"===Be.type?Ne[Le]:null},removeApp:function bt(Be){delete Qe[Be]},useAsService:function Ce(Be,de){return"serverAuth"===de?null:de},modularAPIs:N}};function ht(Be){if(!(0,d.r3)(Qe,Be=Be||N._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:Be});return Qe[Be]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function Pe(){return Object.keys(Qe).map(Be=>Qe[Be])}}),ht.App=Re,Ne}(oe);return Re.INTERNAL=Object.assign(Object.assign({},Re.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function Qe(Ne){(0,d.ZB)(Re,Ne)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Re}(),W=new X.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Re=self.firebase.SDK_VERSION;Re&&Re.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=j;!function Ae(Re){(0,N.registerVersion)("@firebase/app-compat","0.2.13",Re)}()},7592:(pt,xe,P)=>{P.r(xe),P.d(xe,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>wn,_DEFAULT_ENTRY_NAME:()=>se,_addComponent:()=>Ue,_addOrOverwriteComponent:()=>ze,_apps:()=>ge,_clearComponents:()=>Tt,_components:()=>be,_getProvider:()=>ct,_registerComponent:()=>et,_removeServiceInstance:()=>Wn,deleteApp:()=>qn,getApp:()=>Te,getApps:()=>En,initializeApp:()=>Rn,onLog:()=>Vn,registerVersion:()=>Yn,setLogLevel:()=>Pi});var d=P(5861),H=P(4537),N=P(7879),X=P(9058),oe=P(1878);class ce{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map(ve=>{if(function we(_e){const Z=_e.getComponent();return"VERSION"===Z?.type}(ve)){const We=ve.getImmediate();return`${We.library}/${We.version}`}return null}).filter(ve=>ve).join(" ")}}const De="@firebase/app",j=new N.Yd("@firebase/app"),se="[DEFAULT]",me={[De]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ge=new Map,be=new Map;function Ue(_e,Z){try{_e.container.addComponent(Z)}catch(ve){j.debug(`Component ${Z.name} failed to register with FirebaseApp ${_e.name}`,ve)}}function ze(_e,Z){_e.container.addOrOverwriteComponent(Z)}function et(_e){const Z=_e.name;if(be.has(Z))return j.debug(`There were multiple attempts to register component ${Z}.`),!1;be.set(Z,_e);for(const ve of ge.values())Ue(ve,_e);return!0}function ct(_e,Z){const ve=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return ve&&ve.triggerHeartbeat(),_e.container.getProvider(Z)}function Wn(_e,Z,ve=se){ct(_e,Z).clearInstance(ve)}function Tt(){be.clear()}const rt=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class bn{constructor(Z,ve,We){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},ve),this._name=ve.name,this._automaticDataCollectionEnabled=ve.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw rt.create("app-deleted",{appName:this._name})}}const wn="9.23.0";function Rn(_e,Z={}){let ve=_e;"object"!=typeof Z&&(Z={name:Z});const We=Object.assign({name:se,automaticDataCollectionEnabled:!1},Z),qe=We.name;if("string"!=typeof qe||!qe)throw rt.create("bad-app-name",{appName:String(qe)});if(ve||(ve=(0,X.aH)()),!ve)throw rt.create("no-options");const xt=ge.get(qe);if(xt){if((0,X.vZ)(ve,xt.options)&&(0,X.vZ)(We,xt.config))return xt;throw rt.create("duplicate-app",{appName:qe})}const Mt=new H.H0(qe);for(const z of be.values())Mt.addComponent(z);const $=new bn(ve,We,Mt);return ge.set(qe,$),$}function Te(_e=se){const Z=ge.get(_e);if(!Z&&_e===se&&(0,X.aH)())return Rn();if(!Z)throw rt.create("no-app",{appName:_e});return Z}function En(){return Array.from(ge.values())}function qn(_e){return pi.apply(this,arguments)}function pi(){return(pi=(0,d.Z)(function*(_e){const Z=_e.name;ge.has(Z)&&(ge.delete(Z),yield Promise.all(_e.container.getProviders().map(ve=>ve.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function Yn(_e,Z,ve){var We;let qe=null!==(We=me[_e])&&void 0!==We?We:_e;ve&&(qe+=`-${ve}`);const xt=qe.match(/\s|\//),Mt=Z.match(/\s|\//);if(xt||Mt){const $=[`Unable to register library "${qe}" with version "${Z}":`];return xt&&$.push(`library name "${qe}" contains illegal characters (whitespace or "/")`),xt&&Mt&&$.push("and"),Mt&&$.push(`version name "${Z}" contains illegal characters (whitespace or "/")`),void j.warn($.join(" "))}et(new H.wA(`${qe}-version`,()=>({library:qe,version:Z}),"VERSION"))}function Vn(_e,Z){if(null!==_e&&"function"!=typeof _e)throw rt.create("invalid-log-argument");(0,N.Am)(_e,Z)}function Pi(_e){(0,N.Ub)(_e)}const lo="firebase-heartbeat-database",Et=1,At="firebase-heartbeat-store";let Ht=null;function xn(){return Ht||(Ht=(0,oe.X3)(lo,Et,{upgrade:(_e,Z)=>{0===Z&&_e.createObjectStore(At)}}).catch(_e=>{throw rt.create("idb-open",{originalErrorMessage:_e.message})})),Ht}function Yt(){return(Yt=(0,d.Z)(function*(_e){try{return yield(yield xn()).transaction(At).objectStore(At).get(qr(_e))}catch(Z){if(Z instanceof X.ZR)j.warn(Z.message);else{const ve=rt.create("idb-get",{originalErrorMessage:Z?.message});j.warn(ve.message)}}})).apply(this,arguments)}function yt(_e,Z){return On.apply(this,arguments)}function On(){return(On=(0,d.Z)(function*(_e,Z){try{const We=(yield xn()).transaction(At,"readwrite");yield We.objectStore(At).put(Z,qr(_e)),yield We.done}catch(ve){if(ve instanceof X.ZR)j.warn(ve.message);else{const We=rt.create("idb-set",{originalErrorMessage:ve?.message});j.warn(We.message)}}})).apply(this,arguments)}function qr(_e){return`${_e.name}!${_e.options.appId}`}class nn{constructor(Z){this.container=Z,this._heartbeatsCache=null;const ve=this.container.getProvider("app").getImmediate();this._storage=new pr(ve),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var Z=this;return(0,d.Z)(function*(){const We=Z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qe=Dn();if(null===Z._heartbeatsCache&&(Z._heartbeatsCache=yield Z._heartbeatsCachePromise),Z._heartbeatsCache.lastSentHeartbeatDate!==qe&&!Z._heartbeatsCache.heartbeats.some(xt=>xt.date===qe))return Z._heartbeatsCache.heartbeats.push({date:qe,agent:We}),Z._heartbeatsCache.heartbeats=Z._heartbeatsCache.heartbeats.filter(xt=>{const Mt=new Date(xt.date).valueOf();return Date.now()-Mt<=2592e6}),Z._storage.overwrite(Z._heartbeatsCache)})()}getHeartbeatsHeader(){var Z=this;return(0,d.Z)(function*(){if(null===Z._heartbeatsCache&&(yield Z._heartbeatsCachePromise),null===Z._heartbeatsCache||0===Z._heartbeatsCache.heartbeats.length)return"";const ve=Dn(),{heartbeatsToSend:We,unsentEntries:qe}=function Tr(_e,Z=1024){const ve=[];let We=_e.slice();for(const qe of _e){const xt=ve.find(Mt=>Mt.agent===qe.agent);if(xt){if(xt.dates.push(qe.date),_i(ve)>Z){xt.dates.pop();break}}else if(ve.push({agent:qe.agent,dates:[qe.date]}),_i(ve)>Z){ve.pop();break}We=We.slice(1)}return{heartbeatsToSend:ve,unsentEntries:We}}(Z._heartbeatsCache.heartbeats),xt=(0,X.L)(JSON.stringify({version:2,heartbeats:We}));return Z._heartbeatsCache.lastSentHeartbeatDate=ve,qe.length>0?(Z._heartbeatsCache.heartbeats=qe,yield Z._storage.overwrite(Z._heartbeatsCache)):(Z._heartbeatsCache.heartbeats=[],Z._storage.overwrite(Z._heartbeatsCache)),xt})()}}function Dn(){return(new Date).toISOString().substring(0,10)}class pr{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Z=this;return(0,d.Z)(function*(){return(yield Z._canUseIndexedDBPromise)&&(yield function gi(_e){return Yt.apply(this,arguments)}(Z.app))||{heartbeats:[]}})()}overwrite(Z){var ve=this;return(0,d.Z)(function*(){var We;if(yield ve._canUseIndexedDBPromise){const xt=yield ve.read();return yt(ve.app,{lastSentHeartbeatDate:null!==(We=Z.lastSentHeartbeatDate)&&void 0!==We?We:xt.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}})()}add(Z){var ve=this;return(0,d.Z)(function*(){var We;if(yield ve._canUseIndexedDBPromise){const xt=yield ve.read();return yt(ve.app,{lastSentHeartbeatDate:null!==(We=Z.lastSentHeartbeatDate)&&void 0!==We?We:xt.lastSentHeartbeatDate,heartbeats:[...xt.heartbeats,...Z.heartbeats]})}})()}}function _i(_e){return(0,X.L)(JSON.stringify({version:2,heartbeats:_e})).length}!function ei(_e){et(new H.wA("platform-logger",Z=>new ce(Z),"PRIVATE")),et(new H.wA("heartbeat",Z=>new nn(Z),"PRIVATE")),Yn(De,"0.9.13",_e),Yn(De,"0.9.13","esm2017"),Yn("fire-js","")}("")},4097:(pt,xe,P)=>{P.d(xe,{C6:()=>d.getApps,KN:()=>d.registerVersion,Mq:()=>d.getApp,ZF:()=>d.initializeApp});var d=P(7592);(0,d.registerVersion)("firebase","9.23.0","app")},120:(pt,xe,P)=>{P.d(xe,{Z:()=>d.Z});var d=P(3399);d.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(pt,xe,P)=>{P.r(xe);var d=P(5861),H=P(3399),N=P(2659),X=P(9058),we=(P(7592),P(7879),P(4537));function De(){return window}function W(){return W=(0,d.Z)(function*(F,L,O){var ee;const{BuildInfo:Ie}=De();(0,N.as)(L.sessionId,"AuthEvent did not contain a session ID");const ut=yield function Ne(F){return bt.apply(this,arguments)}(L.sessionId),kt={};return(0,N.at)()?kt.ibi=Ie.packageName:(0,N.au)()?kt.apn=Ie.packageName:(0,N.av)(F,"operation-not-supported-in-this-environment"),Ie.displayName&&(kt.appDisplayName=Ie.displayName),kt.sessionId=ut,(0,N.aw)(F,O,L.type,void 0,null!==(ee=L.eventId)&&void 0!==ee?ee:void 0,kt)}),W.apply(this,arguments)}function Ve(){return(Ve=(0,d.Z)(function*(F){const{BuildInfo:L}=De(),O={};(0,N.at)()?O.iosBundleId=L.packageName:(0,N.au)()?O.androidPackageName=L.packageName:(0,N.av)(F,"operation-not-supported-in-this-environment"),yield(0,N.ax)(F,O)})).apply(this,arguments)}function Re(){return(Re=(0,d.Z)(function*(F,L,O){const{cordova:ee}=De();let Ie=()=>{};try{yield new Promise((ut,kt)=>{let It=null;function vt(){var Jt;ut();const rr=null===(Jt=ee.plugins.browsertab)||void 0===Jt?void 0:Jt.close;"function"==typeof rr&&rr(),"function"==typeof O?.close&&O.close()}function zt(){It||(It=window.setTimeout(()=>{kt((0,N.az)(F,"redirect-cancelled-by-user"))},2e3))}function Sn(){"visible"===document?.visibilityState&&zt()}L.addPassiveListener(vt),document.addEventListener("resume",zt,!1),(0,N.au)()&&document.addEventListener("visibilitychange",Sn,!1),Ie=()=>{L.removePassiveListener(vt),document.removeEventListener("resume",zt,!1),document.removeEventListener("visibilitychange",Sn,!1),It&&window.clearTimeout(It)}})}finally{Ie()}})).apply(this,arguments)}function bt(){return(bt=(0,d.Z)(function*(F){const L=function ht(F){if((0,N.as)(/[0-9a-zA-Z]+/.test(F),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(F);const L=new ArrayBuffer(F.length),O=new Uint8Array(L);for(let ee=0;ee<F.length;ee++)O[ee]=F.charCodeAt(ee);return O}(F),O=yield crypto.subtle.digest("SHA-256",L);return Array.from(new Uint8Array(O)).map(Ie=>Ie.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Pe extends N.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(L=>{this.resolveInialized=L})}addPassiveListener(L){this.passiveListeners.add(L)}removePassiveListener(L){this.passiveListeners.delete(L)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(L){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(L)),super.onEvent(L)}initialized(){var L=this;return(0,d.Z)(function*(){yield L.initPromise})()}}function Be(F){return de.apply(this,arguments)}function de(){return(de=(0,d.Z)(function*(F){const L=yield Nt()._get(ln(F));return L&&(yield Nt()._remove(ln(F))),L})).apply(this,arguments)}function Je(){const F=[];for(let O=0;O<20;O++){const ee=Math.floor(62*Math.random());F.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ee))}return F.join("")}function Nt(){return(0,N.aC)(N.b)}function ln(F){return(0,N.aD)("authEvent",F.config.apiKey,F.name)}function kn(F){if(!F?.includes("?"))return{};const[L,...O]=F.split("?");return(0,X.zd)(O.join("?"))}const se=class ir{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(L){var O=this;return(0,d.Z)(function*(){const ee=L._key();let Ie=O.eventManagers.get(ee);return Ie||(Ie=new Pe(L),O.eventManagers.set(ee,Ie),O.attachCallbackListeners(L,Ie)),Ie})()}_openPopup(L){(0,N.av)(L,"operation-not-supported-in-this-environment")}_openRedirect(L,O,ee,Ie){var ut=this;return(0,d.Z)(function*(){!function Qe(F){var L,O,ee,Ie,ut,kt,It,vt,zt,Sn;const Jt=De();(0,N.aA)("function"==typeof(null===(L=Jt?.universalLinks)||void 0===L?void 0:L.subscribe),F,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aA)(typeof(null===(O=Jt?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aA)("function"==typeof(null===(ut=null===(Ie=null===(ee=Jt?.cordova)||void 0===ee?void 0:ee.plugins)||void 0===Ie?void 0:Ie.browsertab)||void 0===ut?void 0:ut.openUrl),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(vt=null===(It=null===(kt=Jt?.cordova)||void 0===kt?void 0:kt.plugins)||void 0===It?void 0:It.browsertab)||void 0===vt?void 0:vt.isAvailable),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(Sn=null===(zt=Jt?.cordova)||void 0===zt?void 0:zt.InAppBrowser)||void 0===Sn?void 0:Sn.open),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(L);const kt=yield ut._initialize(L);yield kt.initialized(),kt.resetRedirect(),(0,N.aG)(),yield ut._originValidation(L);const It=function ue(F,L,O=null){return{type:L,eventId:O,urlResponse:null,sessionId:Je(),postBody:null,tenantId:F.tenantId,error:(0,N.az)(F,"no-auth-event")}}(L,ee,Ie);yield function Ce(F,L){return Nt()._set(ln(F),L)}(L,It);const vt=yield function j(F,L,O){return W.apply(this,arguments)}(L,It,O),zt=yield function Ae(F){const{cordova:L}=De();return new Promise(O=>{L.plugins.browsertab.isAvailable(ee=>{let Ie=null;ee?L.plugins.browsertab.openUrl(F):Ie=L.InAppBrowser.open(F,(0,N.ay)()?"_blank":"_system","location=yes"),O(Ie)})})}(vt);return function Ke(F,L,O){return Re.apply(this,arguments)}(L,kt,zt)})()}_isIframeWebStorageSupported(L,O){throw new Error("Method not implemented.")}_originValidation(L){const O=L._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function ne(F){return Ve.apply(this,arguments)}(L)),this.originValidationPromises[O]}attachCallbackListeners(L,O){const{universalLinks:ee,handleOpenURL:Ie,BuildInfo:ut}=De(),kt=setTimeout((0,d.Z)(function*(){yield Be(L),O.onEvent(me())}),500),It=function(){var Sn=(0,d.Z)(function*(Jt){clearTimeout(kt);const rr=yield Be(L);let gr=null;rr&&Jt?.url&&(gr=function Le(F,L){var O,ee;const Ie=function Ln(F){const L=kn(F),O=L.link?decodeURIComponent(L.link):void 0,ee=kn(O).link,Ie=L.deep_link_id?decodeURIComponent(L.deep_link_id):void 0;return kn(Ie).link||Ie||ee||O||F}(L);if(Ie.includes("/__/auth/callback")){const ut=kn(Ie),kt=ut.firebaseError?function Mn(F){try{return JSON.parse(F)}catch{return null}}(decodeURIComponent(ut.firebaseError)):null,It=null===(ee=null===(O=kt?.code)||void 0===O?void 0:O.split("auth/"))||void 0===ee?void 0:ee[1],vt=It?(0,N.az)(It):null;return vt?{type:F.type,eventId:F.eventId,tenantId:F.tenantId,error:vt,urlResponse:null,sessionId:null,postBody:null}:{type:F.type,eventId:F.eventId,tenantId:F.tenantId,sessionId:F.sessionId,urlResponse:Ie,postBody:null}}return null}(rr,Jt.url)),O.onEvent(gr||me())});return function(rr){return Sn.apply(this,arguments)}}();typeof ee<"u"&&"function"==typeof ee.subscribe&&ee.subscribe(null,It);const vt=Ie,zt=`${ut.packageName.toLowerCase()}://`;De().handleOpenURL=function(){var Sn=(0,d.Z)(function*(Jt){if(Jt.toLowerCase().startsWith(zt)&&It({url:Jt}),"function"==typeof vt)try{vt(Jt)}catch(rr){console.error(rr)}});return function(Jt){return Sn.apply(this,arguments)}}()}};function me(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.az)("no-auth-event")}}function et(){var F;return(null===(F=self?.location)||void 0===F?void 0:F.protocol)||null}function Wn(F=(0,X.z$)()){return!("file:"!==et()&&"ionic:"!==et()&&"capacitor:"!==et()||!F.toLowerCase().match(/iphone|ipad|ipod|android/))}function wn(){try{const F=self.localStorage,L=N.aL();if(F)return F.setItem(L,"1"),F.removeItem(L),!function bn(F=(0,X.z$)()){return function Vt(){return(0,X.w1)()&&11===document?.documentMode}()||function rt(F=(0,X.z$)()){return/Edge\/\d+/.test(F)}(F)}()||(0,X.hl)()}catch{return Rn()&&(0,X.hl)()}return!1}function Rn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Te(){return(function ct(){return"http:"===et()||"https:"===et()}()||(0,X.ru)()||Wn())&&!function Tt(){return(0,X.b$)()||(0,X.UG)()}()&&wn()&&!Rn()}function En(){return Wn()&&typeof document<"u"}function pi(){return(pi=(0,d.Z)(function*(){return!!En()&&new Promise(F=>{const L=setTimeout(()=>{F(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(L),F(!0)})})})).apply(this,arguments)}const Vn={LOCAL:"local",NONE:"none",SESSION:"session"},Pi=N.aA,lo="persistence";function At(F){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,d.Z)(function*(F){yield F._initializationPromise;const L=gi(),O=N.aD(lo,F.config.apiKey,F.name);L&&L.setItem(O,F._getPersistence())})).apply(this,arguments)}function gi(){var F;try{return(null===(F=function Yn(){return typeof window<"u"?window:null}())||void 0===F?void 0:F.sessionStorage)||null}catch{return null}}const Yt=N.aA;class yt{constructor(){this.browserResolver=N.aC(N.k),this.cordovaResolver=N.aC(se),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(L){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(L)})()}_openPopup(L,O,ee,Ie){var ut=this;return(0,d.Z)(function*(){return yield ut.selectUnderlyingResolver(),ut.assertedUnderlyingResolver._openPopup(L,O,ee,Ie)})()}_openRedirect(L,O,ee,Ie){var ut=this;return(0,d.Z)(function*(){return yield ut.selectUnderlyingResolver(),ut.assertedUnderlyingResolver._openRedirect(L,O,ee,Ie)})()}_isIframeWebStorageSupported(L,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(L,O)}_originValidation(L){return this.assertedUnderlyingResolver._originValidation(L)}get _shouldInitProactively(){return En()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var L=this;return(0,d.Z)(function*(){if(L.underlyingResolver)return;const O=yield function qn(){return pi.apply(this,arguments)}();L.underlyingResolver=O?L.cordovaResolver:L.browserResolver})()}}function On(F){return F.unwrap()}function pn(F){return nn(F)}function nn(F){const{_tokenResponse:L}=F instanceof X.ZR?F.customData:F;if(!L)return null;if(!(F instanceof X.ZR)&&"temporaryProof"in L&&"phoneNumber"in L)return N.P.credentialFromResult(F);const O=L.providerId;if(!O||O===N.p.PASSWORD)return null;let ee;switch(O){case N.p.GOOGLE:ee=N.V;break;case N.p.FACEBOOK:ee=N.U;break;case N.p.GITHUB:ee=N.W;break;case N.p.TWITTER:ee=N.Z;break;default:const{oauthIdToken:Ie,oauthAccessToken:ut,oauthTokenSecret:kt,pendingToken:It,nonce:vt}=L;return ut||kt||Ie||It?It?O.startsWith("saml.")?N.aO._create(O,It):N.L._fromParams({providerId:O,signInMethod:O,pendingToken:It,idToken:Ie,accessToken:ut}):new N.X(O).credential({idToken:Ie,accessToken:ut,rawNonce:vt}):null}return F instanceof X.ZR?ee.credentialFromError(F):ee.credentialFromResult(F)}function Dn(F,L){return L.catch(O=>{throw O instanceof X.ZR&&function Bn(F,L){var O;const ee=null===(O=L.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===L?.code)L.resolver=new _i(F,N.aq(F,L));else if(ee){const Ie=nn(L),ut=L;Ie&&(ut.credential=Ie,ut.tenantId=ee.tenantId||void 0,ut.email=ee.email||void 0,ut.phoneNumber=ee.phoneNumber||void 0)}}(F,O),O}).then(O=>{const Ie=O.user;return{operationType:O.operationType,credential:pn(O),additionalUserInfo:N.ao(O),user:ei.getOrCreate(Ie)}})}function Tr(F,L){return pr.apply(this,arguments)}function pr(){return(pr=(0,d.Z)(function*(F,L){const O=yield L;return{verificationId:O.verificationId,confirm:ee=>Dn(F,O.confirm(ee))}})).apply(this,arguments)}class _i{constructor(L,O){this.resolver=O,this.auth=function qr(F){return F.wrapped()}(L)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(L){return Dn(On(this.auth),this.resolver.resolveSignIn(L))}}class ei{constructor(L){this._delegate=L,this.multiFactor=N.ar(L)}static getOrCreate(L){return ei.USER_MAP.has(L)||ei.USER_MAP.set(L,new ei(L)),ei.USER_MAP.get(L)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(L){return this._delegate.getIdTokenResult(L)}getIdToken(L){return this._delegate.getIdToken(L)}linkAndRetrieveDataWithCredential(L){return this.linkWithCredential(L)}linkWithCredential(L){var O=this;return(0,d.Z)(function*(){return Dn(O.auth,N.a0(O._delegate,L))})()}linkWithPhoneNumber(L,O){var ee=this;return(0,d.Z)(function*(){return Tr(ee.auth,N.l(ee._delegate,L,O))})()}linkWithPopup(L){var O=this;return(0,d.Z)(function*(){return Dn(O.auth,N.d(O._delegate,L,yt))})()}linkWithRedirect(L){var O=this;return(0,d.Z)(function*(){return yield At(N.aH(O.auth)),N.g(O._delegate,L,yt)})()}reauthenticateAndRetrieveDataWithCredential(L){return this.reauthenticateWithCredential(L)}reauthenticateWithCredential(L){var O=this;return(0,d.Z)(function*(){return Dn(O.auth,N.a1(O._delegate,L))})()}reauthenticateWithPhoneNumber(L,O){return Tr(this.auth,N.r(this._delegate,L,O))}reauthenticateWithPopup(L){return Dn(this.auth,N.e(this._delegate,L,yt))}reauthenticateWithRedirect(L){var O=this;return(0,d.Z)(function*(){return yield At(N.aH(O.auth)),N.h(O._delegate,L,yt)})()}sendEmailVerification(L){return N.ae(this._delegate,L)}unlink(L){var O=this;return(0,d.Z)(function*(){return yield N.an(O._delegate,L),O})()}updateEmail(L){return N.aj(this._delegate,L)}updatePassword(L){return N.ak(this._delegate,L)}updatePhoneNumber(L){return N.u(this._delegate,L)}updateProfile(L){return N.ai(this._delegate,L)}verifyBeforeUpdateEmail(L,O){return N.af(this._delegate,L,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ei.USER_MAP=new WeakMap;const _e=N.aA;let Z=(()=>{class F{constructor(O,ee){if(this.app=O,ee.isInitialized())return this._delegate=ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ie}=O.options;_e(Ie,"invalid-api-key",{appName:O.name}),_e(Ie,"invalid-api-key",{appName:O.name});const ut=typeof window<"u"?yt:void 0;this._delegate=ee.initialize({options:{persistence:We(Ie,O.name),popupRedirectResolver:ut}}),this._delegate._updateErrorMap(N.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ei.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,ee){N.I(this._delegate,O,ee)}applyActionCode(O){return N.a5(this._delegate,O)}checkActionCode(O){return N.a6(this._delegate,O)}confirmPasswordReset(O,ee){return N.a4(this._delegate,O,ee)}createUserWithEmailAndPassword(O,ee){var Ie=this;return(0,d.Z)(function*(){return Dn(Ie._delegate,N.a8(Ie._delegate,O,ee))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return N.ad(this._delegate,O)}isSignInWithEmailLink(O){return N.ab(this._delegate,O)}getRedirectResult(){var O=this;return(0,d.Z)(function*(){_e(Te(),O._delegate,"operation-not-supported-in-this-environment");const ee=yield N.j(O._delegate,yt);return ee?Dn(O._delegate,Promise.resolve(ee)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function ge(F,L){(0,N.aH)(F)._logFramework(L)}(this._delegate,O)}onAuthStateChanged(O,ee,Ie){const{next:ut,error:kt,complete:It}=ve(O,ee,Ie);return this._delegate.onAuthStateChanged(ut,kt,It)}onIdTokenChanged(O,ee,Ie){const{next:ut,error:kt,complete:It}=ve(O,ee,Ie);return this._delegate.onIdTokenChanged(ut,kt,It)}sendSignInLinkToEmail(O,ee){return N.aa(this._delegate,O,ee)}sendPasswordResetEmail(O,ee){return N.a3(this._delegate,O,ee||void 0)}setPersistence(O){var ee=this;return(0,d.Z)(function*(){let Ie;switch(function Et(F,L){Pi(Object.values(Vn).includes(L),F,"invalid-persistence-type"),(0,X.b$)()?Pi(L!==Vn.SESSION,F,"unsupported-persistence-type"):(0,X.UG)()?Pi(L===Vn.NONE,F,"unsupported-persistence-type"):Rn()?Pi(L===Vn.NONE||L===Vn.LOCAL&&(0,X.hl)(),F,"unsupported-persistence-type"):Pi(L===Vn.NONE||wn(),F,"unsupported-persistence-type")}(ee._delegate,O),O){case Vn.SESSION:Ie=N.a;break;case Vn.LOCAL:Ie=(yield N.aC(N.i)._isAvailable())?N.i:N.b;break;case Vn.NONE:Ie=N.N;break;default:return N.av("argument-error",{appName:ee._delegate.name})}return ee._delegate.setPersistence(Ie)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return Dn(this._delegate,N._(this._delegate))}signInWithCredential(O){return Dn(this._delegate,N.$(this._delegate,O))}signInWithCustomToken(O){return Dn(this._delegate,N.a2(this._delegate,O))}signInWithEmailAndPassword(O,ee){return Dn(this._delegate,N.a9(this._delegate,O,ee))}signInWithEmailLink(O,ee){return Dn(this._delegate,N.ac(this._delegate,O,ee))}signInWithPhoneNumber(O,ee){return Tr(this._delegate,N.s(this._delegate,O,ee))}signInWithPopup(O){var ee=this;return(0,d.Z)(function*(){return _e(Te(),ee._delegate,"operation-not-supported-in-this-environment"),Dn(ee._delegate,N.c(ee._delegate,O,yt))})()}signInWithRedirect(O){var ee=this;return(0,d.Z)(function*(){return _e(Te(),ee._delegate,"operation-not-supported-in-this-environment"),yield At(ee._delegate),N.f(ee._delegate,O,yt)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return N.a7(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return F.Persistence=Vn,F})();function ve(F,L,O){let ee=F;"function"!=typeof F&&({next:ee,error:L,complete:O}=F);const Ie=ee;return{next:kt=>Ie(kt&&ei.getOrCreate(kt)),error:L,complete:O}}function We(F,L){const O=function xn(F,L){const O=gi();if(!O)return[];const ee=N.aD(lo,F,L);switch(O.getItem(ee)){case Vn.NONE:return[N.N];case Vn.LOCAL:return[N.i,N.a];case Vn.SESSION:return[N.a];default:return[]}}(F,L);if(typeof self<"u"&&!O.includes(N.i)&&O.push(N.i),typeof window<"u")for(const ee of[N.b,N.a])O.includes(ee)||O.push(ee);return O.includes(N.N)||O.push(N.N),O}class qe{constructor(){this.providerId="phone",this._delegate=new N.P(On(H.Z.auth()))}static credential(L,O){return N.P.credential(L,O)}verifyPhoneNumber(L,O){return this._delegate.verifyPhoneNumber(L,O)}unwrap(){return this._delegate}}qe.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,qe.PROVIDER_ID=N.P.PROVIDER_ID;const xt=N.aA;class Mt{constructor(L,O,ee=H.Z.app()){var Ie;xt(null===(Ie=ee.options)||void 0===Ie?void 0:Ie.apiKey,"invalid-api-key",{appName:ee.name}),this._delegate=new N.R(L,O,ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function z(F){F.INTERNAL.registerComponent(new we.wA("auth-compat",L=>{const O=L.getProvider("app-compat").getImmediate(),ee=L.getProvider("auth");return new Z(O,ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.Q,FacebookAuthProvider:N.U,GithubAuthProvider:N.W,GoogleAuthProvider:N.V,OAuthProvider:N.X,SAMLAuthProvider:N.Y,PhoneAuthProvider:qe,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:Mt,TwitterAuthProvider:N.Z,Auth:Z,AuthCredential:N.J,Error:X.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),F.registerVersion("@firebase/auth-compat","0.4.2")}(H.Z)},4303:(pt,xe,P)=>{P.r(xe),P.d(xe,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>wn,_DEFAULT_ENTRY_NAME:()=>se,_addComponent:()=>Ue,_addOrOverwriteComponent:()=>ze,_apps:()=>ge,_clearComponents:()=>Tt,_components:()=>be,_getProvider:()=>ct,_registerComponent:()=>et,_removeServiceInstance:()=>Wn,deleteApp:()=>qn,getApp:()=>Te,getApps:()=>En,initializeApp:()=>Rn,onLog:()=>Vn,registerVersion:()=>Yn,setLogLevel:()=>Pi});var d=P(5861),H=P(4537),N=P(7879),X=P(9058),oe=P(1878);class ce{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map(ve=>{if(function we(_e){const Z=_e.getComponent();return"VERSION"===Z?.type}(ve)){const We=ve.getImmediate();return`${We.library}/${We.version}`}return null}).filter(ve=>ve).join(" ")}}const De="@firebase/app",j=new N.Yd("@firebase/app"),se="[DEFAULT]",me={[De]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ge=new Map,be=new Map;function Ue(_e,Z){try{_e.container.addComponent(Z)}catch(ve){j.debug(`Component ${Z.name} failed to register with FirebaseApp ${_e.name}`,ve)}}function ze(_e,Z){_e.container.addOrOverwriteComponent(Z)}function et(_e){const Z=_e.name;if(be.has(Z))return j.debug(`There were multiple attempts to register component ${Z}.`),!1;be.set(Z,_e);for(const ve of ge.values())Ue(ve,_e);return!0}function ct(_e,Z){const ve=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return ve&&ve.triggerHeartbeat(),_e.container.getProvider(Z)}function Wn(_e,Z,ve=se){ct(_e,Z).clearInstance(ve)}function Tt(){be.clear()}const rt=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class bn{constructor(Z,ve,We){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},ve),this._name=ve.name,this._automaticDataCollectionEnabled=ve.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw rt.create("app-deleted",{appName:this._name})}}const wn="10.1.0";function Rn(_e,Z={}){let ve=_e;"object"!=typeof Z&&(Z={name:Z});const We=Object.assign({name:se,automaticDataCollectionEnabled:!1},Z),qe=We.name;if("string"!=typeof qe||!qe)throw rt.create("bad-app-name",{appName:String(qe)});if(ve||(ve=(0,X.aH)()),!ve)throw rt.create("no-options");const xt=ge.get(qe);if(xt){if((0,X.vZ)(ve,xt.options)&&(0,X.vZ)(We,xt.config))return xt;throw rt.create("duplicate-app",{appName:qe})}const Mt=new H.H0(qe);for(const z of be.values())Mt.addComponent(z);const $=new bn(ve,We,Mt);return ge.set(qe,$),$}function Te(_e=se){const Z=ge.get(_e);if(!Z&&_e===se&&(0,X.aH)())return Rn();if(!Z)throw rt.create("no-app",{appName:_e});return Z}function En(){return Array.from(ge.values())}function qn(_e){return pi.apply(this,arguments)}function pi(){return(pi=(0,d.Z)(function*(_e){const Z=_e.name;ge.has(Z)&&(ge.delete(Z),yield Promise.all(_e.container.getProviders().map(ve=>ve.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function Yn(_e,Z,ve){var We;let qe=null!==(We=me[_e])&&void 0!==We?We:_e;ve&&(qe+=`-${ve}`);const xt=qe.match(/\s|\//),Mt=Z.match(/\s|\//);if(xt||Mt){const $=[`Unable to register library "${qe}" with version "${Z}":`];return xt&&$.push(`library name "${qe}" contains illegal characters (whitespace or "/")`),xt&&Mt&&$.push("and"),Mt&&$.push(`version name "${Z}" contains illegal characters (whitespace or "/")`),void j.warn($.join(" "))}et(new H.wA(`${qe}-version`,()=>({library:qe,version:Z}),"VERSION"))}function Vn(_e,Z){if(null!==_e&&"function"!=typeof _e)throw rt.create("invalid-log-argument");(0,N.Am)(_e,Z)}function Pi(_e){(0,N.Ub)(_e)}const lo="firebase-heartbeat-database",Et=1,At="firebase-heartbeat-store";let Ht=null;function xn(){return Ht||(Ht=(0,oe.X3)(lo,Et,{upgrade:(_e,Z)=>{0===Z&&_e.createObjectStore(At)}}).catch(_e=>{throw rt.create("idb-open",{originalErrorMessage:_e.message})})),Ht}function Yt(){return(Yt=(0,d.Z)(function*(_e){try{return yield(yield xn()).transaction(At).objectStore(At).get(qr(_e))}catch(Z){if(Z instanceof X.ZR)j.warn(Z.message);else{const ve=rt.create("idb-get",{originalErrorMessage:Z?.message});j.warn(ve.message)}}})).apply(this,arguments)}function yt(_e,Z){return On.apply(this,arguments)}function On(){return(On=(0,d.Z)(function*(_e,Z){try{const We=(yield xn()).transaction(At,"readwrite");yield We.objectStore(At).put(Z,qr(_e)),yield We.done}catch(ve){if(ve instanceof X.ZR)j.warn(ve.message);else{const We=rt.create("idb-set",{originalErrorMessage:ve?.message});j.warn(We.message)}}})).apply(this,arguments)}function qr(_e){return`${_e.name}!${_e.options.appId}`}class nn{constructor(Z){this.container=Z,this._heartbeatsCache=null;const ve=this.container.getProvider("app").getImmediate();this._storage=new pr(ve),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var Z=this;return(0,d.Z)(function*(){const We=Z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qe=Dn();if(null===Z._heartbeatsCache&&(Z._heartbeatsCache=yield Z._heartbeatsCachePromise),Z._heartbeatsCache.lastSentHeartbeatDate!==qe&&!Z._heartbeatsCache.heartbeats.some(xt=>xt.date===qe))return Z._heartbeatsCache.heartbeats.push({date:qe,agent:We}),Z._heartbeatsCache.heartbeats=Z._heartbeatsCache.heartbeats.filter(xt=>{const Mt=new Date(xt.date).valueOf();return Date.now()-Mt<=2592e6}),Z._storage.overwrite(Z._heartbeatsCache)})()}getHeartbeatsHeader(){var Z=this;return(0,d.Z)(function*(){if(null===Z._heartbeatsCache&&(yield Z._heartbeatsCachePromise),null===Z._heartbeatsCache||0===Z._heartbeatsCache.heartbeats.length)return"";const ve=Dn(),{heartbeatsToSend:We,unsentEntries:qe}=function Tr(_e,Z=1024){const ve=[];let We=_e.slice();for(const qe of _e){const xt=ve.find(Mt=>Mt.agent===qe.agent);if(xt){if(xt.dates.push(qe.date),_i(ve)>Z){xt.dates.pop();break}}else if(ve.push({agent:qe.agent,dates:[qe.date]}),_i(ve)>Z){ve.pop();break}We=We.slice(1)}return{heartbeatsToSend:ve,unsentEntries:We}}(Z._heartbeatsCache.heartbeats),xt=(0,X.L)(JSON.stringify({version:2,heartbeats:We}));return Z._heartbeatsCache.lastSentHeartbeatDate=ve,qe.length>0?(Z._heartbeatsCache.heartbeats=qe,yield Z._storage.overwrite(Z._heartbeatsCache)):(Z._heartbeatsCache.heartbeats=[],Z._storage.overwrite(Z._heartbeatsCache)),xt})()}}function Dn(){return(new Date).toISOString().substring(0,10)}class pr{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Z=this;return(0,d.Z)(function*(){return(yield Z._canUseIndexedDBPromise)&&(yield function gi(_e){return Yt.apply(this,arguments)}(Z.app))||{heartbeats:[]}})()}overwrite(Z){var ve=this;return(0,d.Z)(function*(){var We;if(yield ve._canUseIndexedDBPromise){const xt=yield ve.read();return yt(ve.app,{lastSentHeartbeatDate:null!==(We=Z.lastSentHeartbeatDate)&&void 0!==We?We:xt.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}})()}add(Z){var ve=this;return(0,d.Z)(function*(){var We;if(yield ve._canUseIndexedDBPromise){const xt=yield ve.read();return yt(ve.app,{lastSentHeartbeatDate:null!==(We=Z.lastSentHeartbeatDate)&&void 0!==We?We:xt.lastSentHeartbeatDate,heartbeats:[...xt.heartbeats,...Z.heartbeats]})}})()}}function _i(_e){return(0,X.L)(JSON.stringify({version:2,heartbeats:_e})).length}!function ei(_e){et(new H.wA("platform-logger",Z=>new ce(Z),"PRIVATE")),et(new H.wA("heartbeat",Z=>new nn(Z),"PRIVATE")),Yn(De,"0.9.15",_e),Yn(De,"0.9.15","esm2017"),Yn("fire-js","")}("")},4537:(pt,xe,P)=>{P.d(xe,{H0:()=>De,wA:()=>N});var d=P(5861),H=P(9058);class N{constructor(j,W,ne){this.name=j,this.instanceFactory=W,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const X="[DEFAULT]";class oe{constructor(j,W){this.name=j,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const W=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(W)){const ne=new H.BH;if(this.instancesDeferred.set(W,ne),this.isInitialized(W)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:W});Ve&&ne.resolve(Ve)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(j){var W;const ne=this.normalizeInstanceIdentifier(j?.identifier),Ve=null!==(W=j?.optional)&&void 0!==W&&W;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Ae){if(Ve)return null;throw Ae}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function we(pe){return"EAGER"===pe.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(const[W,ne]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(W);try{const Ae=this.getOrInitializeService({instanceIdentifier:Ve});ne.resolve(Ae)}catch{}}}}clearInstance(j=X){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,d.Z)(function*(){const W=Array.from(j.instances.values());yield Promise.all([...W.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...W.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=X){return this.instances.has(j)}getOptions(j=X){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:W={}}=j,ne=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:ne,options:W});for(const[Ae,Ke]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Ae)&&Ke.resolve(Ve);return Ve}onInit(j,W){var ne;const Ve=this.normalizeInstanceIdentifier(W),Ae=null!==(ne=this.onInitCallbacks.get(Ve))&&void 0!==ne?ne:new Set;Ae.add(j),this.onInitCallbacks.set(Ve,Ae);const Ke=this.instances.get(Ve);return Ke&&j(Ke,Ve),()=>{Ae.delete(j)}}invokeOnInitCallbacks(j,W){const ne=this.onInitCallbacks.get(W);if(ne)for(const Ve of ne)try{Ve(j,W)}catch{}}getOrInitializeService({instanceIdentifier:j,options:W={}}){let ne=this.instances.get(j);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=j,pe===X?void 0:pe),options:W}),this.instances.set(j,ne),this.instancesOptions.set(j,W),this.invokeOnInitCallbacks(ne,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,ne)}catch{}var pe;return ne||null}normalizeInstanceIdentifier(j=X){return this.component?this.component.multipleInstances?j:X:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class De{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const W=this.getProvider(j.name);if(W.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);W.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const W=new oe(j,this);return this.providers.set(j,W),W}getProviders(){return Array.from(this.providers.values())}}},7879:(pt,xe,P)=>{P.d(xe,{Am:()=>pe,Ub:()=>De,Yd:()=>we,in:()=>H});const d=[];var H=function(j){return j[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",j}(H||{});const N={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},X=H.INFO,oe={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},ce=(j,W,...ne)=>{if(W<j.logLevel)return;const Ve=(new Date).toISOString(),Ae=oe[W];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Ae](`[${Ve}]  ${j.name}:`,...ne)};class we{constructor(W){this.name=W,this._logLevel=X,this._logHandler=ce,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in H))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?N[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...W),this._logHandler(this,H.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...W),this._logHandler(this,H.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,H.INFO,...W),this._logHandler(this,H.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,H.WARN,...W),this._logHandler(this,H.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...W),this._logHandler(this,H.ERROR,...W)}}function De(j){d.forEach(W=>{W.setLogLevel(j)})}function pe(j,W){for(const ne of d){let Ve=null;W&&W.level&&(Ve=N[W.level]),ne.userLogHandler=null===j?null:(Ae,Ke,...Re)=>{const Qe=Re.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");Ke>=(Ve??Ae.logLevel)&&j({level:H[Ke].toLowerCase(),message:Qe,args:Re,type:Ae.name})}}}},1878:(pt,xe,P)=>{P.d(xe,{X3:()=>ht});var d=P(5861);const H=(de,Le)=>Le.some(Je=>de instanceof Je);let N,X;const we=new WeakMap,De=new WeakMap,pe=new WeakMap,j=new WeakMap,W=new WeakMap;let Ae={get(de,Le,Je){if(de instanceof IDBTransaction){if("done"===Le)return De.get(de);if("objectStoreNames"===Le)return de.objectStoreNames||pe.get(de);if("store"===Le)return Je.objectStoreNames[1]?void 0:Je.objectStore(Je.objectStoreNames[0])}return Ne(de[Le])},set:(de,Le,Je)=>(de[Le]=Je,!0),has:(de,Le)=>de instanceof IDBTransaction&&("done"===Le||"store"===Le)||Le in de};function Qe(de){return"function"==typeof de?function Re(de){return de!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ce(){return X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(de)?function(...Le){return de.apply(bt(this),Le),Ne(we.get(this))}:function(...Le){return Ne(de.apply(bt(this),Le))}:function(Le,...Je){const Nt=de.call(bt(this),Le,...Je);return pe.set(Nt,Le.sort?Le.sort():[Le]),Ne(Nt)}}(de):(de instanceof IDBTransaction&&function Ve(de){if(De.has(de))return;const Le=new Promise((Je,Nt)=>{const ln=()=>{de.removeEventListener("complete",Mn),de.removeEventListener("error",Ln),de.removeEventListener("abort",Ln)},Mn=()=>{Je(),ln()},Ln=()=>{Nt(de.error||new DOMException("AbortError","AbortError")),ln()};de.addEventListener("complete",Mn),de.addEventListener("error",Ln),de.addEventListener("abort",Ln)});De.set(de,Le)}(de),H(de,function oe(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(de,Ae):de)}function Ne(de){if(de instanceof IDBRequest)return function ne(de){const Le=new Promise((Je,Nt)=>{const ln=()=>{de.removeEventListener("success",Mn),de.removeEventListener("error",Ln)},Mn=()=>{Je(Ne(de.result)),ln()},Ln=()=>{Nt(de.error),ln()};de.addEventListener("success",Mn),de.addEventListener("error",Ln)});return Le.then(Je=>{Je instanceof IDBCursor&&we.set(Je,de)}).catch(()=>{}),W.set(Le,de),Le}(de);if(j.has(de))return j.get(de);const Le=Qe(de);return Le!==de&&(j.set(de,Le),W.set(Le,de)),Le}const bt=de=>W.get(de);function ht(de,Le,{blocked:Je,upgrade:Nt,blocking:ln,terminated:Mn}={}){const Ln=indexedDB.open(de,Le),kn=Ne(Ln);return Nt&&Ln.addEventListener("upgradeneeded",Gn=>{Nt(Ne(Ln.result),Gn.oldVersion,Gn.newVersion,Ne(Ln.transaction),Gn)}),Je&&Ln.addEventListener("blocked",Gn=>Je(Gn.oldVersion,Gn.newVersion,Gn)),kn.then(Gn=>{Mn&&Gn.addEventListener("close",()=>Mn()),ln&&Gn.addEventListener("versionchange",ir=>ln(ir.oldVersion,ir.newVersion,ir))}).catch(()=>{}),kn}const Pe=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],Ce=new Map;function Be(de,Le){if(!(de instanceof IDBDatabase)||Le in de||"string"!=typeof Le)return;if(Ce.get(Le))return Ce.get(Le);const Je=Le.replace(/FromIndex$/,""),Nt=Le!==Je,ln=ue.includes(Je);if(!(Je in(Nt?IDBIndex:IDBObjectStore).prototype)||!ln&&!Pe.includes(Je))return;const Mn=function(){var Ln=(0,d.Z)(function*(kn,...Gn){const ir=this.transaction(kn,ln?"readwrite":"readonly");let se=ir.store;return Nt&&(se=se.index(Gn.shift())),(yield Promise.all([se[Je](...Gn),ln&&ir.done]))[0]});return function(Gn){return Ln.apply(this,arguments)}}();return Ce.set(Le,Mn),Mn}!function Ke(de){Ae=de(Ae)}(de=>({...de,get:(Le,Je,Nt)=>Be(Le,Je)||de.get(Le,Je,Nt),has:(Le,Je)=>!!Be(Le,Je)||de.has(Le,Je)}))},5861:(pt,xe,P)=>{function d(N,X,oe,ce,we,De,pe){try{var j=N[De](pe),W=j.value}catch(ne){return void oe(ne)}j.done?X(W):Promise.resolve(W).then(ce,we)}function H(N){return function(){var X=this,oe=arguments;return new Promise(function(ce,we){var De=N.apply(X,oe);function pe(W){d(De,ce,we,pe,j,"next",W)}function j(W){d(De,ce,we,pe,j,"throw",W)}pe(void 0)})}}P.d(xe,{Z:()=>H})},7582:(pt,xe,P)=>{function ne(se,me,ge,be){return new(ge||(ge=Promise))(function(ze,et){function ct(Vt){try{Tt(be.next(Vt))}catch(rt){et(rt)}}function Wn(Vt){try{Tt(be.throw(Vt))}catch(rt){et(rt)}}function Tt(Vt){Vt.done?ze(Vt.value):function Ue(ze){return ze instanceof ge?ze:new ge(function(et){et(ze)})}(Vt.value).then(ct,Wn)}Tt((be=be.apply(se,me||[])).next())})}function le(se){return this instanceof le?(this.v=se,this):new le(se)}function Pe(se,me,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,be=ge.apply(se,me||[]),ze=[];return Ue={},et("next"),et("throw"),et("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function et(bn){be[bn]&&(Ue[bn]=function(wn){return new Promise(function(Rn,Te){ze.push([bn,wn,Rn,Te])>1||ct(bn,wn)})})}function ct(bn,wn){try{!function Wn(bn){bn.value instanceof le?Promise.resolve(bn.value.v).then(Tt,Vt):rt(ze[0][2],bn)}(be[bn](wn))}catch(Rn){rt(ze[0][3],Rn)}}function Tt(bn){ct("next",bn)}function Vt(bn){ct("throw",bn)}function rt(bn,wn){bn(wn),ze.shift(),ze.length&&ct(ze[0][0],ze[0][1])}}function Ce(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,me=se[Symbol.asyncIterator];return me?me.call(se):(se=function Re(se){var me="function"==typeof Symbol&&Symbol.iterator,ge=me&&se[me],be=0;if(ge)return ge.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&be>=se.length&&(se=void 0),{value:se&&se[be++],done:!se}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),ge={},be("next"),be("throw"),be("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function be(ze){ge[ze]=se[ze]&&function(et){return new Promise(function(ct,Wn){!function Ue(ze,et,ct,Wn){Promise.resolve(Wn).then(function(Tt){ze({value:Tt,done:ct})},et)}(ct,Wn,(et=se[ze](et)).done,et.value)})}}}P.d(xe,{FC:()=>Pe,KL:()=>Ce,mG:()=>ne,qq:()=>le}),"function"==typeof SuppressedError&&SuppressedError}},pt=>{pt(pt.s=2714)}]);